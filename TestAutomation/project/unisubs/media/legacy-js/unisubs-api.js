/*! jQuery v1.9.1 | (c) 2005, 2012 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.AmarajQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r));return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.AmarajQuery===b&&(e.AmarajQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body)return setTimeout(b.ready);b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON: "+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r)b.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===o.readyState)setTimeout(b.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1)u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return!u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t)return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?$:b.isEmptyObject)(o))return}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"AmarajQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++)i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]));b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else r=t}return r}function $(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++])u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get"in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set"in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--)s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),f=l;f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;
return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!d&&!r){if(i=J.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return H.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&T.getByClassName&&t.getElementsByClassName)return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--)l[u]=g+dt(l[u]);m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v)try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return u=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:0;if(o===a)return ut(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t)))try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N)f=l[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=lt(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=ct(n);function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter)!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0)return!0}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--)(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}else y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++)if(n=i.relative[e[u].type])f=[ht(gt(f),n)];else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++)if(i.relative[e[r].type])break;return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,u,c)){f.push(h);break}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++])m(x,y,u,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=L.call(f));y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--)o=vt(t[n]),o[x]?r.push(o):i.push(o);o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type])break;if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e)return H.apply(n,q.call(r,0)),n;break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++)if(b.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ AmarajQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++)(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g))return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++)o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++)o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")));l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)b.event.add(t,n,s[n][r])}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a)r[a]&&Ft(i,r[a]);if(t)if(n)for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++)_t(i,r[a]);else _t(e,o);return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===b.type(o))b.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)
}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++)if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events)for(r in a.events)f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle);l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=b.css(e,n[s],!1,o);return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==b.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x)return N;u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)N.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x))return N.abort();T="abort";for(i in{success:1,error:1,complete:1})N[i](p[i]);if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c)s in r&&(n[c[s]]=r[s]);while("*"===l[0])l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials"in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i)4!==u.readyState&&u.abort();else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,b.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++)if(r=Gn[o].call(l,e,c,l.opts))return r;return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e)if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h)b.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using"in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position"))e=e.offsetParent;return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.AmarajQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.AmarajQuery&&define("jquery",[],function(){return b})})(window);
window.AmarajQuery = $.noConflict();
// Amara, universalsubtitles.org
//
// Copyright (C) 2013 Participatory Culture Foundation
//
// This program is free software: you can redistribute it and/or modify
// it under the terms of the GNU Affero General Public License as
// published by the Free Software Foundation, either version 3 of the
// License, or (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU Affero General Public License for more details.
//
// You should have received a copy of the GNU Affero General Public License
// along with this program.  If not, see
// http://www.gnu.org/licenses/agpl-3.0.html.


var dfxp = (function($) {

function escapeMarkdown(text) {
    /* Escape HTML entities in markdown */
    return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
}

function markdownToHTML(text) {
    /*
     * Convert text to Markdown-style rendered HTML with bold, italic,
     * underline, etc.
     */

    var replacements = [
        { match: /(\*\*)([^\*]+)(\*\*)/g, replaceWith: "<b>$2</b>" },
        { match: /(\*)([^\*]+)(\*{1})/g, replaceWith: "<i>$2</i>" },
        { match: /(_)([^_]+)(_{1})/g, replaceWith: "<u>$2</u>" },
        { match: /(\r\n|\n|\r)/gm, replaceWith: "<br />" },
        { match: / {2}/g, replaceWith: "&nbsp;&nbsp;" }
    ];
    text = escapeMarkdown(text);

    for (var i = 0; i < replacements.length; i++) {
        var match = replacements[i].match;
        var replaceWith = replacements[i].replaceWith;

        text = text.replace(match, replaceWith);
    }

    return text;
};

function markdownToPlaintext(text) {
    /*
     * Convert text to Markdown-style to plain text
     */

    var replacements = [
        { match: /(\*\*)([^\*]+)(\*\*)/g, replaceWith: "$2" },
        { match: /(\*)([^\*]+)(\*{1})/g, replaceWith: "$2" },
        { match: /(_)([^_]+)(_{1})/g, replaceWith: "$2" }
    ];

    for (var i = 0; i < replacements.length; i++) {
        var match = replacements[i].match;
        var replaceWith = replacements[i].replaceWith;

        text = text.replace(match, replaceWith);
    }

    return text;
};

function getDFXPAttr(elt, name) {
    /**
     * Get the value of a DFXP attribute
     *
     * This function tries the official DFXP attribute name, plus a few others
     * to handle non-standard markup.
     *
     * @param elt -- DOM element
     * @param name -- attribute name (without the leading "tts:")
     * @return The node, modified in place
     */
    var attrNameList = [
        // Official DFXP attribute name
        'tts:' + name,
        // handle jquery lowercasing attribute names
        'tts:' + name.toLowerCase(),
        // handle malformed DFXP XML
        name
    ];
    for(var i=0; i < attrNameList.length; i++) {
        var attrName = attrNameList[i];
        if(elt.hasAttribute(attrName)) {
            return elt.getAttribute(attrName);
        }
    }
    return null;
}

function dfxpToMarkdown(node) {
    /**
     *
     * Converts a DFXP <p> tag to our markdowny syntax
     *
     * This function converts the following tags:
     *   <span tts:fontWeight=bold>text</span> -> *text*
     *   <span tts:fontStyle=italic>text</span> -> **text**
     *   <span tts:textDecoration=underline>text</span> -> _text_
     *   <br /> -> \n
     *
     * @param node DOM Node
     * @return markdown string
     */

    if (node === undefined) {
        return node;
    }

    // Array of strings that we will join together to build the new content
    var markdownParts = [];

    // worker function that recursively parses the elements for DFXP tags
    function traverse(node) {
        // Text node
        if(node.nodeType == 3) {
            if(node.nodeValue.trim() != "") {
                markdownParts.push(node.nodeValue);
            }
            return;
        }

        var wrapperText = '';
        if(node.nodeType == 1) {
            // XML Element
            var tagName = node.tagName.toLowerCase();
            if(tagName == 'span') {
                if(getDFXPAttr(node, 'fontWeight') == 'bold') {
                    wrapperText += '**';
                }
                if(getDFXPAttr(node, 'fontStyle') == 'italic') {
                    wrapperText += '*';
                }
                if(getDFXPAttr(node, 'textDecoration') == 'underline') {
                    wrapperText += '_';
                }
            } else if(tagName == 'br') {
                markdownParts.push("\n");
                return;
            }
        }

        if(wrapperText) {
            markdownParts.push(wrapperText);
        }
        for(var i=0; i < node.childNodes.length; i++) {
            traverse(node.childNodes[i]);
        }
        if(wrapperText) {
            markdownParts.push(wrapperText);
        }
    }

    traverse(node);
    return markdownParts.join("");
};

function leftPad(number, width, character) {
    /*
     * Left Pad a number to the given width, with zeros.
     * From: http://stackoverflow.com/a/1267338/22468
     *
     * Returns: string
     */

    character = character || '0';
    width -= number.toString().length;

    if (width > 0) {
        return new Array(width + (/\./.test(number) ? 2 : 1))
                        .join(character) + number;
    }
    return number.toString();
}

function rightPad(number, width, character) {
    /*
     * Right Pad a number to the given width, with zeros.
     * From: http://stackoverflow.com/a/1267338/22468
     *
     * Returns: string
     */

    character = character || '0';
    width -= number.toString().length;

    if (width > 0) {
        return number + new Array(width + (/\./.test(number) ? 2 : 1))
            .join(character);
    }
    return number.toString();
}

var AmaraDFXPParser = function() {
    /*
     * A utility for working with DFXP subs.
     * The front end app needs all timming data to be
     * stored in milliseconds for processing. On `init` we convert
     * time expressions to milliseconds.
     */

    var MARKUP_REPLACE_SEQ = [
        [/(\*\*)([^\*]+)(\*\*)/g, '<span tts:fontWeight="bold">$2</span>'],
        [/(\*)([^\*]+)(\*{1})/g, '<span tts:fontStyle="italic">$2</span>'],
        [/(_)([^_]+)(_{1})/g, '<span tts:textDecoration="underline">$2</span>']
    ];

    var that = this;

    this.init = function(xml) {
        // This second check for xml === null is for a specific IE9 bug.
        if (typeof xml === 'undefined' || xml === null) {
            return;
        }

        if (typeof xml === 'string') {
            xml = $.parseXML(xml);
        }

        // When we get subtitles from the server, they will contain DFXP-style
        // formatting for bold, italic, etc. Convert them back to Markdown.
        var $preXml = $(xml.documentElement);
        var $preSubtitles = $('p', $preXml);
	
        // Convert subtitles from DFXP to Markdown
        $preSubtitles.each(function() {
            var markdown = dfxpToMarkdown(this);
            $(this).text(markdown);
        });

        // Store the original XML for comparison later.
        this.$originalXml = $preXml.clone();

        // Store the working XML for local edits.
        this.$xml = $preXml.clone();

        // Cache the first div.
        this.$firstDiv = $('div:first-child', this.$xml);

        // Convert both subtitle sets to milliseconds.
        this.convertTimes('milliseconds', $('p', this.$originalXml));
        this.convertTimes('milliseconds', $('p', this.$xml));

        return this;
    };

    this.utils = {
        millisecondsToTimeExpression: function(milliseconds) {
            /*
             * Parses milliseconds into a time expression.
             */

            if (milliseconds === -1 || milliseconds === undefined || milliseconds === null) {
                throw Error("Invalid milliseconds to be converted" + milliseconds);
            }
            var time = Math.floor(milliseconds / 1000);
            var hours = ~~(time / 3600);
            var minutes = ~~((time % 3600) / 60);
            var fraction = milliseconds % 1000;
            var seconds = time % 60;
            return leftPad(hours, 2) + ':' +
                leftPad(minutes, 2) + ':' +
                leftPad(seconds, 2) +  '.' +
                leftPad(fraction, 3);
        },
        timeExpressionToMilliseconds: function(timeExpression) {
            /*
             * Converts a time expression into milliseconds.
             * Since we trust the backend has generated this value,
             * we're not being to defensive about parsing, we
             * expect this to be in the HH:MM:SS.FFF form.
             * If number of digits on fraction is less than 3,
             * we right pad them.
             *
             * Returns: int
             */
            var components = timeExpression.match(/([\d]{2}):([\d]{2}):([\d]{2}).([\d]{1,3})/i);
            var millisecondsInHours    = components[1] * (3600 * 1000);
            var millisecondsInMinutes  = components[2] * (60 * 1000);
            var millisecondsInSeconds  = components[3] * (1000);
            var millisecondsInFraction = parseInt(rightPad(components[4], 3), 10);

            return parseInt(millisecondsInHours +
                            millisecondsInMinutes +
                            millisecondsInSeconds +
                            millisecondsInFraction, 10);
        },
        xmlToString: function(xml) {
            /*
             * Convert an XML document to a string.
             *
             * Accepts: document object (XML tree)
             * Returns: string
             */

            var xmlString;

            if (window.XMLSerializer) {
                xmlString = (new XMLSerializer()).serializeToString(xml);
            } else {

                // For older versions of Internet Explorer.
                xmlString = xml.xml;

            }

            // Shield your eyes for the next 20 lines or so.
            //
            // A hacky way of removing the default namespaces that get thrown in
            // from creating elements with jQuery. We can get around this by
            // using document.createElementNS, but when we convert subtitles
            // from Markdown to HTML, we use jQuery to create multiple elements
            // on the fly from a string.
            //
            // TODO: Do something that makes more sense.
            //
            // Update: What in the mother is going on here?
            xmlString = xmlString.replace(/(div|p|span|br) xmlns=\"http:\/\/www\.w3\.org\/1999\/xhtml\"/g, '$1');
            xmlString = xmlString.replace(/(div|p|span|br) xmlns=\"http:\/\/www\.w3\.org\/ns\/ttml\"/g, '$1');
            xmlString = xmlString.replace(/(div|p|span|br) xmlns=\"\"/g, '$1');

            // IE special-casing.
            xmlString = xmlString.replace(/xmlns:NS\d+=\"\" /g, '');
            xmlString = xmlString.replace(/NS\d+:/g, '');

            // If the XML does not have a tts namespace set on the <tt> element, we need to
            // set it specifically. This is an IE9 issue.
            if (xmlString.substring(0).search(/\<tt.*xmlns:tts="http:\/\/www.w3.org\/ns\/ttml#styling" /)) {
                xmlString = xmlString.replace(/\<tt /g, '<tt xmlns:tts="http:\/\/www.w3.org\/ns\/ttml#styling" ');
            }

            // Hey look, more hacks. For some reason, when the XML is spit to a
            // string, the attributes are all lower-cased. Fix them here.
            xmlString = xmlString.replace(/textdecoration/g, 'textDecoration');
            xmlString = xmlString.replace(/fontweight/g, 'fontWeight');
            xmlString = xmlString.replace(/fontstyle/g, 'fontStyle');

            return xmlString;
        }
    };

    this.addSubtitle = function(after, newAttrs, content) {
        /*
         * For adding a new subtitle to this set.
         *
         * If `after` is provided, we'll place the new subtitle directly
         * after that one. Otherwise, we'll place the new subtitle at the
         * beginning or end depending on subtitle count.
         *
         * `newAttrs` is an optional JSON object specifying the attributes to
         * be applied to the new element.
         *
         * `content` is an optional string to set the initial content.
         *
         * Returns: new subtitle element
         */

        if (typeof after !== 'object' || after === null) {

            // If this is a number, get the subtitle by index.
            if (typeof after === 'number' && after !== -1) {

                after = this.getSubtitleByIndex(after);

            } else if (this.subtitlesCount() && after !== -1) {

                // If we have subtitles, default placement should be at the end.
                after = this.getLastSubtitle();

            // Otherwise, place the first subtitle at the beginning.
            } else {

                after = -1;

            }
        }

        // Firefox needs the namespace set explicitly
        var newSubtitle = document.createElementNS('http://www.w3.org/ns/ttml', 'p');

        // Init the default attrs and combine them with the defined newAttrs if
        // required.
        newAttrs = $.extend({
            'begin': '',
            'end': ''
        }, newAttrs);

        var $newSubtitle = $(newSubtitle).attr(newAttrs);

        // Finally, place the new subtitle.
        //
        // If after is -1, we need to place the subtitle at the beginning.
        if (after === -1) {

            // Prepend the new subtitle to the first div.
            this.$firstDiv.prepend($newSubtitle);

        // Otherwise, place it after the designated subtitle.
        } else {

            // First just make sure that the previous subtitle exists.
            var $previousSubtitle = $(after);

            // Then place it.
            $previousSubtitle.after($newSubtitle);
        }

        if (typeof content !== 'undefined') {
            if (content === null) {
                this.content($newSubtitle.get(0), '');
            } else {
                this.content($newSubtitle.get(0), content);
            }
        }

        return $newSubtitle.get(0);
    };
    this.addSubtitleNode = function (newSubtitle, after){
        if (typeof after !== 'number') {

            // If we have subtitles, default placement should be at the end.
            if (this.subtitlesCount()) {
                after = this.getLastSubtitle();

                // Otherwise, place the first subtitle at the beginning.
            } else {
                after = -1;
            }
        }
        if (after === -1) {

            // Prepend the new subtitle to the first div.
            this.$firstDiv.prepend(newSubtitle);

        // Otherwise, place it after the designated subtitle.
        } else {

            // First just make sure that the previous subtitle exists.
            var $previousSubtitle = this.getSubtitleByIndex(after) || $(this.getLastSubtitle());

            // Then place it.
            $previousSubtitle.after(newSubtitle);
        }
    };
    this.changesMade = function() {
        /*
         * Check to see if any changes have been made to the working XML.
         *
         * Returns: true || false
         */

        var originalString = that.utils.xmlToString(that.$originalXml.get(0));
        var xmlString = that.utils.xmlToString(that.$xml.get(0));

        return originalString !== xmlString;
    };
    this.clearAllContent = function() {
        /*
         * Clear all of the content data for every subtitle.
         *
         * Returns: true
         */

        this.getSubtitles().text('');
    };
    this.clearAllTimes = function() {
        /*
         * Clear all of the timing data for every subtitle.
         *
         * Returns: true
         */

        this.getSubtitles().attr({
            'begin': '',
            'end': ''
        });

        return true;
    };
    this.clone = function(preserveText){
        var parser =  new this.constructor();
        parser.init(this.xmlToString(true));
        if (!preserveText){
            $('p', parser.$xml).text('');
        }
        return parser;
    };
    this.cloneSubtitle = function (node, preserveText){
        var $subtitle = $(node).clone();
        if (!preserveText){
            $subtitle.text('');
        }
        return $subtitle;
    };
    this.content = function(node, content) {
        /*
         * Either get or set the HTML content for the subtitle.
         *
         * Returns: current content (string)
         */

        var $subtitle = $(node);

        if (typeof content !== 'undefined') {
            $subtitle.text(content);
        }

        // OK. So, when parsing an XML node, you can't just get the HTML content.
        // We need to retrieve the total contents of the node by using "contents()",
        // but that returns an array of objects, like ['<b>', 'hi', '</b>', '<br />'],
        // etc. So we create a temporary div, and append the array to it, and retrieve
        // the rendered HTML that way. Then remove the temporary div.
        //
        // Reference: http://bit.ly/SwbPeR

        var subtitleContents = $subtitle.contents();

        for (var i = 0; i < subtitleContents.length; i++) {

            // Single newlines in subtitle text nodes will report as two newlines
            // when we use contents().
            //
            if (subtitleContents[i].data === '\n\n') {

                // Set them to single newlines.
                subtitleContents[i].data = '\n';
            }
        }

        return $('<div>').append(subtitleContents.clone()).remove().text();
    };
    this.markdownToHTML = markdownToHTML;
    this.contentRendered = function(node) {
        /*
         * Return the content of the subtitle, rendered with Markdown styles.
         */

        return markdownToHTML(this.content(node));
    };
    this.convertTimes = function(toFormat, $subtitles) {
        /*
         * Convert times to either milliseconds or time expressions
         * in the 'begin' and 'end' attributes, IN PLACE.
         */
        var convertFn = null;
        if (toFormat === 'milliseconds') {
            convertFn = that.utils.timeExpressionToMilliseconds;
        } else if (toFormat === 'timeExpression') {
            convertFn = that.utils.millisecondsToTimeExpression;
        } else {
            throw new Error("Unsupported time conversion " + toFormat);
        }
        for (var i = 0; i < $subtitles.length; i++) {
            var sub, currentStartTime, currentEndTime;
            sub = $subtitles.eq(i);
            currentStartTime = sub.attr('begin');
            currentEndTime = sub.attr('end');
            if (currentStartTime){
                sub.attr('begin', convertFn.call(this, currentStartTime));
            }
            if (currentEndTime){
                sub.attr('end', convertFn.call(this, currentEndTime));
            }
        }
    };
    this.endTime = function(node, endTime) {
        /*
         * Either get or set the end time for the subtitle.
         *
         * Returns: current end time (string)
         */

        if (!node ) {
            return -1;
        }

        if (typeof endTime !== 'undefined') {
            if (endTime >= 0) {
                $(node).attr('end', endTime);
            } else {
                $(node).attr('end', '');
            }
        }

        var val =  parseInt(node.getAttribute('end'), 10);

        return isNaN(val) ? -1 : val;
    };
    this.getFirstSubtitle = function() {
        /*
         * Retrieve the first subtitle in this set.
         *
         * Returns: first subtitle element
         */

        return this.getSubtitles().first().get(0);
    };
    this.getLastSubtitle = function() {
        /*
         * Retrieve the last subtitle in this set.
         *
         * Returns: subtitle element or empty array
         */

        return this.getSubtitles().last().get(0);
    };
    this.getNextSubtitle = function(node) {
        /*
         * Retrieve the subtitle that follows the given subtitle.
         *
         * Returns: subtitle element or null
         */

        var $subtitle = $(node);
        var $nextSubtitle = $subtitle.next();

        return $nextSubtitle.length > 0 ? $nextSubtitle.get(0) : null;
    };
    this.getNonBlankSubtitles = function() {
        /*
         * Retrieve all of the subtitles that have content.
         *
         * Returns: jQuery selection of elements
         */

        return this.getSubtitles().filter(function() {
            return $(this).text() !== '';
        });
    };
    this.getPreviousSubtitle = function(node) {
        /*
         * Retrieve the subtitle that precedes the given subtitle.
         *
         * Returns: subtitle element
         */

        var $subtitle = $(node);
        var $prevSubtitle = $subtitle.prev();

        return $prevSubtitle.length > 0 ? $prevSubtitle.get(0) : null;
    };
    this.getSubtitleByIndex = function(index) {
        /*
         * Return the subtitle node by the given index.
         *
         * Returns: node
         */

        return this.getSubtitles().eq(index).get(0);
    };
    this.getSubtitleIndex = function(subtitle, subtitles) {
        /*
         * Retrieve the index of the given subtitle within the given subtitle s
         *
         * Returns: integer
         */
        subtitles = subtitles || this.getSubtitles();
        return $(subtitles).index(subtitle);
    };
    this.getSubtitles = function() {
        /*
         * Retrieve the current set of subtitles.
         *
         * Returns: jQuery selection of nodes
         */

        return $('p', this.$xml);
    };
    this.isShownAt = function(node, time) {
        /*
         * Determine whether the given subtitle should be displayed
         * at the given time.
         *
         * Returns: true || false
         */

        return (time >= this.startTime(node) &&
                time <= this.endTime(node)) ||
            (time >= this.startTime(node) &&
                this.endTime(node) == -1);
    };
    this.markdownToDFXP = function(input) {
        /**
         * This is *not* a parser. Just a quick hack to convert
         * or markdowny syntax emphasys and strong syntax to
         * the correct dfxp span elements.
         *
         * Please note that when you use jQuery to create elements on the fly,
         * with attributes, jQuery flattens the casing of attributes so that all
         * attributes (such as fontWeight) get lower-cased (fontweight). This
         * sucks.
         */
        if (input === undefined){
            return input;
        }
        input = escapeMarkdown(input);
        for (var i = 0; i < MARKUP_REPLACE_SEQ.length; i ++){
            input = input.replace(MARKUP_REPLACE_SEQ[i][0],
                MARKUP_REPLACE_SEQ[i][1]);
        }
        input = input.replace(RegExp("\n", "g"), '<br/>');
        return input;
    };
    this.needsAnySynced = function() {
        /*
         * Determine whether any of the subtitles in the set need
         * to be synced.
         *
         * Returns: true || false
         */

        var $subtitles = this.getSubtitles();

        for (var i = 0; i < $subtitles.length; i++) {
            var $subtitle = $subtitles.eq(i);

            var startTime = $subtitle.attr('begin');
            var endTime = $subtitle.attr('end');

            // If start time is empty, it always needs to be synced.
            if (startTime === '') {
                return true;
            }

            // If the end time is empty and this is not the last subtitle,
            // it needs to be synced.
            if (endTime === '' && ($subtitle.get(0) !== this.getLastSubtitle())) {
                return true;
            }

        }

        // Otherwise, we're good.
        return false;
    };
    this.needsAnyTranscribed = function($subtitles) {
        /*
         * Check all of the subtitles for empty content.
         *
         * Returns: true || false
         */

        if (!$subtitles) {
            $subtitles = this.getSubtitles();
        }

        for (var i = 0; i < $subtitles.length; i++) {

            var $subtitle = $subtitles.eq(i);

            if ($subtitle.text() === '') {
                return true;
            }
        }

        return false;
    };
    this.needsSyncing = function(node) {
        /*
         * Given the zero-index or the element of the subtitle to be
         * checked, determine whether the subtitle needs to be synced.
         *
         * In most cases, if a subtitle has either no start time,
         * or no end time, it needs to be synced. However, if the
         * subtitle is the last in the list, the end time may be
         * omitted.
         *
         * Returns: true || false
         */

        var startTime = node.getAttribute('begin');
        var endTime = node.getAttribute('end');

        // If start time is empty, it always needs to be synced.
        if (startTime === '' || startTime === -1) {
            return true;
        }

        // If the end time is empty and this is not the last subtitle,
        // it needs to be synced.
        if ((endTime === '' || endTime === -1) && (node !== this.getLastSubtitle())) {
            return true;
        }

        // Otherwise, we're good.
        return false;
    };
    this.originalContent = function(node, content) {
        /*
         * Either get or set the original HTML content for the subtitle.
         *
         * Returns: current original content (string)
         */

        if (typeof content !== 'undefined') {
            $(node).attr('originalcontent', content);
        }

        return node.getAttribute('originalcontent');
    };
    this.originalEndTime = function(node, originalEndTime) {
        /*
         * Either get or set the original end time for the subtitle.
         *
         * Returns: current original end time (string)
         */

        if (typeof originalEndTime !== 'undefined') {
            if (parseInt(originalEndTime, 10)) {
                $(node).attr('originalend', originalEndTime);
            } else {
                $(node).attr('originalend', '');
            }
        }

        return node.getAttribute('originalend');
    };
    this.originalStartTime = function(node, originalStartTime) {
        /*
         * Either get or set the original start time for the subtitle.
         *
         * Returns: current original start time (string)
         */

        if (typeof originalStartTime !== 'undefined') {
            if (parseInt(originalStartTime, 10)) {
                $(node).attr('originalbegin', originalStartTime);
            } else {
                $(node).attr('originalbegin', '');
            }
        }

        return node.getAttribute('originalbegin');
    };
    this.originalXmlToString = function() {
        return this.utils.xmlToString(this.$originalXml.get(0));
    };
    this.removeSubtitle = function(node) {
        /*
         * Remove a subtitle.
         *
         * Returns: true
         */

        var $subtitle = $(node);
        var $subtitleParent = $subtitle.parent();

        // If the parent div has only one child, remove the parent div along with this
        // subtitle.
        if ($subtitleParent.children('p').length === 1) {

            // If the parent div is the first div, only remove the subtitle.
            if ($subtitleParent.get(0) === this.$firstDiv.get(0)) {
                $subtitle.remove();

            // Otherwise, remove the parent.
            } else {
                $subtitleParent.remove();
            }

        // Otherwise, there are other subtitles in this parent div. Only remove the subtitle.
        } else {
            $subtitle.remove();
        }

        return true;
    };
    this.removeSubtitles = function() {
        /*
         * Remove all subtitles from the working set.
         *
         * Returns: true
         */

        // Remove everything inside the body.
        $('body > *', this.$xml).remove();

        // Create a new original container for new subs.
        var newDiv = document.createElementNS('http://www.w3.org/ns/ttml', 'div');
        $('body', this.$xml).append(newDiv);

        this.$firstDiv = $(newDiv);


        return true;
    };
    this.resetSubtitles = function() {
        /*
         * For each subtitle, if the content is empty, delete the subtitle.
         * Otherwise, just reset the text and the start/end times.
         *
         * Returns: true
         */

        this.$xml = this.$originalXml.clone();
        // Cache the first div.
        this.$firstDiv = $('div:first-child', this.$xml);
        return true;
    };
    this.startOfParagraph = function(node, startOfParagraph) {
        /*
         * Either get or set the startofparagraph for the subtitle.
         *
         * A <div> element marks the start of a new paragraph,
         * therefore all first subtitles are start of paragraphs.
         * When we want to set it to true, we wrap that <p> inside
         * a <div> (checking that we're not already a first paragraph ).
         *
         * Returns: current state of startofparagraph (boolean)
         */

        var $subtitle = $(node);

        // If startOrParagraph was passed, we need to do something.
        //
        // Otherwise, we'll just return the current state.
        if (typeof startOfParagraph !== 'undefined') {

            if (startOfParagraph) {
                // This subtitle should now indicate that it is the start of a paragraph.

                // If the subtitle is not the first child, then we need to
                // close the previous div, and open a new div before this subtitle.
                if (!$subtitle.is(':first-child')) {

                    // Get the next siblings after this subtitle. We'll need to move them
                    // into our containing div later.
                    var $allNextSiblings = $subtitle.nextAll();

                    // Get the parent containing div of this subtitle. We'll need to move
                    // the new group of subtitles after the parent.
                    var $parentDiv = $subtitle.parent('div');

                    // Wrap the subtitle in a div.
                    $subtitle.wrap('<div>');

                    // Get the newly created div.
                    var $newDiv = $subtitle.parent('div');

                    // Append the siblings to the new div.
                    $newDiv.append($allNextSiblings);

                    // Move the new containing div after the original parent div.
                    $parentDiv.after($newDiv);
                }

            // startOfParagraph is false. Check to see if this is a valid subtitle to unmark
            // as a start of a paragraph. We can't unmark any non-first-children, or if the
            // subtitle is the first-child of the first div.
            } else if ($subtitle.is(':first-child') && $subtitle.parent().get(0) !== this.$firstDiv.get(0)) {
                // This subtitle should no longer indicate that it is the start of a paragraph.

                // Get the current div that we'll be removing.
                var $currentDiv = $subtitle.parent();

                // Get previous div.
                var $previousDiv = $currentDiv.prev();

                // Get all of the subtitles inside of this subtitle's containing div.
                var $subtitlesInDiv = $subtitle.parent().children('p');

                // Move the subtitles in the current div to the previous div.
                $previousDiv.append($subtitlesInDiv);

                // Remove the current div.
                $currentDiv.remove();
            }
        }

        return $subtitle.is(':first-child');
    };
    this.startTime = function(node, startTime) {
        /*
         * Either get or set the start time for the subtitle.
         *
         * Returns: current start time (string)
         */

        if (!node) {
            return -1;
        }

        if (typeof startTime !== 'undefined') {
            if (startTime >= 0) {
                $(node).attr('begin', startTime);
            } else {
                $(node).attr('begin', '');
            }
        }

        var val =  parseInt(node.getAttribute('begin'), 10);

        return isNaN(val) ? -1 : val;
    };
    this.startTimeDisplay = function(node) {
        /*
         * Display the start time in either seconds or time expression, depending on
         * how large it is.
         */

        if (this.startTime(node) > 60000) {

            var timeExp = this.startTimeInTimeExpression(node).replace(',', '.');
            var timeExpParts = timeExp.split(':');

            var hours = timeExpParts[0];
            var minutes = timeExpParts[1];
            var seconds = timeExpParts[2];

            if (hours === '00') {

                if (minutes === '00') {
                    return seconds;
                }

                minutes = parseInt(minutes, 10);

                return [ minutes, seconds ].join(':');
            }

            hours = parseInt(hours, 10);

            return [ hours, minutes, seconds ].join(':');

        } else {
            return this.startTimeInSeconds(node);
        }
    };
    this.startTimeInSeconds = function(node) {
        return parseFloat(this.startTime(node) / 1000).toFixed(3);
    };
    this.startTimeInTimeExpression = function(node) {
        return this.utils.millisecondsToTimeExpression.call(this, this.startTime(node));
    };
    this.subtitlesCount = function() {
        /*
         * Retrieve the current number of subtitles.
         *
         * Returns: integer
         */

        return this.getSubtitles().length;
    };
    this.xmlToString = function(convertToTimeExpression, convertMarkdownToDFXP) {
        /*
         * Parse the working XML to a string.
         *
         * If `convertToTimeExpression` is specified, we convert current
         * `begin` and `end` attrubutes from the working format (milliseconds)
         * to time expressins, otherwise, output what we've got
         *
         * If `convertMarkdownToDFXP` is specified, we convert each subtitle
         * text from markdown-type strings to parsed DFXP.
         *
         * Returns: string
         */

        // Create a cloned set of XML, so we don't modify the original.
        var $cloned = this.$xml.clone();

        // If we need to convert Markdown to DFXP, do it here.
        if (convertMarkdownToDFXP) {
            var $subtitles = $('p', $cloned);

            for (var i = 0; i < $subtitles.length; i++) {
                var $subtitle = $subtitles.eq(i);
                var markdown = $subtitle.text();
                var convertedText = this.markdownToDFXP(markdown);

                // If the converted text is different from the subtitle text, it
                // means we were able to convert some Markdown to DFXP.
                if (convertedText !== escapeMarkdown(markdown)) {

                    // Create a new object with this new converted DOM
                    // structure.
                    //
                    // It's a bit tricky to add convertedText to our subtitle
                    // <p> element, since it can contain text and/or HTML
                    // elements.  parseHTML seems to be the best way to do it.
                    $subtitle.empty();
                    $subtitle.append($.parseHTML(convertedText));
                }
            }
        }

        // Since our back-end is expecting time expressions, we may need to convert
        // the working XML's times to time expressions.
        if (convertToTimeExpression) {
            this.convertTimes('timeExpression', $('p', $cloned));
        }

        return this.utils.xmlToString($cloned.get(0));
    };

};

return {
    AmaraDFXPParser: AmaraDFXPParser,
    markdownToHTML: markdownToHTML,
    markdownToPlaintext: markdownToPlaintext,
    dfxpToMarkdown: dfxpToMarkdown
}

})(window.AmarajQuery || window.jQuery);

/* Set window.AmaraDFXPParser for compatibility with the old editor */
window.AmaraDFXPParser = dfxp.AmaraDFXPParser;
/*	SWFObject v2.2 <http://code.google.com/p/swfobject/> 
	is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=false,U=[h],o=[],N=[],I=[],l,Q,E,B,J=false,a=false,n,G,m=true,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=/webkit/.test(ah)?parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,X=!+"\v1",ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r){ab=t.plugins[S].description;if(ab&&!(typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin)){T=true;X=false;ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10);ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10);ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof O.ActiveXObject!=D){try{var ad=new ActiveXObject(W);if(ad){ab=ad.GetVariable("$version");if(ab){X=true;ab=ab.split(" ")[1].split(",");ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}}catch(Z){}}}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}(),k=function(){if(!M.w3){return}if((typeof j.readyState!=D&&j.readyState=="complete")||(typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))){f()}if(!J){if(typeof j.addEventListener!=D){j.addEventListener("DOMContentLoaded",f,false)}if(M.ie&&M.win){j.attachEvent(x,function(){if(j.readyState=="complete"){j.detachEvent(x,arguments.callee);f()}});if(O==top){(function(){if(J){return}try{j.documentElement.doScroll("left")}catch(X){setTimeout(arguments.callee,0);return}f()})()}}if(M.wk){(function(){if(J){return}if(!/loaded|complete/.test(j.readyState)){setTimeout(arguments.callee,0);return}f()})()}s(f)}}();function f(){if(J){return}try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=true;var X=U.length;for(var Y=0;Y<X;Y++){U[Y]()}}function K(X){if(J){X()}else{U[U.length]=X}}function s(Y){if(typeof O.addEventListener!=D){O.addEventListener("load",Y,false)}else{if(typeof j.addEventListener!=D){j.addEventListener("load",Y,false)}else{if(typeof O.attachEvent!=D){i(O,"onload",Y)}else{if(typeof O.onload=="function"){var X=O.onload;O.onload=function(){X();Y()}}else{O.onload=Y}}}}}function h(){if(T){V()}else{H()}}function V(){var X=j.getElementsByTagName("body")[0];var aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;(function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");if(ab){ab=ab.split(" ")[1].split(",");M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]}}else{if(Y<10){Y++;setTimeout(arguments.callee,10);return}}X.removeChild(aa);Z=null;H()})()}else{H()}}function H(){var ag=o.length;if(ag>0){for(var af=0;af<ag;af++){var Y=o[af].id;var ab=o[af].callbackFn;var aa={success:false,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae){if(F(o[af].swfVersion)&&!(M.wk&&M.wk<312)){w(Y,true);if(ab){aa.success=true;aa.ref=z(Y);ab(aa)}}else{if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall;ai.width=ae.getAttribute("width")||"0";ai.height=ae.getAttribute("height")||"0";if(ae.getAttribute("class")){ai.styleclass=ae.getAttribute("class")}if(ae.getAttribute("align")){ai.align=ae.getAttribute("align")}var ah={};var X=ae.getElementsByTagName("param");var ac=X.length;for(var ad=0;ad<ac;ad++){if(X[ad].getAttribute("name").toLowerCase()!="movie"){ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value")}}P(ai,ah,Y,ab)}else{p(ae);if(ab){ab(aa)}}}}}else{w(Y,true);if(ab){var Z=z(Y);if(Z&&typeof Z.SetVariable!=D){aa.success=true;aa.ref=Z}ab(aa)}}}}}function z(aa){var X=null;var Y=c(aa);if(Y&&Y.nodeName=="OBJECT"){if(typeof Y.SetVariable!=D){X=Y}else{var Z=Y.getElementsByTagName(r)[0];if(Z){X=Z}}}return X}function A(){return !a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=true;E=Z||null;B={success:false,id:X};var ae=c(X);if(ae){if(ae.nodeName=="OBJECT"){l=g(ae);Q=null}else{l=ae;Q=X}aa.id=R;if(typeof aa.width==D||(!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)){aa.width="310"}if(typeof aa.height==D||(!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)){aa.height="137"}j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D){ab.flashvars+="&"+ac}else{ab.flashvars=ac}if(M.ie&&M.win&&ae.readyState!=4){var Y=C("div");X+="SWFObjectNew";Y.setAttribute("id",X);ae.parentNode.insertBefore(Y,ae);ae.style.display="none";(function(){if(ae.readyState==4){ae.parentNode.removeChild(ae)}else{setTimeout(arguments.callee,10)}})()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&Y.readyState!=4){var X=C("div");Y.parentNode.insertBefore(X,Y);X.parentNode.replaceChild(g(Y),X);Y.style.display="none";(function(){if(Y.readyState==4){Y.parentNode.removeChild(Y)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.replaceChild(g(Y),Y)}}function g(ab){var aa=C("div");if(M.win&&M.ie){aa.innerHTML=ab.innerHTML}else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad){var X=ad.length;for(var Z=0;Z<X;Z++){if(!(ad[Z].nodeType==1&&ad[Z].nodeName=="PARAM")&&!(ad[Z].nodeType==8)){aa.appendChild(ad[Z].cloneNode(true))}}}}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312){return X}if(aa){if(typeof ai.id==D){ai.id=Y}if(M.ie&&M.win)
{var ah="";for(var ae in ai){if(ai[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="data"){ag.movie=ai[ae]}else{if(ae.toLowerCase()=="styleclass"){ah+=' class="'+ai[ae]+'"'}else{if(ae.toLowerCase()!="classid"){ah+=" "+ae+'="'+ai[ae]+'"'}}}}}var af="";for(var ad in ag){if(ag[ad]!=Object.prototype[ad]){af+='<param name="'+ad+'" value="'+ag[ad]+'" />'}}aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>";N[N.length]=ai.id;X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai){if(ai[ac]!=Object.prototype[ac]){if(ac.toLowerCase()=="styleclass"){Z.setAttribute("class",ai[ac])}else{if(ac.toLowerCase()!="classid"){Z.setAttribute(ac,ai[ac])}}}}for(var ab in ag){if(ag[ab]!=Object.prototype[ab]&&ab.toLowerCase()!="movie"){e(Z,ab,ag[ab])}}aa.parentNode.replaceChild(Z,aa);X=Z}}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X);aa.setAttribute("value",Y);Z.appendChild(aa)}function y(Y){var X=c(Y);if(X&&X.nodeName=="OBJECT"){if(M.ie&&M.win){X.style.display="none";(function(){if(X.readyState==4){b(Y)}else{setTimeout(arguments.callee,10)}})()}else{X.parentNode.removeChild(X)}}}function b(Z){var Y=c(Z);if(Y){for(var X in Y){if(typeof Y[X]=="function"){Y[X]=null}}Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y);I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");X[0]=parseInt(X[0],10);X[1]=parseInt(X[1],10)||0;X[2]=parseInt(X[2],10)||0;return(Y[0]>X[0]||(Y[0]==X[0]&&Y[1]>X[1])||(Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]))?true:false}function v(ac,Y,ad,ab){if(M.ie&&M.mac){return}var aa=j.getElementsByTagName("head")[0];if(!aa){return}var X=(ad&&typeof ad=="string")?ad:"screen";if(ab){n=null;G=null}if(!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css");Z.setAttribute("media",X);n=aa.appendChild(Z);if(M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0){n=j.styleSheets[j.styleSheets.length-1]}G=X}if(M.ie&&M.win){if(n&&typeof n.addRule==r){}}else{if(n&&typeof j.createTextNode!=D){n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(!m){return}var Y=X?"visible":"hidden";if(J&&c(Z)){c(Z).style.visibility=Y}else{v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/;var X=Z.exec(Y)!=null;return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var d=function(){if(M.ie&&M.win){window.attachEvent("onunload",function(){var ac=I.length;for(var ab=0;ab<ac;ab++){I[ab][0].detachEvent(I[ab][1],I[ab][2])}var Z=N.length;for(var aa=0;aa<Z;aa++){y(N[aa])}for(var Y in M){M[Y]=null}M=null;for(var X in swfobject){swfobject[X]=null}swfobject=null})}}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab;Y.swfVersion=X;Y.expressInstall=aa;Y.callbackFn=Z;o[o.length]=Y;w(ab,false)}else{if(Z){Z({success:false,id:ab})}}},getObjectById:function(X){if(M.w3){return z(X)}},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:false,id:ah};if(M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y){w(ah,false);K(function(){ae+="";ag+="";var aj={};if(af&&typeof af===r){for(var al in af){aj[al]=af[al]}}aj.data=ab;aj.width=ae;aj.height=ag;var am={};if(ad&&typeof ad===r){for(var ak in ad){am[ak]=ad[ak]}}if(Z&&typeof Z===r){for(var ai in Z){if(typeof am.flashvars!=D){am.flashvars+="&"+ai+"="+Z[ai]}else{am.flashvars=ai+"="+Z[ai]}}}if(F(Y)){var an=u(aj,am,ah);if(aj.id==ah){w(ah,true)}X.success=true;X.ref=an}else{if(aa&&A()){aj.data=aa;P(aj,am,ah,ac);return}else{w(ah,true)}}if(ac){ac(X)}})}else{if(ac){ac(X)}}},switchOffAutoHideShow:function(){m=false},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){if(M.w3){return u(Z,Y,X)}else{return undefined}},showExpressInstall:function(Z,aa,X,Y){if(M.w3&&A()){P(Z,aa,X,Y)}},removeSWF:function(X){if(M.w3){y(X)}},createCSS:function(aa,Z,Y,X){if(M.w3){v(aa,Z,Y,X)}},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)){Z=Z.split("?")[1]}if(aa==null){return L(Z)}var Y=Z.split("&");for(var X=0;X<Y.length;X++){if(Y[X].substring(0,Y[X].indexOf("="))==aa){return L(Y[X].substring((Y[X].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var X=c(R);if(X&&l){X.parentNode.replaceChild(l,X);if(Q){w(Q,true);if(M.ie&&M.win){l.style.display="block"}}if(E){E(B)}}a=false}}}}();
/*
 * flowplayer.js The Flowplayer API
 *
 * Copyright 2009-2011 Flowplayer Oy
 *
 * This file is part of Flowplayer.
 *
 * Flowplayer is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * Flowplayer is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with Flowplayer.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
!function(){function h(p){console.log("$f.fireEvent",[].slice.call(p))}function l(r){if(!r||typeof r!="object"){return r}var p=new r.constructor();for(var q in r){if(r.hasOwnProperty(q)){p[q]=l(r[q])}}return p}function n(u,r){if(!u){return}var p,q=0,s=u.length;if(s===undefined){for(p in u){if(r.call(u[p],p,u[p])===false){break}}}else{for(var t=u[0];q<s&&r.call(t,q,t)!==false;t=u[++q]){}}return u}function c(p){return document.getElementById(p)}function j(r,q,p){if(typeof q!="object"){return r}if(r&&q){n(q,function(s,t){if(!p||typeof t!="function"){r[s]=t}})}return r}function o(t){var r=t.indexOf(".");if(r!=-1){var q=t.slice(0,r)||"*";var p=t.slice(r+1,t.length);var s=[];n(document.getElementsByTagName(q),function(){if(this.className&&this.className.indexOf(p)!=-1){s.push(this)}});return s}}function g(p){p=p||window.event;if(p.preventDefault){p.stopPropagation();p.preventDefault()}else{p.returnValue=false;p.cancelBubble=true}return false}function k(r,p,q){r[p]=r[p]||[];r[p].push(q)}function e(p){return p.replace(/&amp;/g,"%26").replace(/&/g,"%26").replace(/=/g,"%3D")}function f(){return"_"+(""+Math.random()).slice(2,10)}var i=function(u,s,t){var r=this,q={},v={};r.index=s;if(typeof u=="string"){u={url:u}}j(this,u,true);n(("Begin*,Start,Pause*,Resume*,Seek*,Stop*,Finish*,LastSecond,Update,BufferFull,BufferEmpty,BufferStop").split(","),function(){var w="on"+this;if(w.indexOf("*")!=-1){w=w.slice(0,w.length-1);var x="onBefore"+w.slice(2);r[x]=function(y){k(v,x,y);return r}}r[w]=function(y){k(v,w,y);return r};if(s==-1){if(r[x]){t[x]=r[x]}if(r[w]){t[w]=r[w]}}});j(this,{onCuepoint:function(y,x){if(arguments.length==1){q.embedded=[null,y];return r}if(typeof y=="number"){y=[y]}var w=f();q[w]=[y,x];if(t.isLoaded()){t._api().fp_addCuepoints(y,s,w)}return r},update:function(x){j(r,x);if(t.isLoaded()){t._api().fp_updateClip(x,s)}var w=t.getConfig();var y=(s==-1)?w.clip:w.playlist[s];j(y,x,true)},_fireEvent:function(w,z,x,B){if(w=="onLoad"){n(q,function(C,D){if(D[0]){t._api().fp_addCuepoints(D[0],s,C)}});return false}B=B||r;if(w=="onCuepoint"){var A=q[z];if(A){return A[1].call(t,B,x)}}if(z&&"onBeforeBegin,onMetaData,onMetaDataChange,onStart,onUpdate,onResume".indexOf(w)!=-1){j(B,z);if(z.metaData){if(!B.duration){B.duration=z.metaData.duration}else{B.fullDuration=z.metaData.duration}}}var y=true;n(v[w],function(){y=this.call(t,B,z,x)});return y}});if(u.onCuepoint){var p=u.onCuepoint;r.onCuepoint.apply(r,typeof p=="function"?[p]:p);delete u.onCuepoint}n(u,function(w,x){if(typeof x=="function"){k(v,w,x);delete u[w]}});if(s==-1){t.onCuepoint=this.onCuepoint}};var m=function(q,s,r,u){var p=this,t={},v=false;if(u){j(t,u)}n(s,function(w,x){if(typeof x=="function"){t[w]=x;delete s[w]}});j(this,{animate:function(z,A,y){if(!z){return p}if(typeof A=="function"){y=A;A=500}if(typeof z=="string"){var x=z;z={};z[x]=A;A=500}if(y){var w=f();t[w]=y}if(A===undefined){A=500}s=r._api().fp_animate(q,z,A,w);return p},css:function(x,y){if(y!==undefined){var w={};w[x]=y;x=w}s=r._api().fp_css(q,x);j(p,s);return p},show:function(){this.display="block";r._api().fp_showPlugin(q);return p},hide:function(){this.display="none";r._api().fp_hidePlugin(q);return p},toggle:function(){this.display=r._api().fp_togglePlugin(q);return p},fadeTo:function(z,y,x){if(typeof y=="function"){x=y;y=500}if(x){var w=f();t[w]=x}this.display=r._api().fp_fadeTo(q,z,y,w);this.opacity=z;return p},fadeIn:function(x,w){return p.fadeTo(1,x,w)},fadeOut:function(x,w){return p.fadeTo(0,x,w)},getName:function(){return q},getPlayer:function(){return r},_fireEvent:function(x,w,y){if(x=="onUpdate"){var A=r._api().fp_getPlugin(q);if(!A){return}j(p,A);delete p.methods;if(!v){n(A.methods,function(){var C=""+this;p[C]=function(){var D=[].slice.call(arguments);var E=r._api().fp_invoke(q,C,D);return E==="undefined"||E===undefined?p:E}});v=true}}var B=t[x];if(B){var z=B.apply(p,w);if(x.slice(0,1)=="_"){delete t[x]}return z}return p}})};function b(r,H,u){var x=this,w=null,E=false,v,t,G=[],z={},y={},F,s,q,D,p,B;j(x,{id:function(){return F},isLoaded:function(){return(w!==null&&w.fp_play!==undefined&&!E)},getParent:function(){return r},hide:function(I){if(I){r.style.height="0px"}if(x.isLoaded()){w.style.height="0px"}return x},show:function(){r.style.height=B+"px";if(x.isLoaded()){w.style.height=p+"px"}return x},isHidden:function(){return x.isLoaded()&&parseInt(w.style.height,10)===0},load:function(K){if(!x.isLoaded()&&x._fireEvent("onBeforeLoad")!==false){var I=function(){if(v&&!flashembed.isSupported(H.version)){r.innerHTML=""}if(K){K.cached=true;k(y,"onLoad",K)}flashembed(r,H,{config:u})};var J=0;n(a,function(){this.unload(function(L){if(++J==a.length){I()}})})}return x},unload:function(K){if(v.replace(/\s/g,"")!==""){if(x._fireEvent("onBeforeUnload")===false){if(K){K(false)}return x}E=true;try{if(w){if(w.fp_isFullscreen()){w.fp_toggleFullscreen()}w.fp_close();x._fireEvent("onUnload")}}catch(I){}var J=function(){w=null;r.innerHTML=v;E=false;if(K){K(true)}};if(/WebKit/i.test(navigator.userAgent)&&!/Chrome/i.test(navigator.userAgent)){setTimeout(J,0)}else{J()}}else{if(K){K(false)}}return x},getClip:function(I){if(I===undefined){I=D}return G[I]},getCommonClip:function(){return t},getPlaylist:function(){return G},getPlugin:function(I){var K=z[I];if(!K&&x.isLoaded()){var J=x._api().fp_getPlugin(I);if(J){K=new m(I,J,x);z[I]=K}}return K},getScreen:function(){return x.getPlugin("screen")},getControls:function(){return x.getPlugin("controls")._fireEvent("onUpdate")},getLogo:function(){try{return x.getPlugin("logo")._fireEvent("onUpdate")}catch(I){}},getPlay:function(){return x.getPlugin("play")._fireEvent("onUpdate")},getConfig:function(I){return I?l(u):u},getFlashParams:function(){return H},loadPlugin:function(L,K,N,M){if(typeof N=="function"){M=N;N={}}var J=M?f():"_";x._api().fp_loadPlugin(L,K,N,J);var I={};I[J]=M;var O=new m(L,null,x,I);z[L]=O;return O},getState:function(){return x.isLoaded()?w.fp_getState():-1},play:function(J,I){var K=function(){if(J!==undefined){x._api().fp_play(J,I)}else{x._api().fp_play()}};if(x.isLoaded()){K()}else{if(E){setTimeout(function(){x.play(J,I)},50)}else{x.load(function(){K()})}}return x},getVersion:function(){var J="flowplayer.js @VERSION";if(x.isLoaded()){var I=w.fp_getVersion();I.push(J);return I}return J},_api:function(){if(!x.isLoaded()){throw"Flowplayer "+x.id()+" not loaded when calling an API method"}return w},setClip:function(I){n(I,function(J,K){if(typeof K=="function"){k(y,J,K);delete I[J]}else{if(J=="onCuepoint"){$f(r).getCommonClip().onCuepoint(I[J][0],I[J][1])}}});x.setPlaylist([I]);return x},getIndex:function(){return q},bufferAnimate:function(I){w.fp_bufferAnimate(I===undefined||I);return x},_swfHeight:function(){return w.clientHeight}});n(("Click*,Load*,Unload*,Keypress*,Volume*,Mute*,Unmute*,PlaylistReplace,ClipAdd,Fullscreen*,FullscreenExit,Error,MouseOver,MouseOut").split(","),function(){var I="on"+this;if(I.indexOf("*")!=-1){I=I.slice(0,I.length-1);var J="onBefore"+I.slice(2);x[J]=function(K){k(y,J,K);return x}}x[I]=function(K){k(y,I,K);return x}});n(("pause,resume,mute,unmute,stop,toggle,seek,getStatus,getVolume,setVolume,getTime,isPaused,isPlaying,startBuffering,stopBuffering,isFullscreen,toggleFullscreen,reset,close,setPlaylist,addClip,playFeed,setKeyboardShortcutsEnabled,isKeyboardShortcutsEnabled").split(","),function(){var I=this;x[I]=function(K,J){if(!x.isLoaded()){return x}var L=null;if(K!==undefined&&J!==undefined){L=w["fp_"+I](K,J)}else{L=(K===undefined)?w["fp_"+I]():w["fp_"+I](K)}return L==="undefined"||L===undefined?x:L}});x._fireEvent=function(R){if(typeof R=="string"){R=[R]}var S=R[0],P=R[1],N=R[2],M=R[3],L=0;if(u.debug){h(R)}if(!x.isLoaded()&&S=="onLoad"&&P=="player"){w=w||c(s);p=x._swfHeight();n(G,function(){this._fireEvent("onLoad")});n(z,function(T,U){U._fireEvent("onUpdate")});t._fireEvent("onLoad")}if(S=="onLoad"&&P!="player"){return}if(S=="onError"){if(typeof P=="string"||(typeof P=="number"&&typeof N=="number")){P=N;N=M}}if(S=="onContextMenu"){n(u.contextMenu[P],function(T,U){U.call(x)});return}if(S=="onPluginEvent"||S=="onBeforePluginEvent"){var I=P.name||P;var J=z[I];if(J){J._fireEvent("onUpdate",P);return J._fireEvent(N,R.slice(3))}return}if(S=="onPlaylistReplace"){G=[];var O=0;n(P,function(){G.push(new i(this,O++,x))})}if(S=="onClipAdd"){if(P.isInStream){return}P=new i(P,N,x);G.splice(N,0,P);for(L=N+1;L<G.length;L++){G[L].index++}}var Q=true;if(typeof P=="number"&&P<G.length){D=P;var K=G[P];if(K){Q=K._fireEvent(S,N,M)}if(!K||Q!==false){Q=t._fireEvent(S,N,M,K)}}n(y[S],function(){Q=this.call(x,P,N);if(this.cached){y[S].splice(L,1)}if(Q===false){return false}L++});return Q};function C(){if($f(r)){$f(r).getParent().innerHTML="";q=$f(r).getIndex();a[q]=x}else{a.push(x);q=a.length-1}B=parseInt(r.style.height,10)||r.clientHeight;F=r.id||"fp"+f();s=H.id||F+"_api";H.id=s;v=r.innerHTML;if(typeof u=="string"){u={clip:{url:u}}}u.playerId=F;u.clip=u.clip||{};if(r.getAttribute("href",2)&&!u.clip.url){u.clip.url=r.getAttribute("href",2)}if(u.clip.url){u.clip.url=e(u.clip.url)}t=new i(u.clip,-1,x);u.playlist=u.playlist||[u.clip];var J=0;n(u.playlist,function(){var M=this;if(typeof M=="object"&&M.length){M={url:""+M}}if(M.url){M.url=e(M.url)}n(u.clip,function(N,O){if(O!==undefined&&M[N]===undefined&&typeof O!="function"){M[N]=O}});u.playlist[J]=M;M=new i(M,J,x);G.push(M);J++});n(u,function(M,N){if(typeof N=="function"){if(t[M]){t[M](N)}else{k(y,M,N)}delete u[M]}});n(u.plugins,function(M,N){if(N){z[M]=new m(M,N,x)}});if(!u.plugins||u.plugins.controls===undefined){z.controls=new m("controls",null,x)}z.canvas=new m("canvas",null,x);v=r.innerHTML;function L(M){if(/iPad|iPhone|iPod/i.test(navigator.userAgent)&&!/.flv$/i.test(G[0].url)&&!K()){return true}if(!x.isLoaded()&&x._fireEvent("onBeforeClick")!==false){x.load()}return g(M)}function K(){return x.hasiPadSupport&&x.hasiPadSupport()}function I(){if(v.replace(/\s/g,"")!==""){if(r.addEventListener){r.addEventListener("click",L,false)}else{if(r.attachEvent){r.attachEvent("onclick",L)}}}else{if(r.addEventListener&&!K()){r.addEventListener("click",g,false)}x.load()}}setTimeout(I,0)}if(typeof r=="string"){var A=c(r);if(!A){throw"Flowplayer cannot access element: "+r}r=A;C()}else{C()}}var a=[];function d(p){this.length=p.length;this.each=function(r){n(p,r)};this.size=function(){return p.length};var q=this;for(name in b.prototype){q[name]=function(){var r=arguments;q.each(function(){this[name].apply(this,r)})}}}window.flowplayer=window.$f=function(){var q=null;var p=arguments[0];if(!arguments.length){n(a,function(){if(this.isLoaded()){q=this;return false}});return q||a[0]}if(arguments.length==1){if(typeof p=="number"){return a[p]}else{if(p=="*"){return new d(a)}n(a,function(){if(this.id()==p.id||this.id()==p||this.getParent()==p){q=this;return false}});return q}}if(arguments.length>1){var u=arguments[1],r=(arguments.length==3)?arguments[2]:{};if(typeof u=="string"){u={src:u}}u=j({bgcolor:"#000000",version:[10,1],expressInstall:"http://releases.flowplayer.org/swf/expressinstall.swf",cachebusting:false},u);if(typeof p=="string"){if(p.indexOf(".")!=-1){var t=[];n(o(p),function(){t.push(new b(this,l(u),l(r)))});return new d(t)}else{var s=c(p);return new b(s!==null?s:l(p),l(u),l(r))}}else{if(p){return new b(p,l(u),l(r))}}}return null};j(window.$f,{fireEvent:function(){var q=[].slice.call(arguments);var r=$f(q[0]);return r?r._fireEvent(q.slice(1)):null},addPlugin:function(p,q){b.prototype[p]=q;return $f},each:n,extend:j});if(typeof jQuery=="function"){jQuery.fn.flowplayer=function(r,q){if(!arguments.length||typeof arguments[0]=="number"){var p=[];this.each(function(){var s=$f(this);if(s){p.push(s)}});return arguments.length?p[arguments[0]]:new d(p)}return this.each(function(){$f(this,l(r),q?l(q):{})})}}}();!function(){var h=document.all,j="http://get.adobe.com/flashplayer",c=typeof jQuery=="function",e=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,b={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowfullscreen:true,allowscriptaccess:"always",quality:"high",version:[3,0],onFail:null,expressInstall:null,w3c:false,cachebusting:false};if(window.attachEvent){window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})}function i(m,l){if(l){for(var f in l){if(l.hasOwnProperty(f)){m[f]=l[f]}}}return m}function a(f,n){var m=[];for(var l in f){if(f.hasOwnProperty(l)){m[l]=n(f[l])}}return m}window.flashembed=function(f,m,l){if(typeof f=="string"){f=document.getElementById(f.replace("#",""))}if(!f){return}if(typeof m=="string"){m={src:m}}return new d(f,i(i({},b),m),l)};var g=i(window.flashembed,{conf:b,getVersion:function(){var m,f,o;try{o=navigator.plugins["Shockwave Flash"];if(o[0].enabledPlugin!=null){f=o.description.slice(16)}}catch(p){try{m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");f=m&&m.GetVariable("$version")}catch(n){try{m=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");f=m&&m.GetVariable("$version")}catch(l){}}}f=e.exec(f);return f?[1*f[1],1*f[(f[1]*1>9?2:3)]*1]:[0,0]},asString:function(l){if(l===null||l===undefined){return null}var f=typeof l;if(f=="object"&&l.push){f="array"}switch(f){case"string":l=l.replace(new RegExp('(["\\\\])',"g"),"\\$1");l=l.replace(/^\s?(\d+\.?\d*)%/,"$1pct");return'"'+l+'"';case"array":return"["+a(l,function(o){return g.asString(o)}).join(",")+"]";case"function":return'"function()"';case"object":var m=[];for(var n in l){if(l.hasOwnProperty(n)){m.push('"'+n+'":'+g.asString(l[n]))}}return"{"+m.join(",")+"}"}return String(l).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(o,l){o=i({},o);var n='<object width="'+o.width+'" height="'+o.height+'" id="'+o.id+'" name="'+o.id+'"';if(o.cachebusting){o.src+=((o.src.indexOf("?")!=-1?"&":"?")+Math.random())}if(o.w3c||!h){n+=' data="'+o.src+'" type="application/x-shockwave-flash"'}else{n+=' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'}n+=">";if(o.w3c||h){n+='<param name="movie" value="'+o.src+'" />'}o.width=o.height=o.id=o.w3c=o.src=null;o.onFail=o.version=o.expressInstall=null;for(var m in o){if(o[m]){n+='<param name="'+m+'" value="'+o[m]+'" />'}}var p="";if(l){for(var f in l){if(l[f]){var q=l[f];p+=f+"="+(/function|object/.test(typeof q)?g.asString(q):q)+"&"}}p=p.slice(0,-1);n+='<param name="flashvars" value=\''+p+"' />"}n+="</object>";return n},isSupported:function(f){return k[0]>f[0]||k[0]==f[0]&&k[1]>=f[1]}});var k=g.getVersion();function d(f,n,m){if(g.isSupported(n.version)){f.innerHTML=g.getHTML(n,m)}else{if(n.expressInstall&&g.isSupported([6,65])){f.innerHTML=g.getHTML(i(n,{src:n.expressInstall}),{MMredirectURL:encodeURIComponent(location.href),MMplayerType:"PlugIn",MMdoctitle:document.title})}else{if(!f.innerHTML.replace(/\s/g,"")){f.innerHTML="<h2>Flash version "+n.version+" or greater is required</h2><h3>"+(k[0]>0?"Your version is "+k:"You have no flash plugin installed")+"</h3>"+(f.tagName=="A"?"<p>Click here to download latest version</p>":"<p>Download latest version from <a href='"+j+"'>here</a></p>");if(f.tagName=="A"||f.tagName=="DIV"){f.onclick=function(){location.href=j}}}if(n.onFail){var l=n.onFail.call(this);if(typeof l=="string"){f.innerHTML=l}}}}if(h){window[n.id]=document.getElementById(n.id)}i(this,{getRoot:function(){return f},getOptions:function(){return n},getConf:function(){return m},getApi:function(){return f.firstChild}})}if(c){jQuery.tools=jQuery.tools||{version:"@VERSION"};jQuery.tools.flashembed={conf:b};jQuery.fn.flashembed=function(l,f){return this.each(function(){$(this).data("flashembed",flashembed(this,l,f))})}}}();(function(){function e(){return function(){}}function aa(a){return function(b){this[a]=b}}function k(a){return function(){return this[a]}}function l(a){return function(){return a}}var m,ba=ba||{},p=this;function ca(a,b,c){a=a.split(".");c=c||p;!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)if(!a.length&&b!==undefined)c[d]=b;else c=c[d]?c[d]:(c[d]={})}function da(a,b){a=a.split(".");b=b||p;for(var c;c=a.shift();)if(q(b[c]))b=b[c];else return null;return b}
function r(){}function s(){throw Error("unimplemented abstract method");}function ea(a){a.na=function(){return a.dt||(a.dt=new a)}}
function ga(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array)return"array";else if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(c=="[object Window]")return"object";if(c=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(c=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function q(a){return a!=null}function u(a){return ga(a)=="array"}function ia(a){var b=ga(a);return b=="array"||b=="object"&&typeof a.length=="number"}function v(a){return typeof a=="string"}function ja(a){return ga(a)=="function"}function ka(a){a=ga(a);return a=="object"||a=="array"||a=="function"}function la(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),na=0;
function oa(a){return a.call.apply(a.Dn,arguments)}function pa(a,b){if(!a)throw new Error;if(arguments.length>2){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(d,c);return a.apply(b,d)}}else return function(){return a.apply(b,arguments)}}function w(){w=Function.prototype.Dn&&Function.prototype.Dn.toString().indexOf("native code")!=-1?oa:pa;return w.apply(null,arguments)}
function qa(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);c.unshift.apply(c,b);return a.apply(this,c)}}var ra=Date.now||function(){return+new Date};function sa(a,b){b=b||{};for(var c in b){var d=(""+b[c]).replace(/\$/g,"$$$$");a=a.replace(new RegExp("\\{\\$"+c+"\\}","gi"),d)}return a}function y(a,b){function c(){}c.prototype=b.prototype;a.e=b.prototype;a.prototype=new c;a.prototype.constructor=a}
function ta(a,b){var c=a.length-b.length;return c>=0&&a.indexOf(b,c)==c}function ua(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}function va(a){return a.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")}function wa(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function xa(a,b){a=String(a).toLowerCase();b=String(b).toLowerCase();return a<b?-1:a==b?0:1}var ya=/^[a-zA-Z0-9\-_.!~*'()]*$/;
function za(a){a=String(a);if(!ya.test(a))return encodeURIComponent(a);return a}function Aa(a,b){return a.replace(/(\r\n|\r|\n)/g,b?"<br />":"<br>")}function Ba(a,b){if(b)return a.replace(Ca,"&amp;").replace(Da,"&lt;").replace(Ea,"&gt;").replace(Fa,"&quot;");else{if(!Ga.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(Ca,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(Da,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(Ea,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(Fa,"&quot;");return a}}
var Ca=/&/g,Da=/</g,Ea=/>/g,Fa=/\"/g,Ga=/[&<>\"]/;function Ha(a,b){return a.indexOf(b)!=-1}function Ia(a,b,c){a=c!==undefined?a.toFixed(c):String(a);c=a.indexOf(".");if(c==-1)c=a.length;b=Math.max(0,b-c);return(new Array(b+1)).join("0")+a}
function Ja(a,b){var c=0;a=wa(String(a)).split(".");b=wa(String(b)).split(".");for(var d=Math.max(a.length,b.length),f=0;c==0&&f<d;f++){var g=a[f]||"",h=b[f]||"",j=new RegExp("(\\d*)(\\D*)","g"),n=new RegExp("(\\d*)(\\D*)","g");do{var o=j.exec(g)||["","",""],t=n.exec(h)||["","",""];if(o[0].length==0&&t[0].length==0)break;c=o[1].length==0?0:parseInt(o[1],10);var N=t[1].length==0?0:parseInt(t[1],10);c=Ka(c,N)||Ka(o[2].length==0,t[2].length==0)||Ka(o[2],t[2])}while(c==0)}return c}
function Ka(a,b){if(a<b)return-1;else if(a>b)return 1;return 0}var La={};function Ma(a){return La[a]||(La[a]=String(a).replace(/\-([a-z])/g,function(b,c){return c.toUpperCase()}))}var Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua;function Va(){return p.navigator?p.navigator.userAgent:null}function Wa(){return p.navigator}Ra=Qa=Pa=Oa=Na=false;var Xa;if(Xa=Va()){var Ya=Wa();Na=Xa.indexOf("Opera")==0;Oa=!Na&&Xa.indexOf("MSIE")!=-1;Qa=(Pa=!Na&&Xa.indexOf("WebKit")!=-1)&&Xa.indexOf("Mobile")!=-1;Ra=!Na&&!Pa&&Ya.product=="Gecko"}
var Za=Na,z=Oa,$a=Ra,A=Pa,ab=Qa,bb,cb=Wa();bb=cb&&cb.platform||"";Sa=Ha(bb,"Mac");Ta=Ha(bb,"Win");Ua=Ha(bb,"Linux");var eb=!!Wa()&&Ha(Wa().appVersion||"","X11"),fb;
a:{var gb="",hb;if(Za&&p.opera){var ib=p.opera.version;gb=typeof ib=="function"?ib():ib}else{if($a)hb=/rv\:([^\);]+)(\)|;)/;else if(z)hb=/MSIE\s+([^\);]+)(\)|;)/;else if(A)hb=/WebKit\/(\S+)/;if(hb){var jb=hb.exec(Va());gb=jb?jb[1]:""}}if(z){var kb,lb=p.document;kb=lb?lb.documentMode:undefined;if(kb>parseFloat(gb)){fb=String(kb);break a}}fb=gb}var mb={};function nb(a){return mb[a]||(mb[a]=Ja(fb,a)>=0)}var ob={};
function pb(a){return ob[a]||(ob[a]=z&&document.documentMode&&document.documentMode>=a)}var qb;function rb(a,b,c,d,f){if(!z&&!(A&&nb("525")))return true;if(Sa&&f)return sb(a);if(f&&!d)return false;if(!c&&(b==17||b==18))return false;if(z&&d&&b==a)return false;switch(a){case 13:return!(z&&pb(9));case 27:return!A}return sb(a)}
function sb(a){if(a>=48&&a<=57)return true;if(a>=96&&a<=106)return true;if(a>=65&&a<=90)return true;if(A&&a==0)return true;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return true;default:return false}}var tb;function ub(a){this.stack=(new Error).stack||"";if(a)this.message=String(a)}y(ub,Error);ub.prototype.name="CustomError";
function vb(a,b){b.unshift(a);ub.call(this,ua.apply(null,b));b.shift();this.Dw=a}y(vb,ub);vb.prototype.name="AssertionError";var wb=Array.prototype;function xb(a,b,c){c=c==null?0:c<0?Math.max(0,a.length+c):c;if(v(a)){if(!v(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1}function B(a,b,c){for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)}
function yb(a,b,c){for(var d=a.length,f=[],g=0,h=v(a)?a.split(""):a,j=0;j<d;j++)if(j in h){var n=h[j];if(b.call(c,n,j,a))f[g++]=n}return f}function C(a,b,c){for(var d=a.length,f=new Array(d),g=v(a)?a.split(""):a,h=0;h<d;h++)if(h in g)f[h]=b.call(c,g[h],h,a);return f}function zb(a,b,c){for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return true;return false}
function Ab(a,b,c){for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&!b.call(c,f[g],g,a))return false;return true}function Bb(a,b,c){a:{for(var d=a.length,f=v(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a)){b=g;break a}b=-1}return b<0?null:v(a)?a.charAt(b):a[b]}function D(a,b){return xb(a,b)>=0}function Cb(a){return a.length==0}function Db(a,b,c){Eb(a,c,0,b)}function Fb(a,b,c){qa(Eb,a,c,0).apply(null,b)}function Gb(a,b){b=xb(a,b);var c;if(c=b>=0)Hb(a,b);return c}
function Hb(a,b){return wb.splice.call(a,b,1).length==1}function Ib(){return wb.concat.apply(wb,arguments)}function Jb(a){if(u(a))return Ib(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Kb(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;if(u(c)||(d=ia(c))&&c.hasOwnProperty("callee"))a.push.apply(a,c);else if(d)for(var f=a.length,g=c.length,h=0;h<g;h++)a[f+h]=c[h];else a.push(c)}}function Eb(a){return wb.splice.apply(a,Lb(arguments,1))}
function Lb(a,b,c){return arguments.length<=2?wb.slice.call(a,b):wb.slice.call(a,b,c)}function Mb(a,b){b=b||a;for(var c={},d=0,f=0;f<a.length;){var g=a[f++],h=ka(g)?"o"+la(g):(typeof g).charAt(0)+g;if(!Object.prototype.hasOwnProperty.call(c,h)){c[h]=true;b[d++]=g}}b.length=d}function Nb(a,b,c){c=c||Ob;for(var d=0,f=a.length,g;d<f;){var h=d+f>>1,j;j=c(b,a[h]);if(j>0)d=h+1;else{f=h;g=!j}}return g?d:~d}function Pb(a,b){wb.sort.call(a,b||Ob)}function Ob(a,b){return a>b?1:a<b?-1:0}
var Qb=[],Rb=!z||pb(9),Sb=z&&!nb("8");function E(){if(Tb)Ub[la(this)]=this}var Tb=false,Ub={};E.prototype.Wf=false;E.prototype.p=function(){if(!this.Wf){this.Wf=true;this.m();if(Tb){var a=la(this);if(!Ub.hasOwnProperty(a))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete Ub[a]}}};E.prototype.m=function(){this.Nr&&Vb.apply(null,this.Nr)};function Wb(a){a&&typeof a.p=="function"&&a.p()}
function Vb(){for(var a=0,b=arguments.length;a<b;++a){var c=arguments[a];ia(c)?Vb.apply(null,c):Wb(c)}}function Xb(a,b){E.call(this);this.type=a;this.currentTarget=this.target=b}y(Xb,E);m=Xb.prototype;m.m=function(){delete this.type;delete this.target;delete this.currentTarget};m.Zc=false;m.Ae=true;m.stopPropagation=function(){this.Zc=true};m.preventDefault=function(){this.Ae=false};function Yb(a){a.preventDefault()}function Zb(a){Zb[" "](a);return a}Zb[" "]=r;function $b(a,b){a&&this.oc(a,b)}
y($b,Xb);var ac=[1,4,2];m=$b.prototype;m.target=null;m.relatedTarget=null;m.offsetX=0;m.offsetY=0;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.button=0;m.keyCode=0;m.charCode=0;m.ctrlKey=false;m.altKey=false;m.shiftKey=false;m.metaKey=false;m.ru=false;m.Na=null;
m.oc=function(a,b){var c=this.type=a.type;Xb.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if($a){var d;a:{try{Zb(b.nodeName);d=true;break a}catch(f){}d=false}d||(b=null)}}else if(c=="mouseover")b=a.fromElement;else if(c=="mouseout")b=a.toElement;this.relatedTarget=b;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?
a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ru=Sa?a.metaKey:a.ctrlKey;this.pq=a.pq;this.Na=a;delete this.Ae;delete this.Zc};function bc(a){return(Rb?a.Na.button==0:a.type=="click"?true:!!(a.Na.button&ac[0]))&&!(A&&Sa&&a.ctrlKey)}
$b.prototype.stopPropagation=function(){$b.e.stopPropagation.call(this);if(this.Na.stopPropagation)this.Na.stopPropagation();else this.Na.cancelBubble=true};$b.prototype.preventDefault=function(){$b.e.preventDefault.call(this);var a=this.Na;if(a.preventDefault)a.preventDefault();else{a.returnValue=false;if(Sb)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};$b.prototype.ws=k("Na");
$b.prototype.m=function(){$b.e.m.call(this);this.relatedTarget=this.currentTarget=this.target=this.Na=null};function cc(){}var dc=0;m=cc.prototype;m.Wa=0;m.ye=false;m.dk=false;m.oc=function(a,b,c,d,f,g){if(ja(a))this.$o=true;else if(a&&a.handleEvent&&ja(a.handleEvent))this.$o=false;else throw Error("Invalid listener argument");this.cf=a;this.Yp=b;this.src=c;this.type=d;this.capture=!!f;this.gi=g;this.dk=false;this.Wa=++dc;this.ye=false};
m.handleEvent=function(a){if(this.$o)return this.cf.call(this.gi||this.src,a);return this.cf.handleEvent.call(this.cf,a)};function ec(a,b){E.call(this);this.op=b;this.le=[];if(a>this.op)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(b=0;b<a;b++)this.le.push(this.Mc?this.Mc():{})}y(ec,E);ec.prototype.Mc=null;ec.prototype.co=null;function fc(a){if(a.le.length)return a.le.pop();return a.Mc?a.Mc():{}}function gc(a,b){a.le.length<a.op?a.le.push(b):hc(a,b)}
function hc(a,b){if(a.co)a.co(b);else if(ka(b))if(ja(b.p))b.p();else for(var c in b)delete b[c]}ec.prototype.m=function(){ec.e.m.call(this);for(var a=this.le;a.length;)hc(this,a.pop());delete this.le};var ic;var jc=(ic="ScriptEngine"in p&&p.ScriptEngine()=="JScript")?p.ScriptEngineMajorVersion()+"."+p.ScriptEngineMinorVersion()+"."+p.ScriptEngineBuildVersion():"0",kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc;
(function(){function a(){return{R:0,rc:0}}function b(){return[]}function c(){function ha(fa){fa=h.call(ha.src,ha.Wa,fa);if(!fa)return fa}return ha}function d(){return new cc}function f(){return new $b}var g=ic&&!(Ja(jc,"5.7")>=0),h;pc=function(ha){h=ha};if(g){kc=function(){return fc(j)};lc=function(ha){gc(j,ha)};mc=function(){return fc(n)};nc=function(ha){gc(n,ha)};oc=function(){return fc(o)};qc=function(){gc(o,c())};rc=function(){return fc(t)};sc=function(ha){gc(t,ha)};tc=function(){return fc(N)};
uc=function(ha){gc(N,ha)};var j=new ec(0,600);j.Mc=a;var n=new ec(0,600);n.Mc=b;var o=new ec(0,600);o.Mc=c;var t=new ec(0,600);t.Mc=d;var N=new ec(0,600);N.Mc=f}else{kc=a;lc=r;mc=b;nc=r;oc=c;qc=r;rc=d;sc=r;tc=f;uc=r}})();function vc(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function wc(a,b,c){var d={};for(var f in a)if(b.call(c,a[f],f,a))d[f]=a[f];return d}function xc(a){var b=[],c=0;for(var d in a)b[c++]=a[d];return b}function yc(a){var b=[],c=0;for(var d in a)b[c++]=d;return b}
function zc(a){for(var b in a)return false;return true}function Ac(a,b){var c;if(c=b in a)delete a[b];return c}function Bc(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function Cc(a,b,c){if(b in a)return a[b];return c}function Dc(a){var b={};for(var c in a)b[c]=a[c];return b}function Ec(a){var b={};for(var c in a)b[a[c]]=c;return b}var Fc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function Gc(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var f=0;f<Fc.length;f++){b=Fc[f];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}}function Hc(){var a=arguments.length;if(a==1&&u(arguments[0]))return Hc.apply(null,arguments[0]);if(a%2)throw Error("Uneven number of arguments");for(var b={},c=0;c<a;c+=2)b[arguments[c]]=arguments[c+1];return b}var Ic={},Jc={},Kc={},Lc={};
function F(a,b,c,d,f){if(b)if(u(b)){for(var g=0;g<b.length;g++)F(a,b[g],c,d,f);return null}else{d=!!d;var h=Jc;b in h||(h[b]=kc());h=h[b];if(!(d in h)){h[d]=kc();h.R++}h=h[d];var j=la(a),n;h.rc++;if(h[j]){n=h[j];for(g=0;g<n.length;g++){h=n[g];if(h.cf==c&&h.gi==f){if(h.ye)break;return n[g].Wa}}}else{n=h[j]=mc();h.R++}g=oc();g.src=a;h=rc();h.oc(c,g,a,b,d,f);c=h.Wa;g.Wa=c;n.push(h);Ic[c]=h;Kc[j]||(Kc[j]=mc());Kc[j].push(h);if(a.addEventListener){if(a==p||!a.$n)a.addEventListener(b,g,d)}else a.attachEvent(Mc(b),
g);return c}else throw Error("Invalid event type");}function Nc(a,b,c,d,f){if(u(b)){for(var g=0;g<b.length;g++)Nc(a,b[g],c,d,f);return null}a=F(a,b,c,d,f);Ic[a].dk=true;return a}function Oc(a,b,c,d,f){if(u(b)){for(var g=0;g<b.length;g++)Oc(a,b[g],c,d,f);return null}d=!!d;a=Pc(a,b,d);if(!a)return false;for(g=0;g<a.length;g++)if(a[g].cf==c&&a[g].capture==d&&a[g].gi==f)return Qc(a[g].Wa);return false}
function Qc(a){if(!Ic[a])return false;var b=Ic[a];if(b.ye)return false;var c=b.src,d=b.type,f=b.Yp,g=b.capture;if(c.removeEventListener){if(c==p||!c.$n)c.removeEventListener(d,f,g)}else c.detachEvent&&c.detachEvent(Mc(d),f);c=la(c);f=Jc[d][g][c];if(Kc[c]){var h=Kc[c];Gb(h,b);h.length==0&&delete Kc[c]}b.ye=true;f.xp=true;Rc(d,g,c,f);delete Ic[a];return true}
function Rc(a,b,c,d){if(!d.ui)if(d.xp){for(var f=0,g=0;f<d.length;f++)if(d[f].ye){var h=d[f].Yp;h.src=null;qc(h);sc(d[f])}else{if(f!=g)d[g]=d[f];g++}d.length=g;d.xp=false;if(g==0){nc(d);delete Jc[a][b][c];Jc[a][b].R--;if(Jc[a][b].R==0){lc(Jc[a][b]);delete Jc[a][b];Jc[a].R--}if(Jc[a].R==0){lc(Jc[a]);delete Jc[a]}}}}
function Sc(a,b,c){var d=0,f=a==null,g=b==null,h=c==null;c=!!c;if(f)vc(Kc,function(n){for(var o=n.length-1;o>=0;o--){var t=n[o];if((g||b==t.type)&&(h||c==t.capture)){Qc(t.Wa);d++}}});else{a=la(a);if(Kc[a]){a=Kc[a];for(f=a.length-1;f>=0;f--){var j=a[f];if((g||b==j.type)&&(h||c==j.capture)){Qc(j.Wa);d++}}}}return d}function Pc(a,b,c){var d=Jc;if(b in d){d=d[b];if(c in d){d=d[c];a=la(a);if(d[a])return d[a]}}return null}function Mc(a){if(a in Lc)return Lc[a];return Lc[a]="on"+a}
function Tc(a,b,c,d){var f=Jc;if(b in f){f=f[b];if(c in f)return Uc(f[c],a,b,c,d)}return true}function Uc(a,b,c,d,f){var g=1;b=la(b);if(a[b]){a.rc--;a=a[b];if(a.ui)a.ui++;else a.ui=1;try{for(var h=a.length,j=0;j<h;j++){var n=a[j];if(n&&!n.ye)g&=Vc(n,f)!==false}}finally{a.ui--;Rc(c,d,b,a)}}return Boolean(g)}function Vc(a,b){b=a.handleEvent(b);a.dk&&Qc(a.Wa);return b}
function Wc(a,b){var c=b.type||b,d=Jc;if(!(c in d))return true;if(v(b))b=new Xb(b,a);else if(b instanceof Xb)b.target=b.target||a;else{var f=b;b=new Xb(c,a);Gc(b,f)}f=1;var g;d=d[c];c=true in d;var h;if(c){g=[];for(h=a;h;h=h.Hi)g.push(h);h=d[true];h.rc=h.R;for(var j=g.length-1;!b.Zc&&j>=0&&h.rc;j--){b.currentTarget=g[j];f&=Uc(h,g[j],b.type,true,b)&&b.Ae!=false}}if(false in d){h=d[false];h.rc=h.R;if(c)for(j=0;!b.Zc&&j<g.length&&h.rc;j++){b.currentTarget=g[j];f&=Uc(h,g[j],b.type,false,b)&&b.Ae!=false}else for(a=
a;!b.Zc&&a&&h.rc;a=a.Hi){b.currentTarget=a;f&=Uc(h,a,b.type,false,b)&&b.Ae!=false}}return Boolean(f)}
function Xc(a,b){if(!Ic[a])return true;a=Ic[a];var c=a.type,d=Jc;if(!(c in d))return true;d=d[c];var f,g;if(qb===undefined)qb=z&&!p.addEventListener;if(qb){f=b||da("window.event");b=true in d;var h=false in d;if(b){if(f.keyCode<0||f.returnValue!=undefined)return true;a:{var j=false;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(n){j=true}if(j||f.returnValue==undefined)f.returnValue=true}}j=tc();j.oc(f,this);f=true;try{if(b){for(var o=mc(),t=j.currentTarget;t;t=t.parentNode)o.push(t);g=d[true];g.rc=
g.R;for(var N=o.length-1;!j.Zc&&N>=0&&g.rc;N--){j.currentTarget=o[N];f&=Uc(g,o[N],c,true,j)}if(h){g=d[false];g.rc=g.R;for(N=0;!j.Zc&&N<o.length&&g.rc;N++){j.currentTarget=o[N];f&=Uc(g,o[N],c,false,j)}}}else f=Vc(a,j)}finally{if(o){o.length=0;nc(o)}j.p();uc(j)}return f}g=new $b(b,this);try{f=Vc(a,g)}finally{g.p()}return f}pc(Xc);Qb[Qb.length]=function(a){Xc=a(Xc);pc(Xc)};function G(){E.call(this)}y(G,E);m=G.prototype;m.$n=true;m.Hi=null;m.uc=aa("Hi");
m.addEventListener=function(a,b,c,d){F(this,a,b,c,d)};m.removeEventListener=function(a,b,c,d){Oc(this,a,b,c,d)};m.dispatchEvent=function(a){return Wc(this,a)};m.m=function(){G.e.m.call(this);Sc(this);this.Hi=null};function Yc(a,b){E.call(this);a&&this.xn(a,b)}y(Yc,G);m=Yc.prototype;m.q=null;m.ri=null;m.bl=null;m.si=null;m.Gd=-1;m.Fd=-1;
var Zc={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},$c={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},ad={61:187,
59:186},bd=z||A&&nb("525");m=Yc.prototype;m.mg=function(a){if(A&&(this.Gd==17&&!a.ctrlKey||this.Gd==18&&!a.altKey))this.Fd=this.Gd=-1;if(bd&&!rb(a.keyCode,this.Gd,a.shiftKey,a.ctrlKey,a.altKey))this.handleEvent(a);else this.Fd=$a&&a.keyCode in ad?ad[a.keyCode]:a.keyCode};m.Ns=function(){this.Fd=this.Gd=-1};
m.handleEvent=function(a){var b=a.Na,c,d;if(z&&a.type=="keypress"){c=this.Fd;d=c!=13&&c!=27?b.keyCode:0}else if(A&&a.type=="keypress"){c=this.Fd;d=b.charCode>=0&&b.charCode<63232&&sb(c)?b.charCode:0}else if(Za){c=this.Fd;d=sb(c)?b.keyCode:0}else{c=b.keyCode||this.Fd;d=b.charCode||0;if(Sa&&d==63&&!c)c=191}var f=c,g=b.keyIdentifier;if(c)if(c>=63232&&c in Zc)f=Zc[c];else{if(c==25&&a.shiftKey)f=9}else if(g&&g in $c)f=$c[g];a=f==this.Gd;this.Gd=f;b=new cd(f,d,a,b);try{this.dispatchEvent(b)}finally{b.p()}};
m.a=k("q");m.xn=function(a,b){this.si&&this.detach();this.q=a;this.ri=F(this.q,"keypress",this,b);this.bl=F(this.q,"keydown",this.mg,b,this);this.si=F(this.q,"keyup",this.Ns,b,this)};m.detach=function(){if(this.ri){Qc(this.ri);Qc(this.bl);Qc(this.si);this.si=this.bl=this.ri=null}this.q=null;this.Fd=this.Gd=-1};m.m=function(){Yc.e.m.call(this);this.detach()};function cd(a,b,c,d){d&&this.oc(d,undefined);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}y(cd,$b);
function H(a,b){E.call(this);this.$e=a||1;this.ih=b||dd;this.ak=w(this.iv,this);this.jl=ra()}y(H,G);H.prototype.enabled=false;var dd=p.window;m=H.prototype;m.ea=null;m.iv=function(){if(this.enabled){var a=ra()-this.jl;if(a>0&&a<this.$e*0.8)this.ea=this.ih.setTimeout(this.ak,this.$e-a);else{this.dispatchEvent(I);if(this.enabled){this.ea=this.ih.setTimeout(this.ak,this.$e);this.jl=ra()}}}};m.start=function(){this.enabled=true;if(!this.ea){this.ea=this.ih.setTimeout(this.ak,this.$e);this.jl=ra()}};
m.stop=function(){this.enabled=false;if(this.ea){this.ih.clearTimeout(this.ea);this.ea=null}};m.m=function(){H.e.m.call(this);this.stop();delete this.ih};var I="tick";function ed(a,b,c){if(ja(a)){if(c)a=w(a,c)}else if(a&&typeof a.handleEvent=="function")a=w(a.handleEvent,a);else throw Error("Invalid listener argument");return b>2147483647?-1:dd.setTimeout(a,b||0)}var fd,gd=!z||pb(9),hd=!$a&&!z||z&&pb(9)||$a&&nb("1.9.1"),id=z&&!nb("9");function jd(a,b){a.className=b}
function kd(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function J(a){var b=kd(a),c=Lb(arguments,1);c=ld(b,c);a.className=b.join(" ");return c}function md(a){var b=kd(a),c=Lb(arguments,1);c=nd(b,c);a.className=b.join(" ");return c}function ld(a,b){for(var c=0,d=0;d<b.length;d++)if(!D(a,b[d])){a.push(b[d]);c++}return c==b.length}function nd(a,b){for(var c=0,d=0;d<a.length;d++)if(D(b,a[d])){Eb(a,d--,1);c++}return c==b.length}
function od(a,b,c){var d=kd(a);if(v(b))Gb(d,b);else u(b)&&nd(d,b);if(v(c)&&!D(d,c))d.push(c);else u(c)&&ld(d,c);a.className=d.join(" ")}function pd(a,b,c){c?J(a,b):md(a,b)}function qd(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}qd.prototype.xb=function(){return new qd(this.x,this.y)};function rd(a,b){return new qd(a.x-b.x,a.y-b.y)}function K(a,b){this.width=a;this.height=b}K.prototype.xb=function(){return new K(this.width,this.height)};K.prototype.Lb=function(){return!(this.width*this.height)};
K.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};K.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function sd(a){return a?new td(ud(a)):fd||(fd=new td)}function vd(a){return v(a)?document.getElementById(a):a}function wd(a,b,c){return xd(document,a,b,c)}
function yd(a,b){var c=b||document;if(zd(c))return c.querySelectorAll("."+a);else if(c.getElementsByClassName)return c.getElementsByClassName(a);return xd(document,"*",a,b)}function Ad(a,b){var c=b||document,d=null;return(d=zd(c)?c.querySelector("."+a):yd(a,b)[0])||null}function zd(a){return a.querySelectorAll&&a.querySelector&&(!A||Bd(document)||nb("528"))}
function xd(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(zd(a)&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var f=0,g=0,h;h=a[g];g++)if(b==h.nodeName)d[f++]=h;d.length=f;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(g=f=0;h=a[g];g++){b=h.className;if(typeof b.split=="function"&&D(b.split(/\s+/),c))d[f++]=h}d.length=f;return d}else return a}
function Cd(a,b){vc(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in Dd)a.setAttribute(Dd[d],c);else if(d.lastIndexOf("aria-",0)==0)a.setAttribute(d,c);else a[d]=c})}var Dd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function Ed(a){var b=a.document;if(A&&!nb("500")&&!ab){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new K(a.innerWidth,b)}a=Bd(b)?b.documentElement:b.body;return new K(a.clientWidth,a.clientHeight)}function Fd(a){return!A&&Bd(a)?a.documentElement:a.body}function Gd(a){return a?a.parentWindow||a.defaultView:window}
function Hd(a,b,c,d){function f(h){if(h)b.appendChild(v(h)?a.createTextNode(h):h)}for(d=d;d<c.length;d++){var g=c[d];ia(g)&&!(ka(g)&&g.nodeType>0)?B(Id(g)?Jb(g):g,f):f(g)}}function Jd(a){var b;var c=document;b=c.createElement("div");if(z){b.innerHTML="<br>"+a;b.removeChild(b.firstChild)}else b.innerHTML=a;if(b.childNodes.length==1)b=b.removeChild(b.firstChild);else{for(a=c.createDocumentFragment();b.firstChild;)a.appendChild(b.firstChild);b=a}return b}
function Bd(a){return a.compatMode=="CSS1Compat"}function Kd(a,b){a.appendChild(b)}function L(a){Hd(ud(a),a,arguments,1)}function Ld(a){for(var b;b=a.firstChild;)a.removeChild(b)}function Md(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Nd(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}function Od(a){if(hd&&a.Gr!=undefined)return a.Gr;return yb(a.childNodes,function(b){return b.nodeType==1})}
function Pd(a){if(a.firstElementChild!=undefined)return a.firstElementChild;return Qd(a.firstChild,true)}function Qd(a,b){for(;a&&a.nodeType!=1;)a=b?a.nextSibling:a.previousSibling;return a}function Rd(a,b){if(a.contains&&b.nodeType==1)return a==b||a.contains(b);if(typeof a.compareDocumentPosition!="undefined")return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function ud(a){return a.nodeType==9?a:a.ownerDocument||a.document}
function M(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&a.firstChild.nodeType==3){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else{Ld(a);var c=ud(a);a.appendChild(c.createTextNode(b))}}function Sd(a,b){var c=[];return Td(a,b,c,true)?c[0]:undefined}function Td(a,b,c,d){if(a!=null)for(a=a.firstChild;a;){if(b(a)){c.push(a);if(d)return true}if(Td(a,b,c,d))return true;a=a.nextSibling}return false}
var Ud={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Vd={IMG:" ",BR:"\n"};function Wd(a){var b=a.getAttributeNode("tabindex");if(b&&b.specified){a=a.tabIndex;return typeof a=="number"&&a>=0&&a<32768}return false}function Xd(a,b){if(b)a.tabIndex=0;else a.removeAttribute("tabIndex")}
function Yd(a){if(id&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Zd(a,b,true);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");id||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function $d(a){var b=[];Zd(a,b,false);return b.join("")}
function Zd(a,b,c){if(!(a.nodeName in Ud))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Vd)b.push(Vd[a.nodeName]);else for(a=a.firstChild;a;){Zd(a,b,c);a=a.nextSibling}}function Id(a){if(a&&typeof a.length=="number")if(ka(a))return typeof a.item=="function"||typeof a.item=="string";else if(ja(a))return typeof a.item=="function";return false}function td(a){this.ma=a||p.document||document}td.prototype.f=sd;
function ae(a){return a.ma}td.prototype.a=function(a){return v(a)?this.ma.getElementById(a):a};td.prototype.d=function(){var a=this.ma,b=arguments,c=b[0],d=b[1];if(!gd&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',Ba(d.name),'"');if(d.type){c.push(' type="',Ba(d.type),'"');var f={};Gc(f,d);d=f;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(v(d))c.className=d;else u(d)?J.apply(null,[c].concat(d)):Cd(c,d);b.length>2&&Hd(a,c,b,2);return c};td.prototype.createElement=function(a){return this.ma.createElement(a)};
td.prototype.createTextNode=function(a){return this.ma.createTextNode(a)};function be(a){return Bd(a.ma)}function ce(a){var b=a.ma;a=Fd(b);b=b.parentWindow||b.defaultView;return new qd(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}td.prototype.appendChild=Kd;td.prototype.append=L;td.prototype.sc=Ld;td.prototype.contains=Rd;function de(a,b){a.setAttribute("role",b);a.Kw=b}function ee(a,b,c){a.setAttribute("aria-"+b,c)}
function fe(a,b){return a.d("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;"+(b||""),src:'javascript:""'})}function ge(a){E.call(this);this.q=a;a=z?"focusout":"blur";this.ot=F(this.q,z?"focusin":"focus",this,!z);this.pt=F(this.q,a,this,!z)}y(ge,G);ge.prototype.handleEvent=function(a){var b=new $b(a.Na);b.type=a.type=="focusin"||a.type=="focus"?"focusin":"focusout";try{this.dispatchEvent(b)}finally{b.p()}};ge.prototype.m=function(){ge.e.m.call(this);Qc(this.ot);Qc(this.pt);delete this.q};
function O(a){E.call(this);this.qb=a;this.qa=[]}y(O,E);var he=[];O.prototype.c=function(a,b,c,d,f){if(!u(b)){he[0]=b;b=he}for(var g=0;g<b.length;g++)this.qa.push(F(a,b[g],c||this,d||false,f||this.qb||this));return this};function ie(a,b,c,d,f,g){if(u(c))for(var h=0;h<c.length;h++)ie(a,b,c[h],d,f,g);else{b=Nc(b,c,d||a,f,g||a.qb||a);a.qa.push(b)}return a}
O.prototype.cc=function(a,b,c,d,f){if(u(b))for(var g=0;g<b.length;g++)this.cc(a,b[g],c,d,f);else{a:{c=c||this;f=f||this.qb||this;d=!!d;if(a=Pc(a,b,d))for(b=0;b<a.length;b++)if(!a[b].ye&&a[b].cf==c&&a[b].capture==d&&a[b].gi==f){a=a[b];break a}a=null}if(a){a=a.Wa;Qc(a);Gb(this.qa,a)}}return this};O.prototype.Bc=function(){B(this.qa,Qc);this.qa.length=0};O.prototype.m=function(){O.e.m.call(this);this.Bc()};O.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};
function je(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}je.prototype.xb=function(){return new je(this.top,this.right,this.bottom,this.left)};je.prototype.contains=function(a){return!this||!a?false:a instanceof je?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom};function ke(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}
ke.prototype.xb=function(){return new ke(this.left,this.top,this.width,this.height)};ke.prototype.contains=function(a){return a instanceof ke?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};
function le(a,b,c){E.call(this);this.target=a;this.handle=b||a;this.nl=c||new ke(NaN,NaN,NaN,NaN);this.ma=ud(a);this.$=new O(this);F(this.handle,["touchstart","mousedown"],this.Od,false,this)}y(le,G);var me=z||$a&&nb("1.9.3");m=le.prototype;m.clientX=0;m.clientY=0;m.screenX=0;m.screenY=0;m.nq=0;m.oq=0;m.Oe=0;m.Pe=0;m.jc=true;m.qd=false;m.Oo=0;m.Et=0;m.Xs=false;m.j=k("$");m.Dc=aa("jc");
m.m=function(){le.e.m.call(this);Oc(this.handle,["touchstart","mousedown"],this.Od,false,this);this.$.p();delete this.target;delete this.handle;delete this.$};
m.Od=function(a){var b=a.type=="mousedown";if(this.jc&&!this.qd&&(!b||bc(a))){ne(this,a);if(this.Oo==0){oe(this,a);if(this.qd)a.preventDefault();else return}else a.preventDefault();b=this.ma;var c=b.documentElement,d=!me;this.$.c(b,["touchmove","mousemove"],this.Ps,d);this.$.c(b,["touchend","mouseup"],this.rd,d);if(me){c.setCapture(false);this.$.c(c,"losecapture",this.rd)}else this.$.c(Gd(b),"blur",this.rd);z&&this.Xs&&this.$.c(b,"dragstart",Yb);this.Gu&&this.$.c(this.Gu,"scroll",this.du,d);this.clientX=
this.nq=a.clientX;this.clientY=this.oq=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;this.Oe=this.target.offsetLeft;this.Pe=this.target.offsetTop;this.Rl=ce(sd(this.ma));this.Et=ra()}else this.dispatchEvent("earlycancel")};function oe(a,b){if(a.dispatchEvent(new pe("start",a,b.clientX,b.clientY,b))!==false)a.qd=true}
le.prototype.rd=function(a,b){this.$.Bc();me&&this.ma.releaseCapture();var c=qe(this,this.Oe),d=re(this,this.Pe);if(this.qd){ne(this,a);this.qd=false;this.dispatchEvent(new pe("end",this,a.clientX,a.clientY,a,c,d,b||a.type=="touchcancel"))}else this.dispatchEvent("earlycancel");if(a.type=="touchend"||a.type=="touchcancel")a.preventDefault()};
function ne(a,b){a=b.type;if(a=="touchstart"||a=="touchmove")b.oc(b.Na.targetTouches[0],b.currentTarget);else if(a=="touchend"||a=="touchcancel")b.oc(b.Na.changedTouches[0],b.currentTarget)}
le.prototype.Ps=function(a){if(this.jc){ne(this,a);var b=a.clientX-this.clientX,c=a.clientY-this.clientY;this.clientX=a.clientX;this.clientY=a.clientY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.qd){var d=this.nq-this.clientX,f=this.oq-this.clientY;if(d*d+f*f>this.Oo){oe(this,a);if(!this.qd){this.rd(a);return}}}c=se(this,b,c);b=c.x;c=c.y;if(this.qd)if(this.dispatchEvent(new pe("beforedrag",this,a.clientX,a.clientY,a,b,c))!==false){this.Mh(b,c);this.dispatchEvent(new pe("drag",this,a.clientX,
a.clientY,a,b,c));a.preventDefault()}}};function se(a,b,c){var d=ce(sd(a.ma));b+=d.x-a.Rl.x;c+=d.y-a.Rl.y;a.Rl=d;a.Oe+=b;a.Pe+=c;b=qe(a,a.Oe);a=re(a,a.Pe);return new qd(b,a)}le.prototype.du=function(a){var b=se(this,0,0);a.clientX=this.clientX;a.clientY=this.clientY;var c=b.x;b=b.y;this.Mh(c,b);this.dispatchEvent(new pe("drag",this,a.clientX,a.clientY,a,c,b))};
function qe(a,b){var c=a.nl;a=!isNaN(c.left)?c.left:null;c=!isNaN(c.width)?c.width:0;return Math.min(a!=null?a+c:Infinity,Math.max(a!=null?a:-Infinity,b))}function re(a,b){var c=a.nl;a=!isNaN(c.top)?c.top:null;c=!isNaN(c.height)?c.height:0;return Math.min(a!=null?a+c:Infinity,Math.max(a!=null?a:-Infinity,b))}le.prototype.Mh=function(a,b){this.target.style.left=a+"px";this.target.style.top=b+"px"};
function pe(a,b,c,d,f,g,h,j){Xb.call(this,a);this.clientX=c;this.clientY=d;this.dw=f;this.left=g!==undefined?g:b.Oe;this.top=h!==undefined?h:b.Pe;this.nw=b;this.mw=!!j}y(pe,Xb);function te(a){if(typeof a.nc=="function")return a.nc();if(v(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return xc(a)}
function ue(a){if(typeof a.wd=="function")return a.wd();if(typeof a.nc!="function"){if(ia(a)||v(a)){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return yc(a)}}function ve(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ia(a)||v(a))B(a,b,c);else for(var d=ue(a),f=te(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}"StopIteration"in p||Error("StopIteration");
function we(a){this.Ya={};this.qa=[];var b=arguments.length;if(b>1){if(b%2)throw Error("Uneven number of arguments");for(var c=0;c<b;c+=2)this.T(arguments[c],arguments[c+1])}else a&&this.Qj(a)}m=we.prototype;m.R=0;m.Mm=0;m.nc=function(){xe(this);for(var a=[],b=0;b<this.qa.length;b++)a.push(this.Ya[this.qa[b]]);return a};m.wd=function(){xe(this);return this.qa.concat()};m.Xb=function(a){return ye(this.Ya,a)};m.Lb=function(){return this.R==0};
m.clear=function(){this.Ya={};this.Mm=this.R=this.qa.length=0};m.remove=function(a){if(ye(this.Ya,a)){delete this.Ya[a];this.R--;this.Mm++;this.qa.length>2*this.R&&xe(this);return true}return false};function xe(a){if(a.R!=a.qa.length){for(var b=0,c=0;b<a.qa.length;){var d=a.qa[b];if(ye(a.Ya,d))a.qa[c++]=d;b++}a.qa.length=c}if(a.R!=a.qa.length){var f={};for(c=b=0;b<a.qa.length;){d=a.qa[b];if(!ye(f,d)){a.qa[c++]=d;f[d]=1}b++}a.qa.length=c}}m=we.prototype;
m.va=function(a,b){if(ye(this.Ya,a))return this.Ya[a];return b};m.T=function(a,b){if(!ye(this.Ya,a)){this.R++;this.qa.push(a);this.Mm++}this.Ya[a]=b};m.Qj=function(a){var b;if(a instanceof we){b=a.wd();a=a.nc()}else{b=yc(a);a=xc(a)}for(var c=0;c<b.length;c++)this.T(b[c],a[c])};m.xb=function(){return new we(this)};m.Eq=function(){xe(this);for(var a={},b=0;b<this.qa.length;b++){var c=this.qa[b];a[c]=this.Ya[c]}return a};function ye(a,b){return Object.prototype.hasOwnProperty.call(a,b)}
function ze(a,b,c){a.style[Ma(c)]=b}function Ae(a,b){var c=ud(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(a=c.defaultView.getComputedStyle(a,null))return a[b]||a.getPropertyValue(b);return""}function Be(a,b){return Ae(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style[b]}function Ce(a){return Be(a,"position")}function De(a,b,c){var d,f=$a&&(Sa||eb)&&nb("1.9");if(b instanceof qd){d=b.x;b=b.y}else{d=b;b=c}a.style.left=Ee(d,f);a.style.top=Ee(b,f)}
function Fe(a){var b=a.getBoundingClientRect();if(z){a=a.ownerDocument;b.left-=a.documentElement.clientLeft+a.body.clientLeft;b.top-=a.documentElement.clientTop+a.body.clientTop}return b}
function Ge(a){if(z)return a.offsetParent;var b=ud(a),c=Be(a,"position"),d=c=="fixed"||c=="absolute";for(a=a.parentNode;a&&a!=b;a=a.parentNode){c=Be(a,"position");d=d&&c=="static"&&a!=b.documentElement&&a!=b.body;if(!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||c=="fixed"||c=="absolute"||c=="relative"))return a}return null}
function He(a,b,c){var d=Ie(a),f=Ie(b),g=Je(b),h=d.x-f.x-g.left;d=d.y-f.y-g.top;f=b.clientWidth-a.offsetWidth;a=b.clientHeight-a.offsetHeight;if(c){b.scrollLeft+=h-f/2;b.scrollTop+=d-a/2}else{b.scrollLeft+=Math.min(h,Math.max(h-f,0));b.scrollTop+=Math.min(d,Math.max(d-a,0))}}
function Ke(a){if($a&&!nb("1.9")){var b=parseFloat(Ae(a,"borderLeftWidth"));if("rtl"==Be(a,"direction")){var c=a.offsetWidth-a.clientWidth-b-parseFloat(Ae(a,"borderRightWidth"));b+=c}return new qd(b,parseFloat(Ae(a,"borderTopWidth")))}return new qd(a.clientLeft,a.clientTop)}
function Ie(a){var b,c=ud(a),d=Be(a,"position"),f=$a&&c.getBoxObjectFor&&!a.getBoundingClientRect&&d=="absolute"&&(b=c.getBoxObjectFor(a))&&(b.screenX<0||b.screenY<0),g=new qd(0,0),h;b=c?c.nodeType==9?c:ud(c):document;h=z&&!pb(9)&&!be(sd(b))?b.body:b.documentElement;if(a==h)return g;if(a.getBoundingClientRect){b=Fe(a);a=ce(sd(c));g.x=b.left+a.x;g.y=b.top+a.y}else if(c.getBoxObjectFor&&!f){b=c.getBoxObjectFor(a);a=c.getBoxObjectFor(h);g.x=b.screenX-a.screenX;g.y=b.screenY-a.screenY}else{b=a;do{g.x+=
b.offsetLeft;g.y+=b.offsetTop;if(b!=a){g.x+=b.clientLeft||0;g.y+=b.clientTop||0}if(A&&Ce(b)=="fixed"){g.x+=c.body.scrollLeft;g.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(Za||A&&d=="absolute")g.y-=c.body.offsetTop;for(b=a;(b=Ge(b))&&b!=c.body&&b!=h;){g.x-=b.scrollLeft;if(!Za||b.tagName!="TR")g.y-=b.scrollTop}}return g}
function Le(a){var b=new qd;if(a.nodeType==1)if(a.getBoundingClientRect){a=Fe(a);b.x=a.left;b.y=a.top}else{var c=ce(sd(a));a=Ie(a);b.x=a.x-c.x;b.y=a.y-c.y}else{c=ja(a.ws);var d=a;if(a.targetTouches)d=a.targetTouches[0];else if(c&&a.Na.targetTouches)d=a.Na.targetTouches[0];b.x=d.clientX;b.y=d.clientY}return b}function Me(a,b,c){if(b instanceof K){c=b.height;b=b.width}else{if(c==undefined)throw Error("missing height argument");c=c}a.style.width=Ee(b,true);a.style.height=Ee(c,true)}
function Ee(a,b){if(typeof a=="number")a=(b?Math.round(a):a)+"px";return a}function Ne(a){if(Be(a,"display")!="none")return Oe(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Oe(a);b.display=c;b.position=f;b.visibility=d;return a}function Oe(a){var b=a.offsetWidth,c=a.offsetHeight,d=A&&!b&&!c;if((b===undefined||d)&&a.getBoundingClientRect){a=Fe(a);return new K(a.right-a.left,a.bottom-a.top)}return new K(b,c)}
function Pe(a,b){a=a.style;if("opacity"in a)a.opacity=b;else if("MozOpacity"in a)a.MozOpacity=b;else if("filter"in a)a.filter=b===""?"":"alpha(opacity="+b*100+")"}function P(a,b){a.style.display=b?"":"none"}var Qe=$a?"MozUserSelect":A?"WebkitUserSelect":null;
function Re(a,b,c){c=!c?a.getElementsByTagName("*"):null;if(Qe){b=b?"none":"";a.style[Qe]=b;if(c){a=0;for(var d;d=c[a];a++)d.style[Qe]=b}}else if(z||Za){b=b?"on":"";a.setAttribute("unselectable",b);if(c)for(a=0;d=c[a];a++)d.setAttribute("unselectable",b)}}function Se(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);else{var f=a.style[c],g=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=f;a.runtimeStyle[c]=g;return b}}
function Te(a,b){return Se(a,a.currentStyle?a.currentStyle[b]:null,"left","pixelLeft")}var Ue={thin:2,medium:4,thick:6};function Ve(a,b){if((a.currentStyle?a.currentStyle[b+"Style"]:null)=="none")return 0;b=a.currentStyle?a.currentStyle[b+"Width"]:null;if(b in Ue)return Ue[b];return Se(a,b,"left","pixelLeft")}
function Je(a){if(z){var b=Ve(a,"borderLeft"),c=Ve(a,"borderRight"),d=Ve(a,"borderTop");a=Ve(a,"borderBottom");return new je(d,c,a,b)}else{b=Ae(a,"borderLeftWidth");c=Ae(a,"borderRightWidth");d=Ae(a,"borderTopWidth");a=Ae(a,"borderBottomWidth");return new je(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))}}function We(a){var b={};B(a.split(/\s*;\s*/),function(c){c=c.split(/\s*:\s*/);if(c.length==2)b[Ma(c[0].toLowerCase())]=c[1]});return b}function Xe(){}ea(Xe);Xe.prototype.Qt=0;Xe.na();
function Q(a){E.call(this);this.Nc=a||sd();this.Qg=Ye}y(Q,G);Q.prototype.Vs=Xe.na();var Ye=null;function Ze(a,b){switch(a){case 1:return b?"disable":"enable";case 2:return b?"highlight":"unhighlight";case 4:return b?"activate":"deactivate";case 8:return b?"select":"unselect";case 16:return b?"check":"uncheck";case 32:return b?"focus":"blur";case 64:return b?"open":"close";default:}throw Error("Invalid component state");}m=Q.prototype;m.pe=null;m.aa=false;m.q=null;m.Qg=null;m.Za=null;m.oa=null;
m.ya=null;m.ic=null;m.Qq=false;function $e(a){return a.pe||(a.pe=":"+(a.Vs.Qt++).toString(36))}function af(a,b){if(a.oa&&a.oa.ic){Ac(a.oa.ic,a.pe);Bc(a.oa.ic,b,a)}a.pe=b}Q.prototype.a=k("q");function bf(a,b){a.q=b}Q.prototype.j=function(){return this.Ve||(this.Ve=new O(this))};function cf(a,b){if(a==b)throw Error("Unable to set parent component");if(b&&a.oa&&a.pe&&a.oa.yo(a.pe)&&a.oa!=b)throw Error("Unable to set parent component");a.oa=b;Q.e.uc.call(a,b)}
Q.prototype.uc=function(a){if(this.oa&&this.oa!=a)throw Error("Method not supported");Q.e.uc.call(this,a)};Q.prototype.f=k("Nc");Q.prototype.d=function(){this.q=this.Nc.createElement("div")};Q.prototype.ze=function(a){df(this,a)};function df(a,b,c){if(a.aa)throw Error("Component already rendered");a.q||a.d();b?b.insertBefore(a.q,c||null):a.Nc.ma.body.appendChild(a.q);if(!a.oa||a.oa.aa)a.i()}m=Q.prototype;
m.pa=function(a){if(this.aa)throw Error("Component already rendered");else if(a&&this.hc(a)){this.Qq=true;if(!this.Nc||this.Nc.ma!=ud(a))this.Nc=sd(a);this.V(a);this.i()}else throw Error("Invalid element to decorate");};m.hc=l(true);m.V=aa("q");m.i=function(){this.aa=true;this.ya&&B(this.ya,function(a){!a.aa&&a.a()&&a.i()},undefined)};m.ga=function(){this.ya&&B(this.ya,function(a){a.aa&&a.ga()},undefined);this.Ve&&this.Ve.Bc();this.aa=false};
m.m=function(){Q.e.m.call(this);this.aa&&this.ga();if(this.Ve){this.Ve.p();delete this.Ve}this.ya&&B(this.ya,function(a){a.p()},undefined);!this.Qq&&this.q&&Nd(this.q);this.oa=this.Za=this.q=this.ic=this.ya=null};m.D=function(a,b){this.Le(a,ef(this),b)};
m.Le=function(a,b,c){if(a.aa&&(c||!this.aa))throw Error("Component already rendered");if(b<0||b>ef(this))throw Error("Child component index out of bounds");if(!this.ic||!this.ya){this.ic={};this.ya=[]}if(a.oa==this){this.ic[$e(a)]=a;Gb(this.ya,a)}else Bc(this.ic,$e(a),a);cf(a,this);Db(this.ya,a,b);if(a.aa&&this.aa&&a.oa==this){c=this.ha();c.insertBefore(a.a(),c.childNodes[b]||null)}else if(c){this.q||this.d();b=this.Zh(b+1);df(a,this.ha(),b?b.q:null)}else this.aa&&!a.aa&&a.q&&a.i()};m.ha=k("q");
m.Be=function(a){if(this.aa)throw Error("Component already rendered");this.Qg=a};function ef(a){return a.ya?a.ya.length:0}Q.prototype.yo=function(a){return this.ic&&a?Cc(this.ic,a)||null:null};Q.prototype.Zh=function(a){return this.ya?this.ya[a]||null:null};Q.prototype.removeChild=function(a,b){if(a){var c=v(a)?a:$e(a);a=this.yo(c);if(c&&a){Ac(this.ic,c);Gb(this.ya,a);if(b){a.ga();a.q&&Nd(a.q)}cf(a,null)}}if(!a)throw Error("Child is not in parent component");return a};
Q.prototype.sc=function(a){for(;this.ya&&this.ya.length!=0;)this.removeChild(this.Zh(0),a)};function R(a,b,c){Q.call(this,c);this.La=a||"modal-dialog";this.Km=!!b;this.ob=ff()}y(R,Q);m=R.prototype;m.Xh=null;m.mo=true;m.Pk=true;m.Km=false;m.xi=true;m.ag=true;m.Pf=0.5;m.Cm="";m.ab="";m.ob=null;m.W=null;m.ec=false;m.zb=false;m.sa=null;m.Fa=null;m.Tb=null;m.Qd=null;m.Bm=null;m.ed=null;m.Yb=null;m.hb=null;m.tc=function(a){this.ab=a;if(this.Yb)this.Yb.innerHTML=a};m.ha=function(){this.a()||this.ze();return this.Yb};
function gf(a){J(a.Tb,a.La+"-title-draggable");return new le(a.a(),a.Tb)}
R.prototype.d=function(){hf(this);var a=this.f();this.q=a.d("div",{className:this.La,tabIndex:0},this.Tb=a.d("div",{className:this.La+"-title",id:$e(this)},this.Qd=a.d("span",this.La+"-title-text",this.Cm),this.ed=a.d("span",this.La+"-title-close")),this.Yb=a.d("div",this.La+"-content"),this.hb=a.d("div",this.La+"-buttons"),this.wq=a.d("span",{tabIndex:0}));this.Bm=this.Tb.id;de(this.a(),"dialog");ee(this.a(),"labelledby",this.Bm||"");if(this.ab)this.Yb.innerHTML=this.ab;P(this.ed,this.Pk);P(this.a(),
false);this.ob&&jf(this.ob,this.hb)};function hf(a){if(a.Km&&a.xi&&!a.Fa){a.Fa=fe(a.f());a.Fa.className=a.La+"-bg";P(a.Fa,false);Pe(a.Fa,0)}else if((!a.Km||!a.xi)&&a.Fa){Nd(a.Fa);a.Fa=null}if(a.xi&&!a.sa){a.sa=a.f().d("div",a.La+"-bg");Pe(a.sa,a.Pf);P(a.sa,false)}else if(!a.xi&&a.sa){Nd(a.sa);a.sa=null}}R.prototype.ze=function(a){if(this.aa)throw Error("Component already rendered");this.a()||this.d();a=a||ae(this.f()).body;kf(this,a);R.e.ze.call(this,a)};
function kf(a,b){a.Fa&&b.appendChild(a.Fa);a.sa&&b.appendChild(a.sa)}m=R.prototype;m.hc=function(a){return a&&a.tagName&&a.tagName=="DIV"&&R.e.hc.call(this,a)};
m.V=function(a){R.e.V.call(this,a);J(this.a(),this.La);a=this.La+"-content";if(this.Yb=wd(null,a,this.a())[0])this.ab=this.Yb.innerHTML;else{this.Yb=this.f().d("div",a);if(this.ab)this.Yb.innerHTML=this.ab;this.a().appendChild(this.Yb)}a=this.La+"-title";var b=this.La+"-title-text",c=this.La+"-title-close";if(this.Tb=wd(null,a,this.a())[0]){this.Qd=wd(null,b,this.Tb)[0];this.ed=wd(null,c,this.Tb)[0]}else{this.Tb=this.f().d("div",a);this.a().insertBefore(this.Tb,this.Yb)}if(this.Qd)this.Cm=Yd(this.Qd);
else{this.Qd=this.f().d("span",b,this.Cm);this.Tb.appendChild(this.Qd)}ee(this.a(),"labelledby",this.Bm||"");if(!this.ed){this.ed=this.f().d("span",c);this.Tb.appendChild(this.ed)}P(this.ed,this.Pk);a=this.La+"-buttons";if(this.hb=wd(null,a,this.a())[0]){this.ob=new lf(this.f());this.ob.pa(this.hb)}else{this.hb=this.f().d("div",a);this.a().appendChild(this.hb);this.ob&&jf(this.ob,this.hb)}hf(this);kf(this,ud(this.a()).body);P(this.a(),false)};
m.i=function(){R.e.i.call(this);this.Xh=new ge(ae(this.f()));if(this.ag&&!this.W)this.W=gf(this);this.j().c(this.ed,"click",this.fu).c(this.Xh,"focusin",this.Zt);de(this.a(),"dialog");this.Qd.id!==""&&ee(this.a(),"labelledby",this.Qd.id)};m.ga=function(){this.ec&&this.w(false);this.Xh.p();this.Xh=null;if(this.W){this.W.p();this.W=null}R.e.ga.call(this)};
m.w=function(a){if(a!=this.ec){var b=ae(this.f()),c=Gd(b)||window;this.aa||this.ze(b.body);if(a){mf(this);this.Zp();this.j().c(this.a(),"keydown",this.Fi).c(this.a(),"keypress",this.Fi).c(c,"resize",this.Jp)}else this.j().cc(this.a(),"keydown",this.Fi).cc(this.a(),"keypress",this.Fi).cc(c,"resize",this.Jp);this.Fa&&P(this.Fa,a);this.sa&&P(this.sa,a);P(this.a(),a);a&&this.focus();if(this.ec=a){this.dispatchEvent(nf);this.j().c(this.hb,"click",this.Fp)}else{this.j().cc(this.hb,"click",this.Fp);this.dispatchEvent(of);
this.zb&&this.p()}}};m.focus=function(){try{this.a().focus()}catch(a){}if(this.ob){var b;if(b=this.ob.Nh)for(var c=ae(this.f()),d=this.hb.getElementsByTagName("button"),f=0,g;g=d[f];f++)if(g.name==b){try{if(A||Za){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.a().appendChild(h);h.focus();this.a().removeChild(h)}g.focus()}catch(j){}break}}};
function mf(a){a.Fa&&P(a.Fa,false);a.sa&&P(a.sa,false);var b=ae(a.f()),c=Gd(b)||window;c=Ed(c||window);var d=Math.max(b.body.scrollWidth,c.width);b=Math.max(b.body.scrollHeight,c.height);if(a.Fa){P(a.Fa,true);Me(a.Fa,d,b)}if(a.sa){P(a.sa,true);Me(a.sa,d,b)}if(a.ag){var f=Ne(a.a());a.W.nl=Ce(a.a())=="fixed"?new ke(0,0,Math.max(0,c.width-f.width),Math.max(0,c.height-f.height)):new ke(0,0,d-f.width,b-f.height)}}
R.prototype.Zp=function(){var a=ae(this.f()),b=Gd(a)||window;if(Ce(this.a())=="fixed")var c=a=0;else{c=ce(this.f());a=c.x;c=c.y}var d=Ne(this.a());b=Ed(b||window);a=Math.max(a+b.width/2-d.width/2,0);c=Math.max(c+b.height/2-d.height/2,0);De(this.a(),a,c)};R.prototype.fu=function(){if(this.Pk){var a=this.ob,b=a&&a.Jc;if(b){a=a.va(b);this.dispatchEvent(new pf(b,a))&&this.w(false)}else this.w(false)}};
R.prototype.m=function(){R.e.m.call(this);if(this.sa){Nd(this.sa);this.sa=null}if(this.Fa){Nd(this.Fa);this.Fa=null}this.wq=this.hb=this.ed=null};function qf(a,b){a.ob=b;if(a.hb)if(a.ob)jf(a.ob,a.hb);else a.hb.innerHTML=""}m=R.prototype;m.Fp=function(a){a:{for(a=a.target;a!=null&&a!=this.hb;){if(a.tagName=="BUTTON"){a=a;break a}a=a.parentNode}a=null}if(a&&!a.disabled){a=a.name;var b=this.ob.va(a);this.dispatchEvent(new pf(a,b))&&this.w(false)}};
m.Fi=function(a){var b=false,c=false,d=this.ob,f=a.target;if(a.type=="keydown")if(this.mo&&a.keyCode==27){var g=d&&d.Jc;f=f.tagName=="SELECT"&&!f.disabled;if(g&&!f){c=true;b=d.va(g);b=this.dispatchEvent(new pf(g,b))}else f||(b=true)}else{if(a.keyCode==9&&a.shiftKey&&f==this.a())c=true}else if(a.keyCode==13){if(f.tagName=="BUTTON")g=f.name;else if(d){var h=d.Nh,j=h&&rf(d,h);f=(f.tagName=="TEXTAREA"||f.tagName=="SELECT")&&!f.disabled;if(j&&!j.disabled&&!f)g=h}if(g){c=true;b=this.dispatchEvent(new pf(g,
String(d.va(g))))}}if(b||c){a.stopPropagation();a.preventDefault()}b&&this.w(false)};m.Jp=function(){mf(this)};m.Zt=function(a){this.wq==a.target&&ed(this.os,0,this)};m.os=function(){z&&ae(this.f()).body.focus();this.a().focus()};function pf(a,b){this.type=sf;this.Wa=a;this.caption=b}y(pf,Xb);var sf="dialogselect",of="afterhide",nf="aftershow";function lf(a){this.Nc=a||sd();we.call(this)}y(lf,we);m=lf.prototype;m.La="goog-buttonset";m.Nh=null;m.q=null;m.Jc=null;
m.T=function(a,b,c,d){we.prototype.T.call(this,a,b);if(c)this.Nh=a;if(d)this.Jc=a;return this};function tf(a,b,c,d){return a.T(b.Wa,b.caption,c,d)}function jf(a,b){a.q=b;a.ze()}lf.prototype.ze=function(){if(this.q){this.q.innerHTML="";var a=sd(this.q);ve(this,function(b,c){b=a.d("button",{name:c},b);if(c==this.Nh)b.className=this.La+"-default";this.q.appendChild(b)},this)}};
lf.prototype.pa=function(a){if(!(!a||a.nodeType!=1)){this.q=a;a=this.q.getElementsByTagName("button");for(var b=0,c,d,f;c=a[b];b++){d=c.name||c.id;f=Yd(c)||c.value;if(d){var g=b==0;this.T(d,f,g,c.name==uf);g&&J(c,this.La+"-default")}}}};lf.prototype.a=k("q");lf.prototype.f=k("Nc");function rf(a,b){a=a.q.getElementsByTagName("BUTTON");for(var c=0,d;d=a[c];c++)if(d.name==b||d.id==b)return d;return null}
var uf="cancel",vf=sa("OK"),wf=sa("Cancel"),xf=sa("Yes"),yf=sa("No"),zf=sa("Save"),Af=sa("Continue"),Bf={Wa:"ok",caption:vf},Cf={Wa:uf,caption:wf},Df={Wa:"yes",caption:xf},Ef={Wa:"no",caption:yf},Ff={Wa:"save",caption:zf},Gf={Wa:"continue",caption:Af};function ff(){return tf(tf(new lf,Bf,true),Cf,false,true)}if(typeof document!="undefined"){tf(new lf,Bf,true,true);ff();tf(tf(new lf,Df,true),Ef,false,true);tf(tf(tf(new lf,Df),Ef,true),Cf,false,true);tf(tf(tf(new lf,Gf),Ff),Cf,true,true)}
function Hf(a){this.ma=a}var If=/\s*;\s*/;m=Hf.prototype;m.ca=function(){var a=navigator.cookieEnabled;if(a&&A){var b="COOKIES_TEST_"+ra();Jf.T(b,"1");if(!this.va(b))return false;this.remove(b)}return a};
m.T=function(a,b,c,d,f,g){if(/[;=\s]/.test(a))throw Error('Invalid cookie name "'+a+'"');if(/[;\r\n]/.test(b))throw Error('Invalid cookie value "'+b+'"');c!==undefined||(c=-1);f=f?";domain="+f:"";d=d?";path="+d:"";g=g?";secure":"";c=c<0?"":c==0?";expires="+(new Date(1970,1,1)).toUTCString():";expires="+(new Date(ra()+c*1E3)).toUTCString();this.ma.cookie=a+"="+b+f+d+c+g};
m.va=function(a,b){a=a+"=";for(var c=(this.ma.cookie||"").split(If),d=0,f;f=c[d];d++)if(f.indexOf(a)==0)return f.substr(a.length);return b};m.remove=function(a,b,c){var d=this.Xb(a);this.T(a,"",0,b,c);return d};m.wd=function(){return Kf(this).ap};m.nc=function(){return Kf(this).wv};m.Lb=function(){return!this.ma.cookie};m.Xb=function(a){return this.va(a)!==undefined};m.clear=function(){for(var a=Kf(this).ap,b=a.length-1;b>=0;b--)this.remove(a[b])};
function Kf(a){a=(a.ma.cookie||"").split(If);for(var b=[],c=[],d,f,g=0;f=a[g];g++){d=f.indexOf("=");if(d==-1){b.push("");c.push(f)}else{b.push(f.substring(0,d));c.push(f.substring(d+1))}}return{ap:b,wv:c}}var Jf=new Hf(document);Jf.Pv=3950;
function Lf(a){a=String(a);if(/^\s*$/.test(a)?false:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Mf(a){return(new Nf).hm(a)}function Nf(){}Nf.prototype.hm=function(a){var b=[];Of(this,a,b);return b.join("")};
function Of(a,b,c){switch(typeof b){case "string":Pf(a,b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(b==null){c.push("null");break}if(u(b)){var d=b.length;c.push("[");for(var f="",g=0;g<d;g++){c.push(f);Of(a,b[g],c);f=","}c.push("]");break}c.push("{");d="";for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)){g=b[f];if(typeof g!="function"){c.push(d);Pf(a,f,c);c.push(":");Of(a,g,c);d=
","}}c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Qf={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u000b":"\\u000b"},Rf=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Pf(a,b,c){c.push('"',b.replace(Rf,function(d){if(d in Qf)return Qf[d];var f=d.charCodeAt(0),g="\\u";if(f<16)g+="000";else if(f<256)g+="00";else if(f<4096)g+="0";return Qf[d]=g+f.toString(16)}),'"')}function Sf(){}var Tf;ea(Sf);m=Sf.prototype;m.mc=e();m.d=function(a){return a.f().d("div",this.ne(a).join(" "),a.ab)};m.ha=function(a){return a};m.cg=function(a,b,c){if(a=a.a?a.a():a)if(z&&!nb("7")){var d=Uf(this,kd(a),b);d.push(b);qa(c?J:md,a).apply(null,d)}else pd(a,b,c)};m.hc=l(true);
m.pa=function(a,b){b.id&&af(a,b.id);var c=this.ha(b);c&&c.firstChild?Vf(a,c.firstChild.nextSibling?Jb(c.childNodes):c.firstChild):Vf(a,null);var d=0,f=this.X(),g=this.X(),h=false,j=false;c=false;var n=kd(b);B(n,function(t){if(!h&&t==f){h=true;if(g==f)j=true}else if(!j&&t==g)j=true;else d|=this.Ek(t)},this);a.t=d;if(!h){n.push(f);if(g==f)j=true}j||n.push(g);(a=a.lc)&&n.push.apply(n,a);if(z&&!nb("7")){var o=Uf(this,n);if(o.length>0){n.push.apply(n,o);c=true}}if(!h||!j||a||c)jd(b,n.join(" "));return b};
m.rg=function(a){if(a.Qg==null)a.Qg="rtl"==Be(a.aa?a.q:a.Nc.ma.body,"direction");a.Qg&&this.Be(a.a(),true);a.ca()&&this.of(a,a.ec)};m.nf=function(a,b){Re(a,!b,!z&&!Za)};m.Be=function(a,b){this.cg(a,this.X()+"-rtl",b)};m.Zk=function(a){var b;if(a.tb&32&&(b=a.vd()))return Wd(b);return false};m.of=function(a,b){var c;if(a.tb&32&&(c=a.vd())){if(!b&&a.t&32){try{c.blur()}catch(d){}a.t&32&&a.Fo(null)}Wd(c)!=b&&Xd(c,b)}};m.w=function(a,b){P(a,b)};
m.Eb=function(a,b,c){var d=a.a();if(d){var f=this.jg(b);f&&this.cg(a,f,c);this.He(d,b,c)}};m.He=function(a,b,c){Tf||(Tf=Hc(1,"disabled",4,"pressed",8,"selected",16,"checked",64,"expanded"));(b=Tf[b])&&ee(a,b,c)};m.tc=function(a,b){var c=this.ha(a);if(c){Ld(c);if(b)if(v(b))M(c,b);else{a=function(d){if(d){var f=ud(c);c.appendChild(v(d)?f.createTextNode(d):d)}};if(u(b))B(b,a);else ia(b)&&!("nodeType"in b)?B(Jb(b),a):a(b)}}};m.vd=function(a){return a.a()};m.X=l("goog-control");
m.ne=function(a){var b=this.X(),c=[b],d=this.X();d!=b&&c.push(d);b=a.t;for(d=[];b;){var f=b&-b;d.push(this.jg(f));b&=~f}c.push.apply(c,d);(a=a.lc)&&c.push.apply(c,a);z&&!nb("7")&&c.push.apply(c,Uf(this,c));return c};function Uf(a,b,c){var d=[];if(c)b=b.concat([c]);B([],function(f){if(Ab(f,qa(D,b))&&(!c||D(f,c)))d.push(f.join("_"))});return d}Sf.prototype.jg=function(a){this.Hh||Wf(this);return this.Hh[a]};Sf.prototype.Ek=function(a){this.qq||Xf(this);a=parseInt(this.qq[a],10);return isNaN(a)?0:a};
function Wf(a){var b=a.X();a.Hh=Hc(1,b+"-disabled",2,b+"-hover",4,b+"-active",8,b+"-selected",16,b+"-checked",32,b+"-focused",64,b+"-open")}function Xf(a){a.Hh||Wf(a);a.qq=Ec(a.Hh)}function Yf(){}y(Yf,Sf);ea(Yf);m=Yf.prototype;m.mc=l("button");m.He=function(a,b,c){b==16?ee(a,"pressed",c):Yf.e.He.call(this,a,b,c)};m.d=function(a){var b=Yf.e.d.call(this,a),c=a.bi();c&&this.lm(b,c);(c=a.db())&&this.rb(b,c);a.tb&16&&this.He(b,16,false);return b};
m.pa=function(a,b){b=Yf.e.pa.call(this,a,b);var c=this.db(b);a.Ea=c;c=this.bi(b);a.Dm=c;a.tb&16&&this.He(b,16,false);return b};m.db=r;m.rb=r;m.bi=function(a){return a.title};m.lm=function(a,b){if(a)a.title=b||""};m.X=l("goog-button");function Zf(a){for(var b;a;){b=la(a);if(b=ag[b])break;a=a.e?a.e.constructor:null}if(b)return ja(b.na)?b.na():new b;return null}function bg(a,b){if(!a)throw Error("Invalid class name "+a);if(!ja(b))throw Error("Invalid decorator function "+b);cg[a]=b}var ag={},cg={};
function S(a,b,c){Q.call(this,c);this.da=b||Zf(this.constructor);this.ab=a}y(S,Q);m=S.prototype;m.ab=null;m.t=0;m.tb=39;m.Vj=255;m.Yu=0;m.ec=true;m.lc=null;m.fi=true;m.Ch=false;function dg(a,b){a.aa&&b!=a.fi&&eg(a,b);a.fi=b}S.prototype.vd=function(){return this.da.vd(this)};S.prototype.ys=function(){return this.Oa||(this.Oa=new Yc)};function fg(a,b){if(b){if(a.lc)D(a.lc,b)||a.lc.push(b);else a.lc=[b];a.da.cg(a,b,true)}}
function gg(a,b){if(b&&a.lc){Gb(a.lc,b);if(a.lc.length==0)a.lc=null;a.da.cg(a,b,false)}}m=S.prototype;m.cg=function(a,b){b?fg(this,a):gg(this,a)};m.d=function(){var a=this.da.d(this);this.q=a;var b=this.da.mc();b&&de(a,b);this.Ch||this.da.nf(a,false);this.ec||this.da.w(a,false)};m.ha=function(){return this.da.ha(this.a())};m.hc=function(a){return this.da.hc(a)};m.V=function(a){var b=this.q=a=this.da.pa(this,a),c=this.da.mc();c&&de(b,c);this.Ch||this.da.nf(a,false);this.ec=a.style.display!="none"};
m.i=function(){S.e.i.call(this);this.da.rg(this);if(this.tb&-2){this.fi&&eg(this,true);if(this.tb&32){var a=this.vd();if(a){var b=this.ys();b.xn(a);this.j().c(b,"key",this.Ms).c(a,"focus",this.Ks).c(a,"blur",this.Fo)}}}};
function eg(a,b){var c=a.j(),d=a.a();if(b){c.c(d,"mouseover",a.Nk).c(d,"mousedown",a.Lk).c(d,"mouseup",a.og).c(d,"mouseout",a.Mk);z&&c.c(d,"dblclick",a.Go)}else{c.cc(d,"mouseover",a.Nk).cc(d,"mousedown",a.Lk).cc(d,"mouseup",a.og).cc(d,"mouseout",a.Mk);z&&c.cc(d,"dblclick",a.Go)}}S.prototype.ga=function(){S.e.ga.call(this);this.Oa&&this.Oa.detach();this.ec&&this.ca()&&this.da.of(this,false)};
S.prototype.m=function(){S.e.m.call(this);if(this.Oa){this.Oa.p();delete this.Oa}delete this.da;this.lc=this.ab=null};S.prototype.tc=function(a){this.da.tc(this.a(),a);this.ab=a};function Vf(a,b){a.ab=b}m=S.prototype;m.Yh=function(){var a=this.ab;if(!a)return"";a=v(a)?a:u(a)?C(a,$d).join(""):Yd(a);return va(a)};m.Be=function(a){S.e.Be.call(this,a);var b=this.a();b&&this.da.Be(b,a)};m.nf=function(a){this.Ch=a;var b=this.a();b&&this.da.nf(b,a)};
m.w=function(a,b){if(b||this.ec!=a&&this.dispatchEvent(a?"show":"hide")){(b=this.a())&&this.da.w(b,a);this.ca()&&this.da.of(this,a);this.ec=a;return true}return false};m.ca=function(){return!!!(this.t&1)};m.Dc=function(a){var b=this.oa;if(!(b&&typeof b.ca=="function"&&!b.ca())&&hg(this,1,!a)){if(!a){this.setActive(false);this.Sg(false)}this.ec&&this.da.of(this,a);this.Eb(1,!a)}};m.Sg=function(a){hg(this,2,a)&&this.Eb(2,a)};m.Wo=function(){return!!(this.t&4)};
m.setActive=function(a){hg(this,4,a)&&this.Eb(4,a)};function ig(a,b){hg(a,8,b)&&a.Eb(8,b)}S.prototype.sg=function(){return!!(this.t&16)};S.prototype.Rg=function(a){hg(this,16,a)&&this.Eb(16,a)};function jg(a,b){hg(a,32,b)&&a.Eb(32,b)}function kg(a,b){hg(a,64,b)&&a.Eb(64,b)}S.prototype.Eb=function(a,b){if(this.tb&a&&b!=!!(this.t&a)){this.da.Eb(this,a,b);this.t=b?this.t|a:this.t&~a}};
function lg(a,b,c){if(a.aa&&a.t&b&&!c)throw Error("Component already rendered");!c&&a.t&b&&a.Eb(b,false);a.tb=c?a.tb|b:a.tb&~b}function mg(a,b){return!!(a.Vj&b)&&!!(a.tb&b)}function hg(a,b,c){return!!(a.tb&b)&&!!(a.t&b)!=c&&(!(a.Yu&b)||a.dispatchEvent(Ze(b,c)))&&!a.Wf}S.prototype.Nk=function(a){!ng(a,this.a())&&this.dispatchEvent("enter")&&this.ca()&&mg(this,2)&&this.Sg(true)};
S.prototype.Mk=function(a){if(!ng(a,this.a())&&this.dispatchEvent("leave")){mg(this,4)&&this.setActive(false);mg(this,2)&&this.Sg(false)}};function ng(a,b){return!!a.relatedTarget&&Rd(b,a.relatedTarget)}m=S.prototype;m.Lk=function(a){if(this.ca()){mg(this,2)&&this.Sg(true);if(bc(a)){mg(this,4)&&this.setActive(true);this.da.Zk(this)&&this.vd().focus()}}!this.Ch&&bc(a)&&a.preventDefault()};m.og=function(a){if(this.ca()){mg(this,2)&&this.Sg(true);this.Wo()&&this.Lg(a)&&mg(this,4)&&this.setActive(false)}};
m.Go=function(a){this.ca()&&this.Lg(a)};m.Lg=function(a){mg(this,16)&&this.Rg(!this.sg());mg(this,8)&&ig(this,true);mg(this,64)&&kg(this,!!!(this.t&64));var b=new Xb("action",this);if(a)for(var c=["altKey","ctrlKey","metaKey","shiftKey","platformModifierKey"],d,f=0;d=c[f];f++)b[d]=a[d];return this.dispatchEvent(b)};m.Ks=function(){mg(this,32)&&jg(this,true)};m.Fo=function(){mg(this,4)&&this.setActive(false);mg(this,32)&&jg(this,false)};
m.Ms=function(a){if(this.ec&&this.ca()&&this.di(a)){a.preventDefault();a.stopPropagation();return true}return false};m.di=function(a){return a.keyCode==13&&this.Lg(a)};if(!ja(S))throw Error("Invalid component class "+S);if(!ja(Sf))throw Error("Invalid renderer class "+Sf);var og=la(S);ag[og]=Sf;bg("goog-control",function(){return new S(null)});function pg(){}y(pg,Yf);ea(pg);m=pg.prototype;m.mc=e();
m.d=function(a){qg(this,a);return a.f().d("button",{"class":this.ne(a).join(" "),disabled:!a.ca(),title:a.bi()||"",value:a.db()||""},a.Yh()||"")};m.hc=function(a){return a.tagName=="BUTTON"||a.tagName=="INPUT"&&(a.type=="button"||a.type=="submit"||a.type=="reset")};m.pa=function(a,b){qg(this,a);b.disabled&&J(b,this.jg(1));return pg.e.pa.call(this,a,b)};m.rg=function(a){a.j().c(a.a(),"click",a.Lg)};m.nf=r;m.Be=r;m.Zk=function(a){return a.ca()};m.of=r;
m.Eb=function(a,b,c){pg.e.Eb.call(this,a,b,c);if((a=a.a())&&b==1)a.disabled=c};m.db=function(a){return a.value};m.rb=function(a,b){if(a)a.value=b};m.He=r;function qg(a,b){dg(b,false);b.Vj&=-256;lg(b,32,false)}function rg(a,b,c){S.call(this,a,b||pg.na(),c)}y(rg,S);m=rg.prototype;m.db=k("Ea");m.rb=function(a){this.Ea=a;this.da.rb(this.a(),a)};m.bi=k("Dm");m.lm=function(a){this.Dm=a;this.da.lm(this.a(),a)};m.m=function(){rg.e.m.call(this);delete this.Ea;delete this.Dm};
m.i=function(){rg.e.i.call(this);if(this.tb&32){var a=this.vd();a&&this.j().c(a,"keyup",this.di)}};m.di=function(a){if(a.keyCode==13&&a.type=="key"||a.keyCode==32&&a.type=="keyup")return this.Lg(a);return a.keyCode==32};bg("goog-button",function(){return new rg(null)});
function sg(a){var b=a.type;if(b===undefined)return null;switch(b.toLowerCase()){case "checkbox":case "radio":return a.checked?a.value:null;case "select-one":b=a.selectedIndex;return b>=0?a.options[b].value:null;case "select-multiple":b=[];for(var c,d=0;c=a.options[d];d++)c.selected&&b.push(c.value);return b.length?b:null;default:return a.value!==undefined?a.value:null}}
function tg(a,b){var c=a.type;if(c!==undefined)switch(c.toLowerCase()){case "checkbox":case "radio":a.checked=b?"checked":null;break;case "select-one":a.selectedIndex=-1;if(v(b))for(var d=0;c=a.options[d];d++)if(c.value==b){c.selected=true;break}break;case "select-multiple":b=b;if(v(b))b=[b];for(d=0;c=a.options[d];d++){c.selected=false;if(b)for(var f,g=0;f=b[g];g++)if(c.value==f)c.selected=true}break;default:a.value=q(b)?b:""}}function ug(a,b){Q.call(this,b);this.ra=a||""}y(ug,Q);
ug.prototype.xc=null;var vg="placeholder"in document.createElement("input");m=ug.prototype;m.ii=false;m.d=function(){this.q=this.f().d("input",{type:"text"})};m.V=function(a){ug.e.V.call(this,a);if(!this.ra)this.ra=a.getAttribute("label")||"";if(vg)this.a().Li=this.ra;else ee(this.a(),"label",this.ra)};
m.i=function(){ug.e.i.call(this);var a=new O(this);a.c(this.a(),"focus",this.Ho);a.c(this.a(),"blur",this.Hs);if(vg)this.$=a;else{$a&&a.c(this.a(),["keypress","keydown","keyup"],this.Js);var b=ud(this.a());b=Gd(b);a.c(b,"load",this.Rs);this.$=a;wg(this)}xg(this);this.a().Ga=this};m.ga=function(){ug.e.ga.call(this);yg(this);this.a().Ga=null};function wg(a){if(!a.us&&a.$&&a.a().form){a.$.c(a.a().form,"submit",a.Ls);a.us=true}}function yg(a){if(a.$){a.$.p();a.$=null}}m=ug.prototype;
m.m=function(){ug.e.m.call(this);yg(this)};m.Jf="label-input-label";m.Ho=function(){this.ii=true;md(this.a(),this.Jf);if(!vg)if(!Ag(this)&&!this.Zs){var a=this,b=function(){a.a().value=""};z?ed(b,10):b()}};m.Hs=function(){if(!vg){this.$.cc(this.a(),"click",this.Ho);this.xc=null}this.ii=false;xg(this)};m.Js=function(a){if(a.keyCode==27){if(a.type=="keydown")this.xc=this.a().value;else if(a.type=="keypress")this.a().value=this.xc;else if(a.type=="keyup")this.xc=null;a.preventDefault()}};
m.Ls=function(){if(!Ag(this)){this.a().value="";ed(this.Fs,10,this)}};m.Fs=function(){if(!Ag(this))this.a().value=this.ra};m.Rs=function(){xg(this)};function Ag(a){return!!a.a()&&a.a().value!=""&&a.a().value!=a.ra}m=ug.prototype;m.clear=function(){this.a().value="";if(this.xc!=null)this.xc=""};m.reset=function(){Ag(this)&&this.clear();xg(this)};m.rb=function(a){if(this.xc!=null)this.xc=a;this.a().value=a;xg(this)};m.db=function(){if(this.xc!=null)return this.xc;return Ag(this)?this.a().value:""};
m.Ui=function(a){if(vg){this.ra=a;if(this.a())this.a().Li=this.ra}else{if(this.a()&&!Ag(this))this.a().value="";this.ra=a;this.aq();this.a()&&ee(this.a(),"label",this.ra)}};function xg(a){if(vg){if(a.a().Li!=a.ra)a.a().Li=a.ra}else{wg(a);ee(a.a(),"label",a.ra)}if(Ag(a))md(a.a(),a.Jf);else{!a.Zs&&!a.ii&&J(a.a(),a.Jf);vg||ed(a.aq,10,a)}}ug.prototype.Dc=function(a){this.a().disabled=!a;pd(this.a(),this.Jf+"-disabled",!a)};ug.prototype.aq=function(){if(this.a()&&!Ag(this)&&!this.ii)this.a().value=this.ra};
function Bg(){}y(Bg,Sf);ea(Bg);m=Bg.prototype;m.mc=e();m.pa=function(a,b){Bg.e.pa.call(this,a,b);a.ab=b.value;return b};m.d=function(a){dg(a,false);a.Vj&=-256;lg(a,32,false);return a.f().d("textarea",{"class":this.ne(a).join(" "),disabled:!a.ca()},a.ab||"")};m.hc=function(a){return a.tagName=="TEXTAREA"};m.Be=r;m.Zk=function(a){return a.ca()};m.of=r;m.Eb=function(a,b,c){Bg.e.Eb.call(this,a,b,c);if((a=a.a())&&b==1)a.disabled=c};m.He=r;m.tc=function(a,b){if(a)a.value=b};m.X=l("goog-textarea");
var Cg,Dg,Eg,Fg,Gg,Hg,Ig;Ig=Hg=Gg=Fg=Eg=Dg=Cg=false;var Jg=Va();if(Jg)if(Jg.indexOf("Firefox")!=-1)Cg=true;else if(Jg.indexOf("Camino")!=-1)Dg=true;else if(Jg.indexOf("iPhone")!=-1||Jg.indexOf("iPod")!=-1)Eg=true;else if(Jg.indexOf("iPad")!=-1)Fg=true;else if(Jg.indexOf("Android")!=-1)Gg=true;else if(Jg.indexOf("Chrome")!=-1)Hg=true;else if(Jg.indexOf("Safari")!=-1)Ig=true;function Kg(a,b,c){S.call(this,a,b||Bg.na(),c);dg(this,false);this.nf(true);a||Vf(this,"")}y(Kg,S);var Lg=$a||A;m=Kg.prototype;
m.af=false;m.We=0;m.qp=0;m.ul=0;m.Lo=false;m.yi=false;m.dm=false;m.cm=false;function Mg(a){return a.Jg.top+a.Jg.bottom+a.En.top+a.En.bottom}function Ng(a){var b=a.ul,c=a.a();if(b&&c&&a.yi)b-=Mg(a);return b}function Og(a){var b=a.qp,c=a.a();if(b&&c&&a.yi)b-=Mg(a);return b}Kg.prototype.rb=function(a){this.tc(String(a))};Kg.prototype.db=function(){return this.a().value};Kg.prototype.tc=function(a){Kg.e.tc.call(this,a);Pg(this)};Kg.prototype.Dc=function(a){Kg.e.Dc.call(this,a);this.a().disabled=!a};
function Pg(a){a.a()&&a.ci()}
Kg.prototype.i=function(){var a=this.a(),b={overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"};v(b)?ze(a,undefined,b):vc(b,qa(ze,a));if(z){b=Te(a,"paddingLeft");var c=Te(a,"paddingRight"),d=Te(a,"paddingTop"),f=Te(a,"paddingBottom");b=new je(d,c,f,b)}else{b=Ae(a,"paddingLeft");c=Ae(a,"paddingRight");d=Ae(a,"paddingTop");f=Ae(a,"paddingBottom");b=new je(parseFloat(d),parseFloat(c),parseFloat(f),parseFloat(b))}this.Jg=
b;this.En=Je(a);this.j().c(a,"scroll",this.ci).c(a,"focus",this.ci).c(a,"keyup",this.ci).c(a,"mouseup",this.It);Pg(this)};
function Qg(a){if(!a.Lo){var b=a.a().cloneNode(false),c={position:"absolute",height:"auto",top:"-9999px",margin:"0",padding:"1px",border:"1px solid #000",overflow:"hidden"};v(c)?ze(b,undefined,c):vc(c,qa(ze,b));ae(a.f()).body.appendChild(b);c=b.scrollHeight;b.style.padding="10px";var d=b.scrollHeight;a.dm=d>c;c=d;b.style.borderWidth="10px";a.cm=b.scrollHeight>c;b.style.height="100px";if(b.offsetHeight!=100)a.yi=true;Nd(b);a.Lo=true}c=a.a();b=a.a().scrollHeight+Rg(a);if(a.yi)b-=Mg(a);else{if(!a.dm){d=
a.Jg;b+=d.top+d.bottom}if(!a.cm){a=Je(c);b+=a.top+a.bottom}}return b}function Sg(a,b){if(a.We!=b){a.We=b;a.a().style.height=b+"px"}}function Tg(a){a=a.a();a.style.height="auto";var b=a.value.match(/\n/g)||[];a.rows=b.length+1}function Rg(a){var b=a.a(),c=b.offsetHeight-b.clientHeight;if(!a.dm){var d=a.Jg;c-=d.top+d.bottom}if(!a.cm){a=Je(b);c-=a.top+a.bottom}return c>0?c:0}
Kg.prototype.ci=function(){if(!this.af){var a=false;this.af=true;var b=this.a();if(b.scrollHeight){var c=false,d=false,f=Qg(this),g=b.offsetHeight,h=Ng(this),j=Og(this);if(h&&f<h){Sg(this,h);c=true}else if(j&&f>j){Sg(this,j);b.style.overflowY="";d=true}else if(g!=f)Sg(this,f);else if(!this.We)this.We=f;if(!c&&!d&&Lg)a=true}else Tg(this);this.af=false;a&&Ug(this)}};
function Ug(a){var b=a.a();if(!a.af){a.af=true;var c=false;if(!b.value){b.value=" ";c=true}var d=b.scrollHeight;if(d){var f=Qg(a),g=Ng(a),h=Og(a);if(!(g&&f<=g)&&!(h&&f>=h)){h=a.Jg;b.style.paddingBottom=h.bottom+1+"px";if(Qg(a)==f){b.style.paddingBottom=h.bottom+d+"px";b.scrollTop=0;d=Qg(a)-d;d>=g?Sg(a,d):Sg(a,g)}b.style.paddingBottom=h.bottom+"px"}}else Tg(a);if(c)b.value="";a.af=false}}
Kg.prototype.It=function(){var a=this.a(),b=a.offsetHeight;if(a.filters&&a.filters.length)if(a=a.filters.item("DXImageTransform.Microsoft.DropShadow"))b-=a.offX;if(b!=this.We)this.We=this.ul=b};function Vg(a){this.Ya=new we;a&&this.Qj(a)}function Wg(a){var b=typeof a;return b=="object"&&a||b=="function"?"o"+la(a):b.substr(0,1)+a}m=Vg.prototype;m.add=function(a){this.Ya.T(Wg(a),a)};m.Qj=function(a){a=te(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};
m.Bc=function(a){a=te(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};m.remove=function(a){return this.Ya.remove(Wg(a))};m.clear=function(){this.Ya.clear()};m.Lb=function(){return this.Ya.Lb()};m.contains=function(a){return this.Ya.Xb(Wg(a))};m.nc=function(){return this.Ya.nc()};m.xb=function(){return new Vg(this)};function Xg(a){return Yg(a||arguments.callee.caller,[])}
function Yg(a,b){var c=[];if(D(b,a))c.push("[...circular reference...]");else if(a&&b.length<50){c.push(Zg(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){f>0&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":g=g;break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Zg(g))?g:"[fn]";break;case "undefined":default:g=typeof g;break}if(g.length>40)g=g.substr(0,40)+"...";c.push(g)}b.push(a);c.push(")\n");try{c.push(Yg(a.caller,
b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Zg(a){if($g[a])return $g[a];if(tb){var b=tb(a);if(b)return $g[a]=b}a=String(a);if(!$g[a]){b=/function ([^\(]+)/.exec(a);$g[a]=b?b[1]:"[Anonymous]"}return $g[a]}var $g={};function ah(a,b,c,d,f){this.reset(a,b,c,d,f)}ah.prototype.Iu=0;ah.prototype.oo=null;ah.prototype.no=null;var bh=0;
ah.prototype.reset=function(a,b,c,d,f){this.Iu=typeof f=="number"?f:bh++;this.Am=d||ra();this.yg=a;this.yl=b;this.Bw=c;delete this.oo;delete this.no};ah.prototype.fq=aa("yg");(function(){this.clear()}).prototype.clear=function(){this.gc=new Array(0);this.gw=-1;this.ww=false};function ch(a){this.Nt=a}ch.prototype.oa=null;ch.prototype.yg=null;ch.prototype.ya=null;ch.prototype.Ko=null;function dh(a,b){this.name=a;this.value=b}dh.prototype.toString=k("name");new dh("OFF",Infinity);new dh("SHOUT",1200);
var eh=new dh("SEVERE",1E3),fh=new dh("WARNING",900);new dh("INFO",800);var gh=new dh("CONFIG",700),hh=new dh("FINE",500);new dh("FINER",400);var ih=new dh("FINEST",300);new dh("ALL",0);ch.prototype.fq=aa("yg");function jh(a){if(a.yg)return a.yg;if(a.oa)return jh(a.oa);return null}ch.prototype.log=function(a,b,c){a.value>=jh(this).value&&kh(this,this.zs(a,b,c))};
ch.prototype.zs=function(a,b,c){var d=new ah(a,String(b),this.Nt);if(c){d.oo=c;var f;var g=arguments.callee.caller;try{var h;var j=da("window.location.href");if(v(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:j,stack:"Not available"};else{var n,o,t=false;try{n=c.lineNumber||c.zw||"Not available"}catch(N){n="Not available";t=true}try{o=c.fileName||c.filename||c.sourceURL||j}catch(ha){o="Not available";t=true}h=t||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,
lineNumber:n,fileName:o,stack:c.stack||"Not available"}:c}f="Message: "+Ba(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+Ba(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+Ba(Xg(g)+"-> ")}catch(fa){f="Exception trying to expose exception! You win, we lose. "+fa}d.no=f}return d};function lh(a,b,c){a.log(hh,b,c)}
function kh(a,b){var c="log:"+b.yl;if(p.console)if(p.console.timeStamp)p.console.timeStamp(c);else p.console.markTimeline&&p.console.markTimeline(c);p.msWriteProfilerMark&&p.msWriteProfilerMark(c);for(a=a;a;){c=a;if(c.Ko)for(var d=0,f=undefined;f=c.Ko[d];d++)f(b);a=a.oa}}var mh={},nh=null;function oh(a){if(!nh){nh=new ch("");mh[""]=nh;nh.fq(gh)}return mh[a]||ph(a)}
function ph(a){var b=new ch(a),c=a.lastIndexOf("."),d=a.substr(0,c);c=a.substr(c+1);d=oh(d);if(!d.ya)d.ya={};d.ya[c]=b;b.oa=d;return mh[a]=b}function qh(){}qh.prototype.Gn=null;qh.prototype.mk=s;qh.prototype.Bo=function(){return this.Gn||(this.Gn=this.Vo())};qh.prototype.Vo=s;function rh(){return sh.mk()}var sh;function th(){}y(th,qh);th.prototype.mk=function(){var a=uh(this);return a?new ActiveXObject(a):new XMLHttpRequest};th.prototype.Vo=function(){var a={};if(uh(this)){a[0]=true;a[1]=true}return a};
th.prototype.Qk=null;function uh(a){if(!a.Qk&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);return a.Qk=d}catch(f){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Qk}sh=new th;function vh(){if($a){this.de={};this.uj={};this.fj=[]}}vh.prototype.Xa=oh("goog.net.xhrMonitor");
vh.prototype.jc=$a;vh.prototype.Dc=function(a){this.jc=$a&&a};function wh(a,b){if(a.jc){var c=v(b)?b:ka(b)?la(b):"";a.Xa.log(ih,"Pushing context: "+b+" ("+c+")",undefined);a.fj.push(c)}}function xh(a){if(a.jc){var b=a.fj.pop();a.Xa.log(ih,"Popping context: "+b,undefined);yh(a,b)}}function zh(a,b){if(a.jc){b=la(b);lh(a.Xa,"Opening XHR : "+b);for(var c=0;c<a.fj.length;c++){var d=a.fj[c];Ah(a,a.de,d,b);Ah(a,a.uj,b,d)}}}
function yh(a,b){var c=a.uj[b],d=a.de[b];if(c&&d){a.Xa.log(ih,"Updating dependent contexts",undefined);B(c,function(f){B(d,function(g){Ah(this,this.de,f,g);Ah(this,this.uj,g,f)},this)},a)}}function Ah(a,b,c,d){b[c]||(b[c]=[]);D(b[c],d)||b[c].push(d)}var Bh=new vh,Ch=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Dh(a){return a.match(Ch)}function Eh(a){E.call(this);this.headers=new we;this.vj=a||null}
y(Eh,G);Eh.prototype.Xa=oh("goog.net.XhrIo");var Fh=/^https?:?$/i,Gh=[];function Hh(a,b,c,d,f,g){var h=new Eh;Gh.push(h);b&&F(h,"complete",b);F(h,"ready",qa(Ih,h));g&&Jh(h,g);h.send(a,c,d,f)}function Ih(a){a.p();Gb(Gh,a)}m=Eh.prototype;m.ld=false;m.Z=null;m.tj=null;m.xg="";m.cp="";m.bf=0;m.wg="";m.xk=false;m.mi=false;m.Uk=false;m.qe=false;m.hh=0;m.Ge=null;m.$p="";m.Dv=false;function Jh(a,b){a.hh=Math.max(0,b)}
Eh.prototype.send=function(a,b,c,d){if(this.Z)throw Error("[goog.net.XhrIo] Object is active with another request");b=b?b.toUpperCase():"GET";this.xg=a;this.wg="";this.bf=0;this.cp=b;this.xk=false;this.ld=true;this.Z=this.vj?this.vj.mk():new rh;this.tj=this.vj?this.vj.Bo():sh.Bo();zh(Bh,this.Z);this.Z.onreadystatechange=w(this.Ip,this);try{lh(this.Xa,Kh(this,"Opening Xhr"));this.Uk=true;this.Z.open(b,a,true);this.Uk=false}catch(f){lh(this.Xa,Kh(this,"Error opening Xhr: "+f.message));Lh(this,5,f);
return}a=c||"";var g=this.headers.xb();d&&ve(d,function(j,n){g.T(n,j)});b=="POST"&&!g.Xb("Content-Type")&&g.T("Content-Type","application/x-www-form-urlencoded;charset=utf-8");ve(g,function(j,n){this.Z.setRequestHeader(n,j)},this);if(this.$p)this.Z.Jw=this.$p;if("withCredentials"in this.Z)this.Z.Rw=this.Dv;try{if(this.Ge){dd.clearTimeout(this.Ge);this.Ge=null}if(this.hh>0){lh(this.Xa,Kh(this,"Will abort after "+this.hh+"ms if incomplete"));this.Ge=dd.setTimeout(w(this.yf,this),this.hh)}lh(this.Xa,
Kh(this,"Sending request"));this.mi=true;this.Z.send(a);this.mi=false}catch(h){lh(this.Xa,Kh(this,"Send error: "+h.message));Lh(this,5,h)}};Eh.prototype.dispatchEvent=function(a){if(this.Z){wh(Bh,this.Z);try{return Eh.e.dispatchEvent.call(this,a)}finally{xh(Bh)}}else return Eh.e.dispatchEvent.call(this,a)};Eh.prototype.yf=function(){if(typeof ba!="undefined")if(this.Z){this.wg="Timed out after "+this.hh+"ms, aborting";this.bf=8;lh(this.Xa,Kh(this,this.wg));this.dispatchEvent("timeout");this.abort(8)}};
function Lh(a,b,c){a.ld=false;if(a.Z){a.qe=true;a.Z.abort();a.qe=false}a.wg=c;a.bf=b;Mh(a);Nh(a)}function Mh(a){if(!a.xk){a.xk=true;a.dispatchEvent("complete");a.dispatchEvent("error")}}Eh.prototype.abort=function(a){if(this.Z&&this.ld){lh(this.Xa,Kh(this,"Aborting"));this.ld=false;this.qe=true;this.Z.abort();this.qe=false;this.bf=a||7;this.dispatchEvent("complete");this.dispatchEvent("abort");Nh(this)}};
Eh.prototype.m=function(){if(this.Z){if(this.ld){this.ld=false;this.qe=true;this.Z.abort();this.qe=false}Nh(this,true)}Eh.e.m.call(this)};Eh.prototype.Ip=function(){!this.Uk&&!this.mi&&!this.qe?this.Nl():Oh(this)};Eh.prototype.Nl=function(){Oh(this)};
function Oh(a){if(a.ld)if(typeof ba!="undefined")if(a.tj[1]&&Ph(a)==4&&Qh(a)==2)lh(a.Xa,Kh(a,"Local request error detected and ignored"));else if(a.mi&&Ph(a)==4)dd.setTimeout(w(a.Ip,a),0);else{a.dispatchEvent("readystatechange");if(a.et()){lh(a.Xa,Kh(a,"Request complete"));a.ld=false;if(Rh(a)){a.dispatchEvent("complete");a.dispatchEvent("success")}else{a.bf=6;a.wg=Sh(a)+" ["+Qh(a)+"]";Mh(a)}Nh(a)}}}
function Nh(a,b){if(a.Z){var c=a.Z,d=a.tj[0]?r:null;a.Z=null;a.tj=null;if(a.Ge){dd.clearTimeout(a.Ge);a.Ge=null}if(!b){wh(Bh,c);a.dispatchEvent("ready");xh(Bh)}if(Bh.jc){b=la(c);lh(Bh.Xa,"Closing XHR : "+b);delete Bh.uj[b];for(var f in Bh.de){Gb(Bh.de[f],b);Bh.de[f].length==0&&delete Bh.de[f]}}try{c.onreadystatechange=d}catch(g){a.Xa.log(eh,"Problem encountered resetting onreadystatechange: "+g.message,undefined)}}}Eh.prototype.Wo=function(){return!!this.Z};
Eh.prototype.et=function(){return Ph(this)==4};function Rh(a){switch(Qh(a)){case 0:a=(a=v(a.xg)?Dh(a.xg)[1]||null:a.xg.$c)?Fh.test(a):self.location?Fh.test(self.location.protocol):true;return!a;case 200:case 204:case 304:case 1223:return true;default:return false}}function Ph(a){return a.Z?a.Z.readyState:0}function Qh(a){try{return Ph(a)>2?a.Z.status:-1}catch(b){a.Xa.log(fh,"Can not get status: "+b.message,undefined);return-1}}
function Sh(a){try{return Ph(a)>2?a.Z.statusText:""}catch(b){lh(a.Xa,"Can not get status: "+b.message);return""}}function Th(a,b){if(a.Z){a=a.Z.responseText;if(b&&a.indexOf(b)==0)a=a.substring(b.length);return Lf(a)}}function Kh(a,b){return b+" ["+a.cp+" "+a.xg+" "+Qh(a)+"]"}Qb[Qb.length]=function(a){Eh.prototype.Nl=a(Eh.prototype.Nl)};
function T(a,b){var c;if(a instanceof T){this.pf(b==null?a.yc:b);Uh(this,a.$c);Vh(this,a.oh);Wh(this,a.Ib);Xh(this,a.zc);Yh(this,a.ve);Zh(this,a.Ob.xb());$h(this,a.hg)}else if(a&&(c=Dh(String(a)))){this.pf(!!b);Uh(this,c[1]||"",true);Vh(this,c[2]||"",true);Wh(this,c[3]||"",true);Xh(this,c[4]);Yh(this,c[5]||"",true);Zh(this,c[6]||"",true);$h(this,c[7]||"",true)}else{this.pf(!!b);this.Ob=new ai(null,this,this.yc)}}m=T.prototype;m.$c="";m.oh="";m.Ib="";m.zc=null;m.ve="";m.hg="";m.ft=false;m.yc=false;
m.toString=function(){if(this.Wb)return this.Wb;var a=[];this.$c&&a.push(bi(this.$c,ci),":");if(this.Ib){a.push("//");this.oh&&a.push(bi(this.oh,ci),"@");a.push(di(this.Ib));this.zc!=null&&a.push(":",String(this.zc))}if(this.ve){this.Ib&&this.ve.charAt(0)!="/"&&a.push("/");a.push(bi(this.ve,this.ve.charAt(0)=="/"?ei:fi))}var b=String(this.Ob);b&&a.push("?",b);this.hg&&a.push("#",bi(this.hg,gi));return this.Wb=a.join("")};
m.xb=function(){var a=this.$c,b=this.oh,c=this.Ib,d=this.zc,f=this.ve,g=this.Ob.xb(),h=this.hg,j=new T(null,this.yc);a&&Uh(j,a);b&&Vh(j,b);c&&Wh(j,c);d&&Xh(j,d);f&&Yh(j,f);g&&Zh(j,g);h&&$h(j,h);return j};function Uh(a,b,c){hi(a);delete a.Wb;a.$c=c?b?decodeURIComponent(b):"":b;if(a.$c)a.$c=a.$c.replace(/:$/,"");return a}function Vh(a,b,c){hi(a);delete a.Wb;a.oh=c?b?decodeURIComponent(b):"":b;return a}function Wh(a,b,c){hi(a);delete a.Wb;a.Ib=c?b?decodeURIComponent(b):"":b;return a}
function Xh(a,b){hi(a);delete a.Wb;if(b){b=Number(b);if(isNaN(b)||b<0)throw Error("Bad port number "+b);a.zc=b}else a.zc=null;return a}function Yh(a,b,c){hi(a);delete a.Wb;a.ve=c?b?decodeURIComponent(b):"":b;return a}function Zh(a,b,c){hi(a);delete a.Wb;if(b instanceof ai){a.Ob=b;a.Ob.nh=a;a.Ob.pf(a.yc)}else{c||(b=bi(b,ii));a.Ob=new ai(b,a,a.yc)}return a}function U(a,b,c){hi(a);delete a.Wb;a.Ob.T(b,c);return a}
function ji(a,b,c){hi(a);delete a.Wb;u(c)||(c=[String(c)]);var d=a.Ob;b=b;c=c;ki(d);li(d);b=mi(d,b);if(d.Xb(b)){var f=d.P.va(b);if(u(f))d.R-=f.length;else d.R--}if(c.length>0){d.P.T(b,c);d.R+=c.length}return a}function $h(a,b,c){hi(a);delete a.Wb;a.hg=c?b?decodeURIComponent(b):"":b;return a}function hi(a){if(a.ft)throw Error("Tried to modify a read-only Uri");}T.prototype.pf=function(a){this.yc=a;this.Ob&&this.Ob.pf(a);return this};function di(a){if(v(a))return encodeURIComponent(a);return null}
var ni=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/;function bi(a,b){var c=null;if(v(a)){c=a;ni.test(c)||(c=encodeURI(a));if(c.search(b)>=0)c=c.replace(b,oi)}return c}function oi(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ci=/[#\/\?@]/g,fi=/[\#\?:]/g,ei=/[\#\?]/g,ii=/[\#\?@]/g,gi=/#/g;function ai(a,b,c){this.Oc=a||null;this.nh=b||null;this.yc=!!c}
function ki(a){if(!a.P){a.P=new we;a.R=0;if(a.Oc)for(var b=a.Oc.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=null,g=null;if(d>=0){f=b[c].substring(0,d);g=b[c].substring(d+1)}else f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=mi(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}m=ai.prototype;m.P=null;m.R=null;m.add=function(a,b){ki(this);li(this);a=mi(this,a);if(this.Xb(a)){var c=this.P.va(a);u(c)?c.push(b):this.P.T(a,[c,b])}else this.P.T(a,b);this.R++;return this};
m.remove=function(a){ki(this);a=mi(this,a);if(this.P.Xb(a)){li(this);var b=this.P.va(a);if(u(b))this.R-=b.length;else this.R--;return this.P.remove(a)}return false};m.clear=function(){li(this);this.P&&this.P.clear();this.R=0};m.Lb=function(){ki(this);return this.R==0};m.Xb=function(a){ki(this);a=mi(this,a);return this.P.Xb(a)};m.wd=function(){ki(this);for(var a=this.P.nc(),b=this.P.wd(),c=[],d=0;d<b.length;d++){var f=a[d];if(u(f))for(var g=0;g<f.length;g++)c.push(b[d]);else c.push(b[d])}return c};
m.nc=function(a){ki(this);if(a){a=mi(this,a);if(this.Xb(a)){var b=this.P.va(a);if(u(b))return b;else{a=[];a.push(b)}}else a=[]}else{b=this.P.nc();a=[];for(var c=0;c<b.length;c++){var d=b[c];u(d)?Kb(a,d):a.push(d)}}return a};m.T=function(a,b){ki(this);li(this);a=mi(this,a);if(this.Xb(a)){var c=this.P.va(a);if(u(c))this.R-=c.length;else this.R--}this.P.T(a,b);this.R++;return this};m.va=function(a,b){ki(this);a=mi(this,a);if(this.Xb(a)){a=this.P.va(a);return u(a)?a[0]:a}else return b};
m.toString=function(){if(this.Oc)return this.Oc;if(!this.P)return"";for(var a=[],b=0,c=this.P.wd(),d=0;d<c.length;d++){var f=c[d],g=za(f);f=this.P.va(f);if(u(f))for(var h=0;h<f.length;h++){b>0&&a.push("&");a.push(g);f[h]!==""&&a.push("=",za(f[h]));b++}else{b>0&&a.push("&");a.push(g);f!==""&&a.push("=",za(f));b++}}return this.Oc=a.join("")};function li(a){delete a.qk;delete a.Oc;a.nh&&delete a.nh.Wb}
ai.prototype.xb=function(){var a=new ai;if(this.qk)a.qk=this.qk;if(this.Oc)a.Oc=this.Oc;if(this.P)a.P=this.P.xb();return a};function mi(a,b){b=String(b);if(a.yc)b=b.toLowerCase();return b}ai.prototype.pf=function(a){if(a&&!this.yc){ki(this);li(this);ve(this.P,function(b,c){var d=c.toLowerCase();if(c!=d){this.remove(c);this.add(d,b)}},this)}this.yc=a};function pi(a,b){this.nh=new T(a);this.vr=b?b:"callback";this.yf=5E3}var qi=0;
pi.prototype.send=function(a,b,c,d){a=a||null;if(!document.documentElement.firstChild){c&&c(a);return null}d=d||"_"+(qi++).toString(36)+ra().toString(36);p._callbacks_||(p._callbacks_={});var f=document.createElement("script"),g=null;if(this.yf>0){c=ri(d,f,a,c);g=p.setTimeout(c,this.yf)}c=this.nh.xb();a&&si(a,c);if(b){b=ti(d,f,b,g);p._callbacks_[d]=b;ji(c,this.vr,"_callbacks_."+d)}Cd(f,{type:"text/javascript",id:d,charset:"UTF-8",src:c.toString()});document.getElementsByTagName("head")[0].appendChild(f);
return{pe:d,yf:g}};function ri(a,b,c,d){return function(){ui(a,b,false);d&&d(c)}}function ti(a,b,c,d){return function(){p.clearTimeout(d);ui(a,b,true);c.apply(undefined,arguments)}}function ui(a,b,c){p.setTimeout(function(){Nd(b)},0);if(p._callbacks_[a])if(c)delete p._callbacks_[a];else p._callbacks_[a]=r}function si(a,b){for(var c in a)if(!a.hasOwnProperty||a.hasOwnProperty(c))ji(b,c,a[c]);return b}function vi(){this.Mn=[]}y(vi,Sf);ea(vi);
function wi(a,b){var c=a.Mn[b];if(!c){switch(b){case 0:c=a.X()+"-highlight";break;case 1:c=a.X()+"-checkbox";break;case 2:c=a.X()+"-content";break}a.Mn[b]=c}return c}m=vi.prototype;m.mc=l("menuitem");m.d=function(a){var b=a.f().d("div",this.ne(a).join(" "),xi(this,a.ab,a.f()));yi(this,a,b,!!(a.tb&8)||!!(a.tb&16));return b};m.ha=function(a){return a&&a.firstChild};
m.pa=function(a,b){var c=Pd(b),d=wi(this,2);c&&c.className.indexOf(d)!=-1||b.appendChild(xi(this,b.childNodes,a.f()));if(D(kd(b),"goog-option")){a.Ti(true);this.Ti(a,b,true)}return vi.e.pa.call(this,a,b)};m.tc=function(a,b){var c=this.ha(a),d=zi(this,a)?c.firstChild:null;vi.e.tc.call(this,a,b);if(d&&!zi(this,a))c.insertBefore(d,c.firstChild||null)};function xi(a,b,c){a=wi(a,2);return c.d("div",a,b)}vi.prototype.Ti=function(a,b,c){if(b){de(b,c?"menuitemcheckbox":this.mc());yi(this,a,b,c)}};
function zi(a,b){if(b=a.ha(b)){b=b.firstChild;a=wi(a,1);return!!b&&!!b.className&&b.className.indexOf(a)!=-1}return false}function yi(a,b,c,d){if(d!=zi(a,c)){pd(c,"goog-option",d);c=a.ha(c);if(d){a=wi(a,1);c.insertBefore(b.f().d("div",a),c.firstChild||null)}else c.removeChild(c.firstChild)}}vi.prototype.jg=function(a){switch(a){case 2:return wi(this,0);case 16:case 8:return"goog-option-selected";default:return vi.e.jg.call(this,a)}};
vi.prototype.Ek=function(a){var b=wi(this,0);switch(a){case "goog-option-selected":return 16;case b:return 2;default:return vi.e.Ek.call(this,a)}};vi.prototype.X=l("goog-menuitem");function Ai(a,b,c,d){S.call(this,a,d||vi.na(),c);this.rb(b)}y(Ai,S);m=Ai.prototype;m.db=function(){var a=this.Za;return a!=null?a:this.Yh()};m.rb=aa("Za");m.Ti=function(a){lg(this,16,a);var b=this.a();b&&this.da.Ti(this,b,a)};
m.Yh=function(){var a=this.ab;if(u(a)){a=C(a,function(b){return D(kd(b),"goog-menuitem-accel")?"":$d(b)}).join("");return va(a)}return Ai.e.Yh.call(this)};m.og=function(a){var b=this.oa;if(b){var c=b.iu;b.iu=null;if(c&&typeof a.clientX=="number"){b=new qd(a.clientX,a.clientY);if(c==b?true:!c||!b?false:c.x==b.x&&c.y==b.y)return}}Ai.e.og.call(this,a)};bg("goog-menuitem",function(){return new Ai(null)});function Bi(a){return function(){return a}}Bi(false);Bi(true);Bi(null);function Ci(){}y(Ci,Sf);ea(Ci);
Ci.prototype.d=function(a){return a.f().d("div",this.X())};Ci.prototype.pa=function(a,b){if(b.tagName=="HR"){var c=b;b=this.d(a);c.parentNode&&c.parentNode.insertBefore(b,c);Nd(c)}else J(b,this.X());return b};Ci.prototype.tc=e();Ci.prototype.X=l("goog-menuseparator");function Di(a,b){S.call(this,null,a||Ci.na(),b);lg(this,1,false);lg(this,2,false);lg(this,4,false);lg(this,32,false);this.t=1}y(Di,S);Di.prototype.i=function(){Di.e.i.call(this);de(this.a(),"separator")};bg("goog-menuseparator",function(){return new Di});
function Ei(){}ea(Ei);m=Ei.prototype;m.mc=e();m.d=function(a){return a.f().d("div",this.ne(a).join(" "))};m.ha=function(a){return a};m.hc=function(a){return a.tagName=="DIV"};m.pa=function(a,b){b.id&&af(a,b.id);var c=this.X(),d=false,f=kd(b);f&&B(f,function(g){if(g==c)d=true;else g&&Fi(this,a,g,c)},this);d||J(b,c);Gi(this,a,this.ha(b));return b};function Fi(a,b,c,d){if(c==d+"-disabled")b.Dc(false);else if(c==d+"-horizontal")b.jm(Hi);else c==d+"-vertical"&&b.jm(Ii)}
function Gi(a,b,c,d){if(c){d=d||c.firstChild;for(var f;d&&d.parentNode==c;){f=d.nextSibling;if(d.nodeType==1){var g=a.Dk(d);if(g){g.q=d;b.ca()||g.Dc(false);b.D(g);g.pa(d)}}else if(!d.nodeValue||wa(d.nodeValue)=="")c.removeChild(d);d=f}}}m=Ei.prototype;m.Dk=function(a){a:{for(var b=kd(a),c=0,d=b.length;c<d;c++)if(a=b[c]in cg?cg[b[c]]():null){a=a;break a}a=null}return a};m.rg=function(a){a=a.a();Re(a,true,$a);if(z)a.hideFocus=true;var b=this.mc();b&&de(a,b)};m.vd=function(a){return a.a()};m.X=l("goog-container");
m.ne=function(a){var b=this.X(),c=[b,a.qc==Hi?b+"-horizontal":b+"-vertical"];a.ca()||c.push(b+"-disabled");return c};var Hi="horizontal",Ii="vertical";function Ji(){}y(Ji,Sf);ea(Ji);Ji.prototype.X=l("goog-menuheader");function Ki(a,b,c){S.call(this,a,c||Ji.na(),b);lg(this,1,false);lg(this,2,false);lg(this,4,false);lg(this,32,false);this.t=1}y(Ki,S);bg("goog-menuheader",function(){return new Ki(null)});function Li(){}y(Li,Ei);ea(Li);m=Li.prototype;m.mc=l("menu");
m.hc=function(a){return a.tagName=="UL"||Li.e.hc.call(this,a)};m.Dk=function(a){return a.tagName=="HR"?new Di:Li.e.Dk.call(this,a)};m.X=l("goog-menu");m.rg=function(a){Li.e.rg.call(this,a);a=a.a();ee(a,"haspopup","true")};bg("goog-menuseparator",function(){return new Di});function Mi(a,b,c){return Math.min(Math.max(a,b),c)}function Ni(a){E.call(this);this.Ye={};this.qb=new O(this);this.oa=a}y(Ni,G);function Oi(a,b,c){if(c=v(c)?c:c.src)a.Ye[b]=c}Ni.prototype.start=function(){vc(this.Ye,this.rt,this)};
Ni.prototype.rt=function(a,b){var c;c=this.oa?sd(this.oa).d("img"):new Image;this.qb.c(c,[z?"readystatechange":"load","abort","error"],this.au);c.id=b;c.src=a};
Ni.prototype.au=function(a){var b=a.currentTarget;if(b){if(a.type=="readystatechange")if(b.readyState=="complete")a.type="load";else return;if(typeof b.naturalWidth=="undefined")if(a.type=="load"){b.naturalWidth=b.width;b.naturalHeight=b.height}else{b.naturalWidth=0;b.naturalHeight=0}this.dispatchEvent({type:a.type,target:b});if(!this.Wf){Ac(this.Ye,b.id);if(zc(this.Ye)){this.dispatchEvent("complete");this.qb&&this.qb.Bc()}}}};
Ni.prototype.m=function(){this.Ye&&delete this.Ye;if(this.qb){this.qb.p();this.qb=null}Ni.e.m.call(this)};function Pi(){}y(Pi,Sf);ea(Pi);Pi.prototype.d=function(a){var b=a.f().d("span",this.ne(a).join(" "));Qi(this,b,a.od);return b};Pi.prototype.pa=function(a,b){b=Pi.e.pa.call(this,a,b);var c=kd(b),d=Ri;if(D(c,Si(this,Ti)))d=Ti;else if(D(c,Si(this,Ui)))d=Ui;else if(D(c,Si(this,Ri)))d=Ri;a.od=d;return b};Pi.prototype.mc=l("checkbox");
function Qi(a,b,c){if(b){var d=Si(a,c);if(!D(kd(b),d)){vc(Vi,function(f){f=Si(this,f);pd(b,f,f==d)},a);ee(b,"checked",c==Ti?"mixed":c==Ui?"true":"false")}}}Pi.prototype.X=l("goog-checkbox");function Si(a,b){a=a.X();if(b==Ui)return a+"-checked";else if(b==Ri)return a+"-unchecked";else if(b==Ti)return a+"-undetermined";throw Error("Invalid checkbox state: "+b);}function Wi(a,b,c){c=c||Pi.na();S.call(this,null,c,b);this.od=a!==undefined?a:Ri}y(Wi,S);var Ui=true,Ri=false,Ti=null,Vi={Fv:Ui,Wv:Ri,Xv:Ti};
m=Wi.prototype;m.ra=null;m.sg=function(){return this.od==Ui};m.Rg=function(a){if(a!=this.od){this.od=a;Qi(this.da,this.a(),this.od)}};m.Ui=function(a){if(this.aa){this.ga();this.ra=a;this.i()}else this.ra=a};m.i=function(){Wi.e.i.call(this);if(this.fi){var a=this.j();this.ra&&a.c(this.ra,"click",this.Ik).c(this.ra,"mouseover",this.Nk).c(this.ra,"mouseout",this.Mk).c(this.ra,"mousedown",this.Lk).c(this.ra,"mouseup",this.og);a.c(this.a(),"click",this.Ik)}};
m.Dc=function(a){Wi.e.Dc.call(this,a);if(a=this.a())a.tabIndex=this.ca()?0:-1};m.Ik=function(a){a.stopPropagation();var b=this.od?"uncheck":"check";if(this.ca()&&this.dispatchEvent(b)){a.preventDefault();this.Rg(this.od?Ri:Ui);this.dispatchEvent("change")}};m.di=function(a){a.keyCode==32&&this.Ik(a);return false};bg("goog-checkbox",function(){return new Wi});function Xi(a,b,c){E.call(this);this.qt=a;this.$e=b;this.qb=c;this.wb=w(this.eu,this)}y(Xi,E);Xi.prototype.Xi=false;Xi.prototype.Sl=0;
Xi.prototype.ea=null;function Yi(a){if(!a.ea&&!a.Sl)Zi(a);else a.Xi=true}Xi.prototype.stop=function(){if(this.ea){dd.clearTimeout(this.ea);this.ea=null;this.Xi=false}};Xi.prototype.pause=function(){this.Sl++};Xi.prototype.m=function(){Xi.e.m.call(this);this.stop()};Xi.prototype.eu=function(){this.ea=null;if(this.Xi&&!this.Sl){this.Xi=false;Zi(this)}};function Zi(a){a.ea=ed(a.wb,a.$e);a.qt.call(a.qb)}
function $i(a,b,c,d){E.call(this);if(!u(a)||!u(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.uf=a;this.gs=b;this.Th=c;this.ln=d;this.coords=[]}y($i,G);var aj={},bj=null;function cj(){dj();var a=ra();for(var b in aj)ej(aj[b],a);bj=zc(aj)?null:dd.setTimeout(cj,20)}function dj(){if(bj){dd.clearTimeout(bj);bj=null}}function fj(a){a=la(a);delete aj[a];zc(aj)&&dj()}m=$i.prototype;m.t=0;m.wo=0;m.ac=0;
m.De=null;m.lo=null;m.hl=null;m.Ha=function(a){if(a||this.t==0){this.ac=0;this.coords=this.uf}else if(this.t==1)return false;fj(this);this.De=ra();if(this.t==-1)this.De-=this.Th*this.ac;this.lo=this.De+this.Th;this.hl=this.De;this.ac||this.Dg();gj(this,"play");this.t==-1&&hj(this);this.t=1;a=la(this);a in aj||(aj[a]=this);bj||(bj=dd.setTimeout(cj,20));ej(this,this.De);return true};m.stop=function(a){fj(this);this.t=0;if(a)this.ac=1;ij(this,this.ac);gj(this,"stop");this.Ei()};
m.pause=function(){if(this.t==1){fj(this);this.t=-1;gj(this,"pause")}};m.m=function(){this.t!=0&&this.stop(false);gj(this,"destroy");$i.e.m.call(this)};function ej(a,b){a.ac=(b-a.De)/(a.lo-a.De);if(a.ac>=1)a.ac=1;a.wo=1E3/(b-a.hl);a.hl=b;ij(a,a.ac);if(a.ac==1){a.t=0;fj(a);gj(a,"finish");a.Ei()}else a.t==1&&a.Il()}function ij(a,b){if(ja(a.ln))b=a.ln(b);a.coords=new Array(a.uf.length);for(var c=0;c<a.uf.length;c++)a.coords[c]=(a.gs[c]-a.uf[c])*b+a.uf[c]}$i.prototype.Il=function(){gj(this,"animate")};
$i.prototype.Dg=function(){gj(this,"begin")};$i.prototype.Ei=function(){gj(this,"end")};function hj(a){gj(a,"resume")}function gj(a,b){a.dispatchEvent(new jj(b,a))}function jj(a,b){Xb.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.Sw=b.coords[2];this.Th=b.Th;this.ac=b.ac;this.qw=b.wo;this.pq=b.t;this.aw=b}y(jj,Xb);function kj(a,b,c,d,f){$i.call(this,b,c,d,f);this.element=a}y(kj,$i);kj.prototype.mh=r;kj.prototype.Il=function(){this.mh();kj.e.Il.call(this)};
kj.prototype.Ei=function(){this.mh();kj.e.Ei.call(this)};kj.prototype.Dg=function(){this.mh();kj.e.Dg.call(this)};function lj(a,b,c){if(b.length!=2||c.length!=2)throw Error("Start and end points must be 2D");kj.apply(this,arguments)}y(lj,kj);lj.prototype.mh=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function mj(a,b,c,d){lj.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}y(mj,lj);
mj.prototype.Dg=function(){this.uf=[this.element.offsetLeft,this.element.offsetTop];mj.e.Dg.call(this)};function nj(a,b,c,d,f){kj.call(this,a,[b],[c],d,f)}y(nj,kj);nj.prototype.mh=function(){this.element.style.height=Math.round(this.coords[0])+"px"};function oj(a,b,c){if($a&&!Ta)return a;a='url("'+b+'")';if(A)a+=" 7 5";a+=", "+c;return a}function pj(a){this.gc=ic?[]:"";a!=null&&this.append.apply(this,arguments)}pj.prototype.T=function(a){this.clear();this.append(a)};
if(ic){pj.prototype.bk=0;pj.prototype.append=function(a,b){if(b==null)this.gc[this.bk++]=a;else{this.gc.push.apply(this.gc,arguments);this.bk=this.gc.length}return this}}else pj.prototype.append=function(a,b){this.gc+=a;if(b!=null)for(var c=1;c<arguments.length;c++)this.gc+=arguments[c];return this};pj.prototype.clear=function(){if(ic)this.bk=this.gc.length=0;else this.gc=""};pj.prototype.toString=function(){if(ic){var a=this.gc.join("");this.clear();a&&this.append(a);return a}else return this.gc};
function qj(a,b){this.type=a;this.currentTarget=this.target=b}Gc(qj.prototype,Xb.prototype);function rj(a,b,c,d){var f=new qj("keydown",a),g=new qj("keyup",a);a=new qj("keypress",a);f.keyCode=g.keyCode=b;a.keyCode=c;if(d){Gc(f,d);Gc(g,d);Gc(a,d)}c=true;Sa&&$a&&(f.keyCode==67||f.keyCode==88||f.keyCode==86)&&f.metaKey||(c=sj(f));if(rb(b,undefined,f.shiftKey,f.ctrlKey,f.altKey)&&!(z&&!c))c&=sj(a);return!!(c&sj(g))}
function sj(a){a.Ae=true;for(var b=[],c=a.target;c;c=c.parentNode)b.push(c);for(c=b.length-1;c>=0&&!a.Zc;c--)Tc(b[c],a.type,true,new $b(a,b[c]));for(c=0;c<b.length&&!a.Zc;c++)Tc(b[c],a.type,false,new $b(a,b[c]));return a.Ae}function tj(a,b,c,d,f,g){g=g>0?ra()+g:0;return uj(a,b,c,d,f||[],g,0)}var vj=["SCRIPT","STYLE","TEXTAREA"];
function uj(a,b,c,d,f,g,h){if(g>0&&ra()>=g||h>200)return false;var j=false;if(a.nodeType==3){b=wj(a.nodeValue,b,c,d);if(b!=null){j=ud(a).createElement("SPAN");j.innerHTML=b;for(b=a.parentNode;(c=j.firstChild)!=null;)b.insertBefore(c,a);b.removeChild(a);j=true}}else if(a.hasChildNodes()&&!D(vj,a.tagName)){var n=a.className.split(/\s+/);if(!zb(n,function(o){return D(f,o)})){++h;for(n=a.firstChild;n;){a=n.nextSibling;n=uj(n,b,c,d,f,g,h);j=j||n;n=a}}}return j}var xj=/\W/;
function wj(a,b,c,d){var f=false,g=d?a.toLowerCase():a,h=g.length;d=b.length;for(var j=new Array(d),n=0;n<d;n++){var o=b[n],t=[],N=o[0];if(N!=""){var ha=o[1];o=N.length;for(var fa=0;fa<h;){var db=g.indexOf(N,fa);if(db==-1)break;else{fa=db-1;var Gm=db+o;if(!ha||(fa<0||xj.test(g.charAt(fa)))&&(Gm>=h||xj.test(g.charAt(Gm)))){t.push(db);f=true}fa=db+o}}}j[n]=t}if(f){f=[];for(fa=0;;){var zg;g=-1;for(n=0;n<d;n++){t=j[n];if(!Cb(t)){for(db=t[0];db>=0&&db<fa;){t.shift();db=Cb(t)?-1:t[0]}if(db>=0&&(g<0||db<
g)){zg=n;g=db}}}if(g<0)break;j[zg].shift();f.push(Ba(a.substr(fa,g-fa)));o=b[zg][0].length;n=Ba(a.substr(g,o));f.push(c(zg,n));fa=g+o}f.push(Ba(a.substr(fa)));return f.join("")}else return null}"en".substring(0,2)=="ar"||"en".substring(0,2)=="fa"||"en".substring(0,2)=="he"||"en".substring(0,2)=="iw"||"en".substring(0,2)=="ur"||"en".substring(0,2);
var yj=new RegExp("[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]"),zj=new RegExp("^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]"),Aj=/^http:\/\/.*/,Bj=/\s+/,Cj=/\d/;var Dj,Ej,Fj={siteURL:"http://unisubs.com",staticURL:"http://unisubs.example.com:8000/site_media/static-cache/1cb38a99/"};var Gj=null,Hj=null,Ij=null,Jj={},Kj="",Lj=null,Mj=null,Nj=null,Oj=0,Pj=null,Qj=null;function Rj(a){return null!=Bb(Pj,function(b){return b[0]==a})}function Sj(a){if(Qj==null){Qj={};for(var b=0;b<Nj.length;b++)Qj[Nj[b][0]]=Nj[b][1];for(b=0;b<Pj.length;b++)Qj[Pj[b][0]]=Pj[b][1]}return Qj[a]}function Tj(){return Gj?Gj.siteURL:window.location.protocol+"//"+window.location.host}function Uj(){return Gj?Gj.staticURL:window.STATIC_URL}function Vj(a){return[Uj(),"images/",a].join("")}
var Wj=false,Xj={Zm:"login",vh:"logout"},Yj=new G,Zj=false;function $j(a,b){if(Hj!=null)a&&a(true);else(new ak(a,b)).w(true)}
var bk=["/widget/twitter_login/","location=0,status=0,width=800,height=400"],ck=["/socialauth/openid/?next=/widget/close_window/","scrollbars=yes,location=0,status=0,resizable=yes"],dk=["/socialauth/gmail_login/?next=/widget/close_window/","scrollbars=yes,location=0,status=0,resizable=yes"],ek=["/widget/facebook_login/?next=/widget/close_window/","location=0,status=0,width=1000,height=450"],fk=["/auth/login/?next=/widget/close_window/","scrollbars=yes,location=0,status=0,resizable=yes"];
function gk(a,b,c){var d=window.open(Tj()+a[0],hk(),a[1]),f=new H(250);F(f,I,function(){if(d.closed){f.p();ik(b,c)}});f.start();return d}function ik(a,b){jk("get_my_user_info",{},function(c){Zj=false;c.logged_in&&kk(c.username);a&&a(c.logged_in)},function(){b&&b()})}function kk(a){Hj=a;Yj.dispatchEvent(new lk(Hj))}function mk(){jk("logout",{},function(){Hj=null;Yj.dispatchEvent(Xj.vh)})}
function nk(a,b){if(a===-1)return"--";var c=parseInt(a/1E3),d="",f=c/3600|0;if(f>0)d+=f+":";var g=(c/60|0)%60;if(g>0||f>0)d+=f>0?Ia(g,2)+":":g+":";c=c%60;d+=g>0||f>0?Ia(c,2):c;if(!b){a=parseInt(a%1E3);d+="."+Ia(a,3)}return d}function hk(){var a=[],b;for(b=0;b<10;b++)a.push((10+~~(Math.random()*26)).toString(36));return a.join("")+(new Date).getTime()%1E8}function ok(){if(!Ij)return false;var a=new T(Ij),b=new T(window.location);return!!a.Ib&&a.Ib.toLowerCase()!=b.Ib.toLowerCase()}
function pk(){return Gj!=null||ok()}function lk(a){this.type=Xj.Zm;this.Qw=a}function qk(a){return[Tj(),"/videos/",a,"/info/"].join("")}function rk(a){return[Tj(),"/videos/",a].join("")}function sk(a,b,c){var d={href:"javascript:void(0);"};if(c)d.className=c;return a("a",d,b)}var tk=window.localStorage;
function uk(a,b,c,d){if(c&&d){var f=new H(250);F(f,I,function(){if(c()){f.stop();f.p();d()}});f.start()}var g=document.createElement("script");g.type="text/javascript";g.src=a;if(b)g.async=true;a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(g,a)};function vk(){return[Tj(),"/widget/",Wj?"null_":"","rpc/"].join("")}function wk(a,b,c,d){Hh([vk(),"xhr/",a].join(""),function(f){if(Rh(f.target))c&&c(Th(f.target));else{var g=null;if(f.target.bf!=8)g=Qh(f.target);d&&d(g)}},"POST",xk(b),null,3E4)}function xk(a){var b=new ai;for(var c in a)typeof a[c]==="object"?b.T(c,JSON.stringify(a[c])):b.T(c,a[c]);return b.toString()}function yk(a,b,c,d){a=new pi([vk(),"jsonp/",a].join(""));a.yf=3E4;a.send(b,function(f){c&&c(f)},function(){d&&d()})}
function jk(a,b,c,d){var f={},g,h=0;for(var j in b){g=Mf(b[j]);f[j]=g;h+=g.length}Gj!=null?yk(a,f,c,d):wk(a,f,c,d)};function zk(a,b,c,d,f){var g=z?'<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="%s" name="%s" class="%s" width="%s" height="%s"><param name="movie" value="%s"/><param name="quality" value="high"/><param name="FlashVars" value="%s"/><param name="bgcolor" value="%s"/><param name="AllowScriptAccess" value="sameDomain"/><param name="allowFullScreen" value="true"/><param name="SeamlessTabbing" value="false"/><param name="wmode" value="transparent"/></object>':'<embed quality="high" id="%s" name="%s" class="%s" width="%s" height="%s" src="%s" FlashVars="%s" bgcolor="%s" AllowScriptAccess="sameDomain" allowFullScreen="true" SeamlessTabbing="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent"></embed>',
h=f.wd();f=f.nc();for(var j=[],n=0;n<h.length;n++)j.push([za(h[n]),"=",za(f[n])].join(""));return ua(g,a,a,"unisubs-flash",""+c,""+d,Ba(b),Ba(j.join("&")),"#000000")}function Ak(a,b,c){if(a.nodeName=="EMBED")return a.getAttribute(b);else if(a=Bk(a,c||b))return a.value;return null}function Bk(a,b){return Sd(a,function(c){return c.nodeName=="PARAM"&&xa(c.name,b)==0})};function Ck(a,b,c,d){Q.call(this);this.ea=new H(100);this.Xg=Dk;this.Uf=0;this.Ea=a;this.sp=b;this.pp=c;this.wt=1E3;this.Yg=this.Zu=this.tp=50;this.Vk=this.jc=true;this.Lq=d;this.Bh=false}y(Ck,Q);var Ek={Pm:"arrowPressed",jn:"valueChanged"},Dk=4;
Ck.prototype.d=function(){var a=w(this.f().d,this.f());this.Mq=a("span","unisubs-timestamp-time");this.Jm=a("a",{className:"unisubs-up",href:"#"},"Up");this.fo=a("a",{className:"unisubs-down",href:"#"},"Down");this.q=a("span",null,this.Mq,a("span","unisubs-changeTime",this.Jm,this.fo));Fk(this)};Ck.prototype.i=function(){Ck.e.i.call(this);B([this.Jm,this.fo],this.ir,this);this.j().c(this.ea,I,this.jh)};
Ck.prototype.ir=function(a){this.j().c(a,"click",function(b){b.preventDefault()}).c(a,"mousedown",this.Ft).c(a,"mouseup",this.Jt).c(a,"mouseout",this.Gt)};function Fk(a){var b=!q(a.Ea)||a.Ea==-1||a.Ea==359999||0?"":a.Ea;M(a.Mq,a.Lq(b))}function Gk(a){a.Bh=false;a.ea.stop();a.Xg=Dk;a.Uf=0;a.Yg=a.tp;a.dispatchEvent(new Hk(a.Ea))}m=Ck.prototype;
m.jh=function(){this.Uf++;if(this.Xg<=0||this.Uf%this.Xg==0){if(this.Uf>10){this.Xg--;this.Uf=0}this.Vk?Ik(this):Jk(this)}if(this.Xg<0&&this.Yg<this.wt)this.Yg+=this.Zu};m.Ft=function(a){if(this.jc){this.dispatchEvent(Ek.Pm);this.Bh=true;if(a.target==this.Jm){this.Vk=true;Ik(this)}else{this.Vk=false;Jk(this)}this.ea.start()}};m.Jt=function(){this.Bh&&Gk(this)};m.Gt=function(){this.Bh&&Gk(this)};m.rb=function(a){this.Ea=a;Fk(this)};
function Jk(a){a.Ea-=a.Yg;if(a.Ea<a.sp()){a.Ea=a.sp();Gk(a)}Fk(a)}function Ik(a){a.Ea+=a.Yg;if(a.Ea>a.pp()){a.Ea=a.pp();Gk(a)}Fk(a)}Ck.prototype.m=function(){Ck.e.m.call(this);this.ea.p();this.Lq=null};function Hk(a){this.type=Ek.jn;this.value=a};function Kk(a){Q.call(this,a)}y(Kk,Q);var Lk={cn:"startinteraction",Nj:"stopinteraction",fn:"trackclicked"};m=Kk.prototype;m.Mb=0;m.Wc=100;m.Lh=false;m.Nn=true;m.Wk=false;m.X=s;m.d=function(){Kk.e.d.call(this);this.V(this.f().d("div",this.X(this.qc)))};m.ok=s;m.V=function(a){Kk.e.V.call(this,a);J(a,this.X(this.qc));this.ok();de(this.a(),"slider");if(a=this.a()){ee(a,"valuemin",this.Mb);ee(a,"valuemax",this.Wc);ee(a,"valuenow",this.Ea)}};
m.i=function(){Kk.e.i.call(this);this.W=new le(this.nb);this.W.Mh=r;this.j().c(this.W,"beforedrag",this.Gs).c(this.W,"end",this.Is).c(this.a(),"mousedown",this.Os);this.a().tabIndex=0;Mk(this)};m.ga=function(){Kk.e.ga.call(this);this.W.p()};
m.Gs=function(a){if(this.qc=="vertical"){var b=this.a().clientHeight;a=(b-(a.top+this.nb.offsetHeight/2))/b*(this.Wc-this.Mb)+this.Mb}else{b=this.a().clientWidth;a=(a.left+this.nb.offsetWidth/2)/b*(this.Wc-this.Mb)+this.Mb}a=Mi(a,this.Mb,this.Wc);Nk(this,true);this.rb(a)};m.Is=function(){Nk(this,false)};function Nk(a,b){if(b!=a.Lh){a.Lh=b;a.dispatchEvent(b?Lk.cn:Lk.Nj)}}
Kk.prototype.Os=function(a){this.a().focus&&this.a().focus();Rd(this.nb,a.target)||(this.Nn?Ok(this,Pk(this,a)):this.dispatchEvent(new Qk(Pk(this,a))))};function Rk(a,b){var c;c=a.a();b=Le(b);c=Le(c);c=new qd(b.x-c.x,b.y-c.y);return a.qc=="vertical"?c.y:c.x}function Pk(a,b){if(a.qc=="vertical"){var c=a.a().clientHeight;b=Rk(a,b);return(a.Wc-a.Mb)*(c-b)/c+a.Mb}else{c=a.a().clientWidth;b=Rk(a,b);return(a.Wc-a.Mb)*b/c+a.Mb}}
Kk.prototype.rb=function(a,b){a=Mi(a,this.Mb,this.Wc);if(a!=this.Ea){this.Ea=a;Mk(this);b||this.dispatchEvent("change")}};Kk.prototype.db=k("Ea");function Mk(a){if(a.nb&&!a.Wk){var b=Sk(a,a.Ea);a.qc=="vertical"?Tk(a.nb,null,b.y):Tk(a.nb,b.x,null)}}
function Sk(a,b){var c=new qd;if(a.nb){var d=a.Mb,f=a.Wc;b=b==d&&d==f?0:(b-d)/(f-d);if(isNaN(b))b=0;if(a.qc=="vertical"){d=a.nb.offsetHeight;a=a.a().clientHeight;b=Math.round(b*a);c.y=a-b-d/2}else{d=a.a().clientWidth;b=Math.round(b*d);c.x=b-a.nb.offsetWidth/2}}return c}function Ok(a,b){b=Mi(b,a.Mb,a.Wc);a.Vn&&a.Vn.stop(true);var c=Sk(a,b);c=new mj(a.nb,a.qc=="vertical"?[a.nb.offsetLeft,c.y]:[c.x,a.nb.offsetTop],100);a.Vn=c;a.j().c(c,"end",a.fs);a.Wk=true;Nk(a,true);a.rb(b);c.Ha(false)}
Kk.prototype.fs=function(){Nk(this,false);this.Wk=false};Kk.prototype.jm=function(a){if(this.qc!=a){var b=this.X(this.qc),c=this.X(a);this.qc=a;if(this.a()){a=this.a();for(var d=kd(a),f=false,g=0;g<d.length;g++)if(d[g]==b){Eb(d,g--,1);f=true}if(f){d.push(c);a.className=d.join(" ")}V(this.nb,"left",null);V(this.nb,"top",null);Mk(this)}}};function Qk(a){this.type=Lk.fn;this.value=a};function Uk(){E.call(this);var a=window,b=a.onbeforeunload,c=a.onunload,d=this;a.onbeforeunload=function(f){var g;try{var h=new Vk;Wc(d,h);g=h.message}finally{f=b&&b(f)}if(g!=null)return g;if(f!=null)return f};a.onunload=function(f){try{d.dispatchEvent("unload")}finally{c&&c(f);a.onresize=null;a.onscroll=null;a.onbeforeunload=null;a.onunload=null}}}y(Uk,G);ea(Uk);function Vk(){Xb.call(this,"beforeunload");this.message=null}y(Vk,Xb);function Wk(){E.call(this);this.Yk=false;var a=this;if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);a.Di()},false);else document.attachEvent&&Xk(this);Nc(window,"load",this.Di,false,this)}y(Wk,G);ea(Wk);
function Xk(a){document.attachEvent("onreadystatechange",function(){if(document.readyState=="complete"){document.detachEvent("onreadystatechange",arguments.callee);a.Di()}});document.documentElement.doScroll&&window==window.top&&function(){if(!a.Yk){try{document.documentElement.doScroll("left")}catch(b){setTimeout(arguments.callee,0);return}a.Di()}}()}Wk.prototype.Di=function(){if(!this.Yk){this.Yk=true;this.dispatchEvent("domloaded")}};function Yk(){this.mn=false}ea(Yk);Yk.prototype.Tq="UA-163840-22";Yk.prototype.Hj="usubs";function Zk(a,b,c){(c||{}).onsite=pk()?"no":"yes";$k(a);window._gaq.push([a.Hj+"._trackPageview","/widget/"+b])}function $k(a){if(!a.mn){window._gaq=window._gaq||[];uk(("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",true);window._gaq.push([a.Hj+"._setAccount",a.Tq]);a.mn=true}};function V(a,b,c){a.style.cssText=al(a.style.cssText,b,c)}function al(a,b,c){var d=a.match(new RegExp("\\s*"+b+"\\s*:\\s*[^;]*;?","i"));b=c===null?"":[b,":",c," !important;"].join("");if(d)return a.replace(d[0],b);else{a=wa(a);if(a.length>0&&!ta(a,";"))a+=";";return a+b}}function bl(a){var b=We(a.style.cssText);vc(b,function(c,d){c.indexOf("important")==-1&&V(a,d,c)})}function cl(a,b,c){b=dl(b,c);el(a,b[0]);fl(a,b[1])}
function gl(a,b,c){b=dl(b,c);a=al(a,"width",hl(b[0]));return al(a,"height",hl(b[1]))}function dl(a,b){if(a instanceof K){b=a.height;a=a.width}else{if(b==undefined)throw Error("missing height argument");b=b}return[a,b]}function hl(a,b){return typeof a=="number"?(b?Math.round(a):a)+"px":a}function il(a,b,c,d){V(c,a,hl(d))}var fl=qa(il,"height",true),el=qa(il,"width",true);
function Tk(a,b,c){var d,f=$a&&(Sa||eb)&&nb("1.9");if(q(b)&&b instanceof qd){d=b.x;b=b.y}else{d=b;b=c}q(d)&&il("left",f,a,d);q(b)&&il("top",f,a,b)}function jl(a,b){V(a,"display",b?null:"none")}function kl(a,b){V(a,"visibility",b?"visible":"hidden")};var ll=[[/(\*\*)([^\*]+)(\*\*)/g,"<b>$2</b>"],[/(\*)([^\*]+)(\*{1})/g,"<i>$2</i>"],[/(_)([^_]+)(_{1})/g,"<u>$2</u>"]];function ml(a){a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(var b=0;b<ll.length;b++)a=a.replace(ll[b][0],ll[b][1]);return a};ca("unisubs.messaging.simplemessage.displayPendingMessages",function(){var a=new Hf(document),b=a.va("_user_message");b&&b.length>0&&jQuery.jGrowl(b,{life:1E4});a.remove("_user_message")},undefined);function nl(a){switch(a){case "H264":return ol();case "Ogg":return pl();case "WebM":return ql();default:throw"unknown type";}}function rl(a){var b=document.createElement("video");return!!(b.canPlayType&&b.canPlayType(a).replace(/no/,""))}function ol(){return rl('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')}function pl(){return rl('video/ogg; codecs="theora, vorbis"')}function ql(){return rl('video/webm; codecs="vp8, vorbis"')};function sl(a){Q.call(this);this.yp=a||false;this.or=this.Me=null;this.Ci=new K(-1,-1);this.Yo=true;this.Kq=false}y(sl,Q);sl.prototype.d=function(){var a=w(this.f().d,this.f())("span","unisubs-captionSpan");this.q=a;var b=a.parent&&a.offsetParent;if(!b)b=ud(a).body;this.yp&&kl(a,false);b.appendChild(a);tl(this,false);el(this.a(),this.Kn);Tk(this.a(),this.Jn);if(this.Yo)this.W=new le(this.a())};
sl.prototype.i=function(){sl.e.i.call(this);this.Yo&&this.j().c(this.W,"start",w(this.Od,this)).c(this.W,"drag",w(this.Eg,this))};sl.prototype.Od=function(){this.Kq=true};sl.prototype.Eg=function(){Tk(this.a(),this.W.Oe,this.W.Pe)};function tl(a,b){a.Gh&&kl(a.Gh,b);kl(a.a(),b)}sl.prototype.p=function(){if(!this.Wf){sl.e.p.call(this);this.W&&this.W.p()}};function ul(a){return Jf.ca()?Jf.va(a)=="1":false}function vl(a,b){var c=null;if(Jf.ca()){c=parseFloat(Jf.va(a));if(isNaN(c)&&q(b))c=b}return c};function W(a){Q.call(this);this.u=a;this.Va=this.tk=this.Al=false;this.hj=0;this.ce=null;this.bb=0;wl.push(this)}y(W,Q);var wl=[],xl=new K(480,360),yl=new K(400,300);m=W.prototype;m.d=function(){this.q=this.f().createElement("span");J(this.a(),"unisubs-videoplayer");if(this.u&&this.u.Fb){var a=this.u.Fb();this.z=!this.C&&a?a:this.C?yl:xl;this.gb()}};m.qi=function(){if(this.Va)throw new Error("can't check if paused, loading is stopped");return this.Bd()};m.Bd=s;
m.Cd=function(){if(this.Va)throw new Error("can't check if playing, loading is stopped");return this.Dd()};m.Dd=s;function zl(a){if(a.Va)throw new Error("can't check if video ended, loading is stopped");return a.Sd()}m=W.prototype;m.Sd=s;m.Ha=function(a){if(this.Va)throw new Error("can't play, loading is stopped");a||this.dispatchEvent(Al);this.fb()};m.fb=s;m.pause=function(a){if(this.Va)throw new Error("can't pause, loading is stopped");a||this.dispatchEvent(Bl);this.lb()};m.lb=s;
function Cl(a){if(a.Va)throw new Error("can't toggle pause, loading is stopped");a.Cd()?a.pause():a.Ha()}W.prototype.gj=function(){if(!this.Va){this.pause();this.hj=this.ia();if(this.Rb())this.Va=true}};W.prototype.Rb=s;W.prototype.bc=function(){s()};W.prototype.gb=function(){this.tk=true;var a=this.Ua();cl(this.a(),a.width,a.height);this.dispatchEvent(Dl)};
function El(a){if(!a.ce){a.ce=new sl(a.Bg());var b;b=a.a();b=new qd(b.offsetLeft,b.offsetTop);var c=a.Ua();b=new ke(b.x,b.y,c.width,c.height);c=a.ce;if(b){c.Me=b;c.Kn=Math.min(400,c.Me.width-20);c.Jn=c.Me.left+(c.Me.width-c.Kn)/2;c.or="BOTTOM_CENTER"}a.ce.d();b=a.a().offsetParent||ud(a.a()).body;a=a.ce.a();b.appendChild(a)}}W.prototype.ia=function(){return this.Va?this.hj:this.oe()};W.prototype.oe=s;function Fl(a,b,c){a.Al=true;if(a.Bl==null)a.Bl=a.ia();a.U(b);a.Ha();a.Fw=b;a.Rt=b+c}m=W.prototype;
m.fe=function(){this.dispatchEvent(Gl)};m.Db=function(){if(this.Al){if(!this.Po&&this.ia()>=this.Rt){this.Po=true;this.U(this.Bl);this.Bl=null;this.pause();this.Al=this.Po=false}}else this.dispatchEvent(Hl)};m.K=s;m.Qc=s;m.ud=function(){s()};m.me=function(){s()};m.Sc=s;m.mb=function(a){Jf.ca()&&Jf.T("lastestVolume",a)};m.U=function(){s()};
function Il(a,b){a.ce||El(a);a=a.ce;var c=b;if(c==null||c=="")tl(a,false);else{b=c.split("\n");b=C(b,ml);c=b.join("<br />");a.a().innerHTML=c;b=a.a();var d;var f=d=0,g=false;c=c.split(Bj);for(var h=0;h<c.length;h++){var j=c[h];if(zj.test(j)){d++;f++}else if(Aj.test(j))g=true;else if(yj.test(j))f++;else if(Cj.test(j))g=true}d=f==0?g?1:0:d/f>0.4?-1:1;if(b&&(d=typeof d=="number"?d>0?1:d<0?-1:0:d?-1:1)!=0){b.style.textAlign=d==-1?"right":"left";b.dir=d==-1?"rtl":"ltr"}if(!a.Kq){b=Ne(a.a());if(!(b.width==
a.Ci.width&&b.height==a.Ci.height)){d=a.Me.top+a.Me.height-b.height-40;Tk(a.a(),a.Jn,d);if(a.yp&&a.Gh){De(a.Gh,newLeft,d);Me(a.Gh,b)}a.Ci.width=b.width;a.Ci.height=b.height}}tl(a,true)}}W.prototype.Bg=l(false);W.prototype.Xk=l(true);W.prototype.Ua=s;var Al="videoplaycalled",Gl="videoplayended",Bl="videopausecalled",Hl="videotimeupdate",Dl="dimensionsknown",Jl={Gj:"videoplay",cr:Al,Tv:Gl,Fj:"videopause",br:Bl,Uv:"videoprogress",dr:Hl,Hv:Dl};function Kl(a){W.call(this,a);this.iw=this.Bi=this.Vh=null;this.hw=0;this.uq=this.rk=false;this.Ud="flash"}y(Kl,W);Kl.prototype.V=function(a){this.rk=true;var b=new K(0,0),c=new K(0,0);a=Ll(this,a);if(a[0]){this.Bi=a[0];c=Ne(this.Bi)}if(a[1]){this.Vh=a[1];b=Ne(this.Vh)}Kl.e.V.call(this,c.height>b.height?this.Bi:this.Vh)};function Ml(a){if(!(!a.rk||a.uq))a.uq=Nl(a,a.Bi)?true:Nl(a,a.Vh)}Kl.prototype.Zo=s;Kl.prototype.eq=s;
function Nl(a,b){if(q(b))if(a.Zo(b)){a.eq(b);return true}else return false;else return false}Kl.prototype.jp=function(){jk("log_youtube_ei_failure",{page_url:window.location.href})};function Ll(a,b){var c=a=null;if(b.nodeName=="EMBED"){c=b;if(c.parentNode.nodeName=="OBJECT")a=c.parentNode}else{a=b;c=Sd(a,function(d){return d.nodeName=="EMBED"})}return[a,c]}Kl.prototype.d=function(){Kl.e.d.call(this);var a=this.u.Fb();this.z=!this.C&&a?a:this.C?yl:xl;this.gb()};
Kl.prototype.Fb=function(){return this.r&&this.r.width&&this.r.height?new K(parseInt(this.r.width),parseInt(this.r.height)):null};Kl.prototype.Ua=function(){return Ne(this.a())};function Ol(a,b){W.call(this,a);this.Id=a;this.J=null;this.df=this.tl=0;this.vo=b;this.Rp=false;this.Xp=new Xi(this.At,500,this);this.Aq=new Xi(this.Db,80,this);this.Wl=false}y(Ol,W);m=Ol.prototype;
m.i=function(){Ol.e.i.call(this);if(this.J){ie(this.j().c(this.J,"play",this.yt).c(this.J,"pause",this.xt).c(this.J,"progress",this.zt).c(this.J,"loadedmetadata",this.gb).c(this.J,"timeupdate",this.Hu).c(this.J,"ended",this.fe),this.J,"click",this.Sp);this.J.readyState>=this.J.HAVE_METADATA&&this.gb();this.mb(vl("lastestVolume",1))}};m.Sp=e();m.Hu=function(){this.Wl&&Yi(this.Aq)};m.yt=function(){this.Wl=true;this.dispatchEvent("videoplay")};m.xt=function(){this.dispatchEvent("videopause")};
m.zt=function(a){if(a.Na.loaded&&a.Na.total){this.tl=a.Na.loaded;this.df=a.Na.total;if(this.df==-1)this.df=this.tl}Yi(this.Xp)};m.At=function(){this.dispatchEvent("videoprogress")};m.Sc=function(){return this.J.volume};m.mb=function(a){this.J.volume=a;Ol.e.mb.call(this,a)};m.Qc=function(){return this.J.buffered?this.J.buffered.length:this.df==0?0:1};m.ud=function(a){return this.J.buffered?this.J.buffered.start(a):0};
m.me=function(a){return this.J.buffered?this.J.buffered.end(a):this.df!=0&&this.K()!=0?this.K()*this.tl/this.df:0};m.K=function(){var a=this.J.duration;return isNaN(a)?0:a};m.Bd=function(){return this.J.paused};m.Sd=function(){return this.J.ended};m.Dd=function(){var a=this.J.readyState,b=Pl;return(a==b.Zq||a==b.Yq)&&!this.qi()&&!zl(this)};m.fb=function(){this.J.play()};m.lb=function(){this.J.pause()};m.bc=function(a){this.J.src=this.Id.jb();this.Va=false;this.U(a);this.pause()};m.oe=function(){return this.J.currentTime};
m.U=function(a){try{this.J.currentTime=a+1.0E-6}catch(b){}};m.Ua=function(){return Ne(this.J)};m.m=function(){Ol.e.m.call(this);this.Xp.p();this.Aq.p()};var Pl={Kv:0,Jv:1,Iv:2,Zq:3,Yq:4};function Ql(a,b){Ol.call(this,a,b);this.Ud="html5"}y(Ql,Ol);m=Ql.prototype;
m.d=function(){var a=w(this.f().d,this.f());if(nl(this.Id.Wd)){var b={preload:"auto",autobuffer:"true"};if(!this.vo){if(this.Id.Aa()){var c=this.Id.Aa();if(c.play_to_click){this.Rp=true;Ac(c,"play_to_click")}Gc(b,c)}b.controls="true"}this.q=this.J=a("video",b,a("source",{src:this.Id.jb()}));if(this.vo)cl(this.J,yl);else(a=this.Id.Aa())&&a.width&&a.height&&cl(this.J,a.width,a.height)}else{this.q=a=a("div");cl(a,400,300);V(a,"line-height","300px");a.innerHTML="Sorry, your browser can't play HTML5/"+
this.Id.Wd+" video. <a href='http://getfirefox.com'>Get Firefox</a>."}};m.V=function(a){Ql.e.V.call(this,a);if(a.nodeName!="VIDEO")throw Error("Invalid element to decorate");this.J=a};m.Sp=function(a){if(this.Rp&&!this.Wl){a.preventDefault();this.Ha()}};m.Rb=function(){this.J.src="http://holmeswilson.org/tinyblank.ogv";return true};m.Ua=function(){return Ne(this.J)};function Rl(a,b){Ol.call(this,a);this.Bb=a.Bb;this.C=!!b}y(Rl,Ol);Rl.prototype.d=function(){var a=w(this.f().d,this.f()),b={autobuffer:"true"};this.C||(b.controls="true");this.J=a("audio",b,a("source",{src:this.Id.jb()}));this.q=a=a("div","unisubs-audio-player",this.J);if(this.Bb&&this.Bb.width&&this.Bb.height){b=new K(parseInt(this.Bb.width,0),parseInt(this.Bb.height,0));cl(a,b);cl(this.J,b)}else{cl(a,this.C?yl:xl);cl(this.J,this.C?yl:xl)}};Rl.prototype.Rb=function(){this.J.src="";return true};
Rl.prototype.Ua=function(){return Ne(this.a())};function Sl(a,b){Kl.call(this,a);this.u=a;this.Cb=[a.Ta,""+(new Date).getTime()].join("");this.ja=a.Ta+"_ytplayer";this.kc="event"+a.Ta;this.C=!!b;Tl.push(this);this.h=this.z=null;this.Og=false;this.v=[];this.Ia=false;this.S=new H(500);this.I=new H(80);a=Sl.prototype;b=Ul.prototype;for(var c in b)a[c]=b[c];this.Ud="youtube"}y(Sl,Kl);var Tl=[],Vl=new Vg;Sl.prototype.Zo=function(a){return this.Og?a.playVideo:false};function Wl(a,b){return(a=window.unisubs_readyAPIIDs)&&D(a,b)}m=Sl.prototype;
m.V=function(a){Sl.e.V.call(this,a);this.Ia=true;this.Cb=(a=/playerapiid=([^&]+)/.exec(a.nodeName=="OBJECT"&&a.data?a.data:Ak(a,"src","movie")))?a[1]:"";if(Vl.contains(this.Cb)||Wl(this,this.Cb))Xl(this,this.Cb);this.z=Ne(this.a());this.gb()};m.eq=function(a){this.h=a;window[this.kc]=w(this.we,this);this.h.addEventListener("onStateChange",this.kc)};m.d=function(){Sl.e.d.call(this);var a=this.u.Fb();this.z=!this.C&&a?a:this.C?yl:xl;this.gb()};
m.i=function(){Sl.e.i.call(this);if(!this.Ia){this.Ia=true;var a=this.f().d("span");a.id=hk();this.a().appendChild(a);var b={id:this.ja,style:gl("",this.z)},c;c=this.C?new T("http://www.youtube.com/apiplayer"):new T("http://www.youtube.com/v/"+this.u.Ie);this.Of(c);window.swfobject.embedSWF(c.toString(),a.id,this.z.width+"",this.z.height+"","8",null,null,{allowScriptAccess:"always",wmode:"opaque",allowFullScreen:"true"},b)}this.j().c(this.S,I,this.Ac).c(this.I,I,this.Sb);this.S.start()};
m.Of=function(a){var b=this.u.Aa();if(!this.C&&b)for(var c in b)c!="width"&&c!="height"&&U(a,c,b[c]);U(U(U(a,"enablejsapi","1"),"version","3"),"playerapiid",this.Cb);this.C&&U(a,"disablekb","1")};m.ga=function(){Sl.e.ga.call(this);this.S.stop();this.I.stop()};function Xl(a,b){if(b==a.Cb){a.Og=true;if(a.rk)Ml(a);else{a.h=vd(a.ja);cl(a.h,a.z);a.C&&a.h.cueVideoById(a.u.Ie);B(a.v,function(c){c()});a.v=[];window[a.kc]=w(a.we,a);a.h.addEventListener("onStateChange",a.kc)}}}Sl.prototype.Bg=function(){return Ua};
Sl.prototype.m=function(){Sl.e.m.call(this);this.S.p();this.I.p()};var Yl={fr:-1,sh:0,xh:1,wh:2,Ev:3,hr:5};function Zl(a){if(!q(a)||a=="undefined")a="";if(!Vl.contains(a)){Vl.add(a);B(Tl,function(b){Xl(b,a)})}}(function(){var a=window.onYouTubePlayerReady||r;window.onYouTubePlayerReady=function(b){try{a(b)}catch(c){}Zl(b)}})();function $l(a,b){W.call(this,a);this.h=null;this.u=a;this.ja=hk()+"_ytplayer";this.C=!!b;this.v=[];this.S=new H(500);this.I=new H(80);a=$l.prototype;b=Ul.prototype;for(var c in b)a[c]=b[c];this.Ud="ytiframe"}y($l,W);m=$l.prototype;m.d=function(){$l.e.d.call(this);this.km();var a=new T("http://youtube.com/embed/"+this.u.Ie);this.Of(a);this.q=this.Rk=this.f().d("iframe",{id:this.ja,type:"text/html",width:this.z.width+"",height:this.z.height+"",src:a.toString(),frameborder:"0",style:gl("",this.z)})};
m.Of=function(a){var b=this.u.Aa();if(!this.C&&b)for(var c in b)c!="width"&&c!="height"&&U(a,c,b[c]);b=new T(window.location);b=window.location.protocol+"//"+b.Ib+(b.zc!=null?":"+b.zc:"");U(U(U(a,"enablejsapi","1"),"origin",b),"wmode","opaque");this.C&&U(U(a,"disablekb","1"),"controls","0")};m.km=function(){var a=this.u.Fb();this.z=!this.C&&a?a:this.C?yl:xl;this.gb()};
m.V=function(a){$l.e.V.call(this,a);this.Rk=a;if(a.id)this.ja=a.id;else a.id=this.ja;this.z=new K(parseInt(a.width),parseInt(a.height));this.gb()};m.i=function(){$l.e.i.call(this);var a=window;if(a.YT&&a.YT.Player)this.Ag();else{var b=r;if(a.onYouTubePlayerAPIReady)b=a.onYouTubePlayerAPIReady;var c=w(this.Ag,this);window.onYouTubePlayerAPIReady=function(){b();c()};uk("http://www.youtube.com/player_api")}};
m.Ag=function(){var a=w(this.we,this);this.rn=new window.YT.Player(this.ja,{events:{onReady:w(this.Og,this),onStateChange:function(b){a(b.data)}}})};m.Og=function(){this.h=this.rn;B(this.v,function(a){a()});this.v=[];this.j().c(this.S,I,this.Ac).c(this.I,I,this.Sb);this.S.start()};m.m=function(){$l.e.m.call(this);this.S.p();this.I.p()};m.ga=function(){$l.e.ga.call(this);this.S.stop();this.I.stop()};function Ul(){}m=Ul.prototype;m.Ac=function(){this.K()>0&&this.dispatchEvent("videoprogress")};m.Sb=function(){this.K()>0&&this.Db()};m.we=function(a){if(a==Yl.xh){this.dispatchEvent(Jl.Gj);this.I.start();this.Ul=false}else if(a==Yl.wh){this.dispatchEvent(Jl.Fj);this.I.stop()}else a==Yl.sh&&this.fe()};m.Qc=function(){return this.K()>0?1:0};m.ud=function(){var a=this.lg();return this.K()*a/(a+this.ig())};m.me=function(){var a=this.lg();return this.K()*(a+this.h.getVideoBytesLoaded())/(a+this.ig())};
m.lg=function(){return this.h?this.h.getVideoStartBytes():0};m.ig=function(){return this.h?this.h.getVideoBytesTotal():0};m.K=function(){if(!this.bb){this.bb=this.h&&this.h.getDuration?this.h.getDuration():0;if(this.bb<=0)this.bb=0}return this.bb};m.Sc=function(){return this.h?this.h.getVolume()/100:0};m.mb=function(a){this.h?this.h.setVolume(a*100):this.v.push(w(this.mb,this,a))};m.Bd=function(){return this.yd()==2};m.Sd=function(){return this.yd()==0};m.Dd=function(){return this.yd()==1};
m.fb=function(){this.h?this.h.playVideo():this.v.push(w(this.fb,this))};m.lb=function(){if(this.h){this.Ul=true;this.Tl=null;this.h.pauseVideo()}else this.v.push(w(this.lb,this))};m.Rb=function(){if(this.h){this.h.stopVideo();return this.Va=true}else{this.v.push(w(this.Rb,this));return false}};m.bc=function(a){if(this.h){this.h.cueVideoById(this.u.Ie,a);this.Va=false}else this.v.push(w(this.bc,this,a))};m.ia=function(){return this.h?this.Ul&&this.Tl!==null?this.Tl:this.h.getCurrentTime():0};
m.U=function(a,b){if(this.h){this.h.seekTo(a,true);if(!b){if(this.Ul)this.Tl=a;this.Db()}}else this.v.push(w(this.U,this,a))};m.yd=function(){return this.h?this.h.getPlayerState():-1};m.Ua=k("z");var am=[];(function(){var a=window.playerReady||r;window.playerReady=function(b){try{a(b)}catch(c){}B(am,function(d){Ml(d)})}})();function bm(a,b){W.call(this,a);this.C=!!b;this.u=a;this.$a=this.Ia=false;this.h=this.z=null;this.v=[];this.S=new H(500);this.I=new H(80);this.Ud="flv"}y(bm,W);bm.prototype.d=function(){bm.e.d.call(this);var a=this.sf();this.z=!this.C&&a?a:this.C?yl:xl};
bm.prototype.i=function(){bm.e.i.call(this);if(!this.Ia){this.Ia=true;var a=this.f().d("div");a.id=hk();this.cs=a.id;this.a().appendChild(a);this.gb();var b={src:Uj()+"flowplayer/flowplayer-3.2.18.swf",width:this.z.width+"",height:this.z.height+"",wmode:"opaque"},c=this,d={playlist:[{url:this.u.$h(),autoPlay:false}],onLoad:function(){cm(c)}};dm(this,d);this.h=$f(a.id,b,d)}this.j().c(this.S,I,this.Ac).c(this.I,I,this.Sb);this.S.start()};
function dm(a,b){var c;if(a.C)c={controls:null};else if(a=a.u.Aa())c=wc(a,function(d,f){return f!="width"&&f!="height"});if(c)b.plugins=c}bm.prototype.sf=function(){var a=this.u.Aa();return a&&a.width&&a.height?new K(parseInt(a.width),parseInt(a.height)):null};bm.prototype.ga=function(){bm.e.ga.call(this);this.I.stop();this.S.stop()};
function cm(a){cl(Pd(a.h.getParent()),a.z);cl(vd(a.cs),a.z);a.$a=true;B(a.v,function(b){b()});a.v=[];em(a).onStart(function(){fm(a)});em(a).onBegin(function(){fm(a)});em(a).onResume(function(){fm(a)});em(a).onPause(function(){a.dispatchEvent("videopause");a.I.stop()});em(a).onFinish(function(){a.fe()})}bm.prototype.Ac=function(){if(this.K()>0){gm(this);this.Ee.bufferEnd>=this.K()-0.1&&this.S.stop();this.dispatchEvent("videoprogress")}};function gm(a){a.Ee=a.h.getStatus()}
bm.prototype.Sb=function(){this.K()>0&&this.Db()};function fm(a){a.dispatchEvent("videoplay");a.I.start()}function em(a){return a.h.getClip(0)}m=bm.prototype;m.Qc=function(){return this.K()>0?1:0};m.ud=function(){this.Ee||gm(this);return this.Ee.bufferStart};m.me=function(){this.Ee||gm(this);return this.Ee.bufferEnd};m.K=function(){if(!this.bb){this.bb=this.$a?em(this).fullDuration:0;if(isNaN(this.bb))this.bb=0}return this.bb};m.Sc=function(){return this.$a?this.h.getVolume()/100:0};
m.mb=function(a){this.$a?this.h.setVolume(a*100):this.v.push(w(this.Lu,this,a))};m.Bd=function(){return this.$a?this.h.isPaused():false};m.Sd=function(){return this.$a?this.h.getState()==5:false};m.Dd=function(){return this.$a?this.h.isPlaying():false};m.fb=function(){if(this.$a)this.Cd()||this.h.play();else this.v.push(w(this.fb,this))};m.lb=function(){this.$a?this.h.pause():this.v.push(w(this.lb,this))};
m.Rb=function(){if(this.$a){this.h.stopBuffering();return this.Va=true}else{this.v.push(w(this.Rb,this));return false}};m.bc=function(a){if(this.$a){this.h.startBuffering();this.Va=false}else this.v.push(w(this.bc,this,a))};m.oe=function(){return this.$a?this.h.getTime():0};m.U=function(a,b){if(this.$a){this.h.seek(a);b||this.Db()}else this.v.push(w(this.U,this,a))};m.Bg=function(){return Ua};m.Ua=k("z");m.m=function(){bm.e.m.call(this);this.S.p();this.I.p()};function hm(a,b){bm.call(this,a,b);this.Bb=a.Bb;this.C=!!b}y(hm,bm);hm.prototype.d=function(){hm.e.d.call(this);this.z=this.Bb&&this.Bb.width&&this.Bb.height?new K(parseInt(this.Bb.width,0),parseInt(this.Bb.height,0)):this.C?yl:xl};hm.prototype.K=l(1E4);var im=[];function jm(a){for(var b=["Ogg","WebM","H264"],c=0;c<b.length;c++)if(nl(b[c])){var d=km(a,b[c]);if(d!=null)return d}return null}function lm(a){a=C(a,function(d){return v(d)?mm(d):mm(d.url,d.config)});for(var b,c=0;c<a.length;c++)if((b=a[c])&&b instanceof nm){if(b.Xo())return b}else break;b=jm(a);b=Bb(a,function(d){return!(d instanceof nm)});if(b!==null)return b;b=km(a,"H264");if(b!==null)return b;return a.length>0?a[0]:null}
function km(a,b){return Bb(a,function(c){return c instanceof nm&&c.Wd==b})}function mm(a,b){for(var c=null,d=0;d<im.length;d++){var f=im[d](a,b);if(f){c=f;break}}c||(c=om(a,b));if(c)return c;throw new Error("Unrecognized video url "+a);}function pm(a){if(xb(im,a)>-1)return false;im.push(a);return true};function qm(a,b){this.Mt=a;this.Bb=b}m=qm.prototype;m.Xo=l(true);m.Zb=function(){return this.ta(false)};m.Lc=function(){return new rm(this.ta(true))};m.ta=function(a){var b=document.createElement("audio");return b.canPlayType&&b.canPlayType("audio/mpeg").replace(/no/,"")?new Rl(this,a):new hm(this,a)};m.jb=k("Mt");m.$h=function(){return this.jb()};m.Aa=l(null);pm(function(a,b){if(/\.mp3$/i.test(a))return/\.mp3$/i.test(a)?new qm(a,b):null;return null});function nm(a,b,c){this.N=a;this.Wd=b;this.r=c;this.sn=[]}m=nm.prototype;m.Xo=function(){if(this.Wd=="H264"&&(pl()||ql()))return false;return nl(this.Wd)};m.Zb=function(){return this.ta(false)};m.Lc=function(){return new rm(this.ta(true))};m.ta=function(a){if(this.Wd=="H264"&&!ol())return new bm(this,a);else{var b=this.N;if(window.ew)b+=b.indexOf("?")==-1?"?amaranoise="+Date.now():"&amaranoise="+Date.now();b=new nm(b,this.Wd,this.r);b.sn=this.sn;return new Ql(b,a)}};
m.$h=function(){if(this.Wd!="H264")throw new Error;return this.N};m.jb=k("N");m.Aa=k("r");m.Md=aa("r");function om(a,b){a=a;var c=a.indexOf("?");if(c>-1)a=a.substring(0,c);c=null;if(/\.(ogv|ogg)(\?.*)?$/i.test(a))c="Ogg";else if(/\.(mp4|m4v)(\?.*)?$/i.test(a))c="H264";else if(/\.webm(\?.*)?$/i.test(a))c="WebM";b=c!=null?new nm(a,c,b):null;if(b!=null)return b;return null}pm(om);function sm(a,b){this.Ie=a;this.Ta=hk();this.r=b}function tm(a){return(a=/(?:v[\/=]|embed\/|youtu\.be\/)([0-9a-zA-Z\-\_]+)/i.exec(a))?a[1]:null}function um(a,b){return(a=tm(a))?new sm(a,b):null}m=sm.prototype;m.Zb=function(){return this.nk(false)};m.Lc=function(){return new rm(this.nk(true))};m.nk=function(a){return new Sl(new sm(this.Ie,this.r),a)};m.Aa=k("r");m.Md=aa("r");m.Fb=function(){return this.r&&this.r.width&&this.r.height?new K(parseInt(this.r.width,0),parseInt(this.r.height,0)):null};
m.jb=function(){return"http://www.youtube.com/watch?v="+this.Ie};pm(function(a,b){if(/^\s*https?:\/\/([^\.]+\.)?youtu\.?be/i.test(a)){var c=null;c=window.swfobject.hasFlashPlayerVersion("9")?um(a,b):vm(a,b);if(c!=null)return c}return null});function wm(a,b){sm.call(this,a,b)}y(wm,sm);wm.prototype.nk=function(a){return new $l(new wm(this.Ie,this.Aa()),a)};function vm(a,b){return(a=tm(a))?new wm(a,b):null};function xm(a,b,c,d){this.Tp=a;this.G=c;this.Vp=b;this.Ta=hk();this.r=d}var ym=["brightcove.com","bcove.me"];function zm(a){var b=new T(a);return ym.reduce(function(c,d){return c||xa(d,b.Ib.substr(b.Ib.length-d.length,d.length))==0})}m=xm.prototype;m.Zb=function(){return this.ta(false)};m.Lc=function(){return new rm(this.ta(true))};m.ta=function(a){return new Am(new xm(this.Tp,this.Vp,this.G,this.r),a)};m.Aa=k("r");m.Md=aa("r");m.jb=function(){return this.r.url};
m.Fb=function(){return this.r&&this.r.width&&this.r.height?new K(parseInt(this.r.width,0),parseInt(this.r.height,0)):null};m.toString=function(){return"BrightcoveVideoSource "+this.G};pm(function(a){if(zm(a)){a:{var b=undefined;if(zm(a)){var c=new T(a),d=c.Ob.va("bckey");c=c.Ob.va("bctid");var f;try{f=/bcpid([\d])+/.exec(a)[0].substring(5)}catch(g){}b||(b={});b.uri=a;if(f){a=new xm(f,d,c,b);break a}}a=null}return a}return null});function Am(a,b){W.call(this,a);this.u=a;this.Cb=[a.Ta];this.ja=a.Ta+"_bcplayer";this.kc="event"+a.Ta;this.C=!!b;this.t=Bm;var c=w(this.Ut,this);if(window.onTemplateLoaded){var d=window.onTemplateLoaded;window.onTemplateLoaded=function(f){d(f);c(f)}}else window.onTemplateLoaded=c;this.h=this.z=null;this.v=[];this.Ia=false;this.S=new H(500);this.I=new H(80)}y(Am,W);
Am.prototype.V=function(a){Am.e.V.call(this,a);this.Ia=true;this.h=a;this.z=Ne(a);this.gb();window[this.kc]=w(this.we,this);var b=new H(250),c=this,d=0;this.j().c(b,I,function(){d++;d==20&&c.jp();if(c.h.play){b.stop();c.h.addEventListener("onStateChange",c.kc)}});b.start()};Am.prototype.jp=function(){jk("log_brightCove_ei_failure",{page_url:window.location.href})};Am.prototype.d=function(){Am.e.d.call(this);var a=this.u.Fb();this.z=!this.C&&a?a:this.C?yl:xl};
Am.prototype.i=function(){Am.e.i.call(this);if(!this.Ia){if(typeof window.brightcove==="undefined"&&typeof window.unisubs.brightcoveLoading==="undefined"){window.unisubs.brightcoveLoading=true;var a=document.createElement("script");a.type="text/javascript";a.src="http://admin.brightcove.com/js/BrightcoveExperiences_all.js";document.body.appendChild(a)}this.Ia=true;a=this.f().d("div");var b=Dc(this.u.Aa());b.playerID=this.u.Tp;b.playerKey=this.u.Vp;var c=this.u.Fb();this.z=!this.C&&c?c:this.C?yl:xl;
b.videoID=this.u.G;b.width=this.z.width;b.height=this.z.height;b.uuid=this.ja;c=' <object id="{{uuid}}" class="BrightcoveExperience"> <param name="bgcolor" value="#FFFFFF" /> <param name="width" value="{{width}}" /> <param name="height" value="{{height}}" /><param name="playerID" value="{{playerID}}" /><param name="playerKey" value="{{playerKey}}" /><param name="wmode" value="transparent" /><param name="isVid" value="true" /><param name="dynamicStreaming" value="true" /><param name="@videoPlayer" value="{{videoID}}" /></object>';
for(var d in b)c=c.replace("{{"+d+"}}",b[d]);a.innerHTML=c;a.id=hk();this.a().appendChild(a);Cm(this)}this.j().c(this.S,I,this.Ac).c(this.I,I,this.Sb);this.S.start()};function Cm(a){typeof window.brightcove=="undefined"?setTimeout(function(){Cm(a)},500):window.brightcove.createExperiences()}m=Am.prototype;m.sf=function(){var a=this.u.Aa();return a&&a.width&&a.height?new K(parseInt(a.width),parseInt(a.height)):null};m.ga=function(){Am.e.ga.call(this);this.S.stop();this.I.stop()};
m.Ac=function(){this.K()>0&&this.dispatchEvent("videoprogress")};m.Sb=function(){this.ia()>0&&this.Db()};m.Ut=function(a){if(a==this.ja){this.gb();this.h=vd(this.ja);this.Zj=window.brightcove.getExperience(this.ja);this.Zj.getModule("experience").addEventListener("templateReady",w(this.Ep,this));cl(this.h,this.z);B(this.v,function(b){b()});this.v=[]}};
m.Ep=function(){this.Zj.getModule("experience").removeEventListener("templateReady",w(this.Ep,this));this.Q=this.Zj.getModule("videoPlayer");this.Q.addEventListener("mediaPlay",w(this.cu,this));this.Q.addEventListener("mediaStop",w(this.bu,this));this.t=Dm};m.cu=function(){this.dispatchEvent("videoplay");this.I.start();this.t=Em};function Fm(a){return a.Q.getVideoDuration()-a.Q.getVideoPosition()<0.1}Am.prototype.bu=function(){this.dispatchEvent("videopause");this.t=Hm;this.I.stop();Fm(this)&&Im(this)};
function Im(a){a.t=Jm;a.fe()}m=Am.prototype;m.Qc=function(){return this.K()>0?1:0};m.ud=function(){var a=this.lg();return this.K()*a/(a+this.ig())};m.me=function(){var a=this.lg();return this.K()*(a+this.Q.getVideoBytesLoaded())/(a+this.ig())};m.lg=function(){return this.Q?this.Q.getVideoStartBytes():0};m.ig=function(){return this.Q?this.Q.tw():0};m.K=function(){if(!this.bb&&this.Q){this.bb=this.Q.getVideoDuration();if(this.bb<=0)this.bb=0}return this.bb};
m.Sc=function(){return this.Q?this.Q.getVolume()/100:0};m.mb=function(a){this.Q?this.Q.setVolume(a*100):this.v.push(w(this.Lu,this,a))};m.Bd=function(){return this.Q&&!this.Q.isPlaying()};m.Sd=function(){return Fm(this)};m.Dd=function(){return this.Q&&this.Q.isPlaying()};m.fb=function(){this.Q?this.Q.play():this.v.push(w(this.fb,this))};m.lb=function(){this.Q?this.Q.pause():this.v.push(w(this.lb,this))};
m.Rb=function(){if(this.Q){this.Q.stop();return this.Va=true}else{this.v.push(w(this.Rb,this));return false}};m.bc=function(a){if(this.Q){this.Q.cueVideoById(this.u.rw(),a);this.Va=false}else this.v.push(w(this.bc,this,a))};m.ia=function(){return this.Q?this.Q.getVideoPosition():0};m.U=function(a){if(this.Q){this.Q.seek(a);this.Db()}else this.v.push(w(this.U,this,a))};m.yd=k("t");m.Bg=function(){return Ua};m.Xk=l(false);m.Ua=k("z");m.m=function(){Am.e.m.call(this);this.S.p();this.I.p()};
m.toString=l("BrightcoveVideoPlayer");var Bm=-1,Jm=0,Em=1,Hm=2,Dm=3;function Km(a,b){this.ns=a;this.r=b}m=Km.prototype;m.Zb=function(){return this.ta(false)};m.Lc=function(){return new rm(this.ta(true))};m.ta=function(a){return new bm(this,a)};m.$h=k("ns");m.jb=function(){return this.$h()};m.Aa=k("r");m.Md=aa("r");m.Fb=function(){return this.r&&this.r.width&&this.r.height?new K(parseInt(this.r.width),parseInt(this.r.height)):null};pm(function(a,b){if(/\.flv$|\.mov$/i.test(a))return new Km(a,b);return null});function Lm(a,b){W.call(this,a);this.u=a;this.C=!!b;this.h=null;this.Cb=[a.Ta,""+(new Date).getTime()].join("");this.ja=a.Ta+"_bliptvplayer";this.v=[];this.h=this.z=null;this.Nm=0.5;this.Wn=0;this.Ia=this.pw=false;this.jw=null;this.Ed=false;this.Ud="bliptv"}y(Lm,W);m=Lm.prototype;m.d=function(){this.q=this.f().createElement("span");J(this.a(),"unisubs-videoplayer");var a=this.sf();this.z=!this.C&&a?a:this.C?yl:xl};
m.i=function(){Lm.e.i.call(this);if(!this.Ia){var a=this;(new pi(this.u.N+"?skin=json")).send({},function(b){b=b[0].Post;a.bb=parseInt(b.media.duration);var c=b.embedUrl;if(!a.Ia){a.Ia=true;b=a.f().d("div");b.id=hk();a.a().appendChild(b);var d={id:a.ja,style:gl("",a.z)};c=c+"?chromeless="+(a.C?"true":"false")+"&captionson=false&backcolor=#00000";var f=w(a.vq,a);window.swfobject.embedSWF(c,b.id,a.z.width+"",a.z.height+"","8",null,null,{allowScriptAccess:"always",enablejs:"true",wmode:"opaque"},d,f)}})}};
m.Bd=function(){return!this.Ed};m.Dd=k("Ed");m.Sd=k("hs");m.fb=function(){this.h?this.h.sendEvent("play"):this.v.push(w(this.fb,this))};m.lb=function(){this.h?this.h.sendEvent("pause"):this.v.push(w(this.lb,this))};m.Rb=function(){this.pause()};m.bc=function(){this.Ha()};m.oe=k("Wn");m.U=function(a){if(this.h){this.h.sendEvent("seek",a);this.Db()}else this.v.push(w(this.U,this,a))};m.K=k("bb");m.Sc=k("Nm");
m.mb=function(a){if(this.h){this.h.sendEvent("volume",a);this.Nm=a}else this.v.push(w(this.mb,this))};m.Ua=k("z");
m.vq=function(){this.h=vd(this.ja);if(this.h.addJScallback){this.$a=true;B(this.v,function(d){d()});this.v=[];var a=this,b=hk(),c="onPlayerState"+b;window[c]=function(d){switch(d){case "playing":a.Ed=true;a.dispatchEvent(Jl.Gj);break;case "paused":a.Ed=false;a.dispatchEvent(Jl.Fj);break}};this.h.addJScallback("player_state_change","window."+c);c="onCurrentTimeCha"+b;window[c]=function(d){a.Wn=d;a.Db()};this.h.addJScallback("current_time_change","window."+c);b="onVideoEnde"+b;window[b]=function(){a.hs=
true;a.fe()};this.h.addJScallback("complete","window."+b);this.h.sendEvent("volume",this.Nm)}else{this.wb=w(this.vq,this);setTimeout(this.wb,500)}};m.sf=function(){var a=this.u.Aa();return a&&a.width&&a.height?new K(parseInt(a.width),parseInt(a.height)):null};function Mm(a,b,c){this.G=a;this.N=b;this.Ta=hk();this.r=c}m=Mm.prototype;m.Zb=function(){return this.ta(false)};m.Lc=function(){return new rm(this.ta(true))};m.ta=function(a){return new Lm(new Mm(this.G,this.N,this.r),a)};m.Aa=k("r");m.jb=k("N");m.Md=aa("r");pm(function(a,b){if(/^\s*https?:\/\/([^\.]+\.)?blip\.tv/.test(a))return new Mm("",a,b);return null});function rm(a){Q.call(this);this.g=a;this.lk=null}y(rm,Q);rm.prototype.d=function(){rm.e.d.call(this);this.D(this.g,true);if(this.g.Xk()){this.lk=new Nm(this.g);this.D(this.lk,true)}else this.lk=e()};rm.prototype.Bs=k("g");function Om(a,b,c){this.G=a;this.N=b;this.Ta=hk();this.r=c}m=Om.prototype;m.Zb=function(){return this.ta(false)};m.Lc=function(){return new rm(this.ta(true))};m.ta=function(a){return new Pm(new Om(this.G,this.N,this.r),a)};m.Aa=k("r");m.Md=aa("r");m.jb=k("N");pm(function(a,b){if(/^\s*https?:\/\/([^\.]+\.)?vimeo/.test(a)){var c=/vimeo.com\/([0-9]+)/i.exec(a);if(c)return new Om(c[1],a,b)}return null});function Pm(a,b){W.call(this,a);this.u=a;this.C=!!b;this.h=null;this.Cb=[a.Ta,""+(new Date).getTime()].join("");this.ja=a.Ta+"_vimeoplayer";this.kc="event"+a.Ta;this.gp=0;var c=w(this.hu,this);if(window.vimeo_player_loaded){var d=window.vimeo_player_loaded;window.vimeo_player_loaded=function(f){d(f);c(f)}}else window.vimeo_player_loaded=c;this.h=this.z=null;this.v=[];this.Ia=false;this.I=new H(80);this.Ud="vimeo"}y(Pm,W);
Pm.prototype.d=function(){Pm.e.d.call(this);var a=this.sf();this.z=!this.C&&a?a:this.C?yl:xl};Pm.prototype.i=function(){Pm.e.i.call(this);if(!this.Ia){this.Ia=true;var a=this.f().d("span");a.id=hk();this.a().appendChild(a);var b={id:this.ja,style:gl("",this.z)};this.gb();Qm(this);window.swfobject.embedSWF(Qm(this),a.id,this.z.width+"",this.z.height+"","8",null,null,{allowScriptAccess:"always",wmode:"opaque",allowfullscreen:"true"},b)}this.j().c(this.I,I,this.Sb)};
function Qm(a){var b={},c=a.u.Aa();if(!a.C&&c)b=c;Gc(b,{js_api:"1",width:a.z.width,height:a.z.height,clip_id:a.u.G,js_swf_id:a.Cb});b=b;a=ue(b);if(typeof a=="undefined")throw Error("Keys are undefined");b=te(b);if(a.length!=b.length)throw Error("Mismatched lengths for keys/values");c=new ai(null,undefined,undefined);for(var d=0;d<a.length;d++)c.add(a[d],b[d]);return"http://vimeo.com/moogaloop.swf?"+c.toString()}m=Pm.prototype;m.ga=function(){Pm.e.ga.call(this);this.I.stop()};
m.sf=function(){var a=this.u.Aa();return a&&a.width&&a.height?new K(parseInt(a.width),parseInt(a.height)):null};m.oe=function(){return this.$a?this.h.api_getCurrentTime():0};m.Sb=function(){this.K()>0&&this.Db()};m.K=function(){if(this.h&&this.h.api_getDuration)return this.h.api_getDuration();return 0};m.Qc=function(){return this.h?1:0};m.ud=l(0);m.me=function(){return this.gp*this.K()};m.Sc=function(){return this.h?this.h.api_getVolume():0.5};
m.mb=function(a){this.h?this.h.api_setVolume(a*100):this.v.push(w(this.mb,this,a))};m.U=function(a){if(this.h){this.h.api_seekTo(a);this.Db();if(a===0){this.h.api_seekTo(1);this.Ha();this.pause();this.Ha()}}else this.v.push(w(this.U,this,a))};m.Ua=function(){return new K(Pm.$v,Pm.Lv)};m.Bd=function(){return!this.Ed};m.Dd=k("Ed");m.Sd=function(){return this.ia()==this.K()};m.fb=function(){this.$a?this.h.api_play():this.v.push(w(this.fb,this))};
m.lb=function(){this.$a?this.h.api_pause():this.v.push(w(this.lb,this))};m.Rb=function(){this.pause()};m.bc=function(){this.Ha()};
m.hu=function(a){if(a==this.Cb){this.h=vd(this.ja);this.$a=true;B(this.v,function(d){d()});this.v=[];var b=this;a=hk();var c="onVimeoLoa"+a;window[c]=function(d){b.gp=d;b.dispatchEvent("videoprogress")};this.h.api_addEventListener("loadProgress",c);c="onVimeoFin"+a;window[c]=function(){b.fe()};this.h.api_addEventListener("finish",c);c="onVimeoPla"+a;window[c]=function(){b.Ed=true;b.I.start()};this.h.api_addEventListener("play",c);c="onVimeoPau"+a;window[c]=function(){b.Ed=false;b.I.stop()};this.h.api_addEventListener("pause",
c);a="onVimeoSeek"+a;window[a]=e();this.h.api_addEventListener("seek",a)}};m.Ua=k("z");m.m=function(){Pm.e.m.call(this);this.I.p()};function Rm(a,b,c){this.G=a;this.N=b;this.Ta=hk();this.r=c}m=Rm.prototype;m.Zb=function(){return this.ta(false,false)};m.Lc=function(){return new rm(this.ta(true,true))};m.ta=function(a,b){return new Sm(new Rm(this.G,this.N,this.r),a,b)};m.Fb=function(){return this.r&&this.r.width&&this.r.height?new K(parseInt(this.r.width),parseInt(this.r.height)):null};m.jb=k("N");m.Md=aa("r");
pm(function(a,b){if(/^\s*https?:\/\/([^\.]+\.)?dailymotion/.test(a)){var c=/dailymotion.com\/video\/([0-9a-z]+)/i.exec(a);if(c)return new Rm(c[1],a,b)}return null});function Tm(a,b,c){this.G=a;this.N=b;this.Ta=hk();this.r=c}m=Tm.prototype;m.Zb=function(){return this.ta(false)};m.Lc=function(){return new rm(this.ta(true))};m.ta=function(a){return new Um(new Tm(this.G,this.N,this.r),a)};m.Fb=function(){return this.r&&this.r.width&&this.r.height?new K(parseInt(this.r.width,0),parseInt(this.r.height,0)):null};m.Aa=k("r");m.Md=aa("r");m.jb=k("N");
pm(function(a,b){if(/^\s*https?:\/\/([^\.]+\.)?wistia/.test(a)){var c=/([wistia.com|wistia.net])\/(medias|embed\/iframe)?\/([0-9,A-Z,a-z]+)/i.exec(a);if(c)return new Tm(c.pop(),a,b)}return null});function Um(a,b){W.call(this,a);this.h=null;this.u=a;this.ja=hk()+"_wistiaplayer";this.C=!!b;this.v=[];this.S=new H(500);this.I=new H(80);this.Ud="wistia";this.Ew=this.h=null}y(Um,W);Um.prototype.Xk=l(true);Um.prototype.gb=function(){this.tk=true;var a=this.Ua();cl(this.a(),a.width,a.height);this.dispatchEvent(Dl)};Um.prototype.Ua=k("z");Um.prototype.K=function(){return this.h.duration()};function Vm(){return window.Wistia&&window.Wistia.embed}
function Wm(a,b,c){a.h=window.Wistia.embed(b,{playerColor:"ff0000",fullscreenButton:false,container:c,autoplay:false,chromeless:a.C,controlsVisibleOnLoad:!a.C,doNotTrack:true,playButton:!a.C,playBar:!a.C,videoFoam:false});(b=Ad("unisubs-play-beginner"))&&F(b,"click",w(a.fb,a));b=w(a.Qp,a);(c=Ad("unisubs-playPause"))&&F(c,"click",b);a.h.bind("timechange",function(d){a.Hw=d*1E3;a.dispatchEvent(Hl)});a.h.play()&&a.h.pause()}m=Um.prototype;m.Qp=function(){this.h||this.v.push(w(this,this.Qp))};
m.d=function(){Um.e.d.call(this);this.km();this.Of(new T("http://fast.wistia.com/embed/iframe/"+this.u.G));var a=this.u.Fb();this.z=!this.C&&a?a:this.C?yl:xl;this.gb();div_args={id:this.ja,"data-video-width":this.z.width+"","data-video-height":this.z.height+"",style:gl("",this.z)};a=this.f().d("div",div_args);this.a().appendChild(a);var b=this;uk("http://fast.wistia.com/static/E-v1.js",true,Vm,function(){Wm(b,b.u.G,b.ja)})};m.U=function(a){this.h?this.h.time(a):this.v.push(w(this.U,this,a))};
m.lb=function(){if(this.h){this.h.pause();this.ou=true;this.I.stop();this.dispatchEvent("videopause")}else this.v.push(w(this.lb,this))};m.fb=function(){if(this.h){this.h.play();this.ou=false;this.I.start();this.dispatchEvent("videoplay")}else this.v.push(w(this.fb,this))};m.Ac=function(){this.K()>0&&this.dispatchEvent("videoprogress")};
m.Of=function(a){var b=this.u.Aa();if(!this.C&&b)for(var c in b)c!="width"&&c!="height"&&U(a,c,b[c]);b=new T(window.location);U(U(U(U(U(a,"origin",window.location.protocol+"//"+b.Ib+(b.zc!=null?":"+b.zc:"")),"wmode","opaque"),"videoWidth",400),"videoHeight",300),"doNotTrack",true);this.C&&U(U(a,"playbar",false),"chromeless",true)};m.km=function(){this.z=xl;this.gb()};m.V=function(a){Um.e.V.call(this,a);this.Rk=a;if(a.id)this.ja=a.id;else a.id=this.ja;this.z=new K(parseInt(400),parseInt(300));this.gb()};
m.i=function(){Um.e.i.call(this);var a=window;if(a.Wistia&&a.Wistia.Player)this.Ag();else{var b=r;if(a.onYouTubePlayerAPIReady)b=a.onYouTubePlayerAPIReady;var c=w(this.Ag,this);window.onYouTubePlayerAPIReady=function(){b();c()}}this.j().c(this.I,I,this.Sb);this.S.start()};m.Ag=e();m.we=e();m.Og=function(){this.h=this.rn;B(this.v,function(a){a()});this.v=[];this.j().c(this.S,I,this.Ac).c(this.I,I,this.Sb);this.S.start()};m.Sb=function(){this.K()>0&&this.Db()};
m.m=function(){Um.e.m.call(this);this.S.p();this.I.p()};m.ga=function(){Um.e.ga.call(this);this.S.stop();this.I.stop()};m.Cd=function(){return this.h&&this.h.state()=="playing"};m.qi=function(){return this.h&&this.h.state()=="paused"};m.oe=function(){return this.h?this.h.time():0};m.Sc=function(){return this.h?this.h.volume():0};m.mb=function(a){if(this.h){this.h.volume(a);this.Iw=a}else this.v.push(w(this.mb,this,a))};function Sm(a,b,c){W.call(this,a);this.u=a;this.Hr=!!b;this.C=!!c;this.h=null;this.Cb=[a.Ta,""+(new Date).getTime()].join("");this.ja=a.Ta+"_dailymotionplayer";this.kc="event"+a.Ta;var d=w(this.Vt,this);if(window.onDailymotionPlayerReady){var f=window.onDailymotionPlayerReady;window.onDailymotionPlayerReady=function(g){f(g);d(g)}}else window.onDailymotionPlayerReady=d;this.v=[];this.Ia=false;this.S=new H(500);this.I=new H(80);this.Ud="dailymotion"}y(Sm,W);m=Sm.prototype;
m.i=function(){Sm.e.i.call(this);var a=this.u.Fb();this.z=!this.C&&a?a:this.C?yl:xl;if(!this.Ia){this.Ia=true;a=this.f().d("div");a.id=hk();this.a().appendChild(a);var b={id:this.ja,style:gl("",this.Ua())},c=["?chromeless=",this.Hr?1:0,"&enableApi=1&playerapiid=",this.Cb].join("");this.gb();window.swfobject.embedSWF(["http://www.dailymotion.com/swf",c].join(""),a.id,this.z.width,this.z.height,"8",null,null,{allowScriptAccess:"always",wmode:"opaque"},b)}this.j().c(this.S,I,this.Ac);this.j().c(this.I,
I,this.Sb)};m.ga=function(){Sm.e.ga.call(this);this.S.stop();this.I.stop()};m.oe=function(){return this.h?this.h.getCurrentTime():0};m.Ac=function(){this.K()>0&&this.dispatchEvent("videoprogress")};m.Sb=function(){this.K()>0&&this.Db()};m.K=function(){return this.h&&this.h.getDuration?this.h.getDuration():0};m.Qc=function(){return this.h?1:0};m.ud=function(){if(!this.h)return 0;var a=this.h.getVideoStartBytes(),b=this.h.getVideoBytesTotal();return this.K()*(1*a/(a+b))};
m.me=function(){if(!this.h)return 0;var a=this.h.getVideoStartBytes(),b=this.h.getVideoBytesTotal(),c=this.h.getVideoBytesLoaded();return this.K()*(1*(a+c)/(a+b))};m.Sc=function(){return this.h?this.h.getVolume()/100:0};m.mb=function(a){this.h?this.h.setVolume(100*a):this.v.push(w(this.mb,this,a))};m.U=function(a,b){if(this.h){a=Math.max(a,1);this.h.seekTo(a);b||this.Db()}else this.v.push(w(this.U,this,a))};m.Ua=k("z");m.Bd=function(){return this.yd()==Xm.wh};m.Dd=function(){return this.yd()==Xm.xh};
m.Sd=function(){return this.yd()==Xm.sh};m.fb=function(){if(this.h){this.h.playVideo();this.I.start()}else this.v.push(w(this.fb,this))};m.lb=function(){if(this.h){this.h.pauseVideo();this.I.stop()}else this.v.push(w(this.lb,this))};m.Rb=function(){if(this.h){this.h.stopVideo();return true}else{this.v.push(w(this.Rb,this));return false}};m.bc=function(a){if(this.h){this.h.cueVideoById(this.u.G);this.U(a);this.Va=false}else this.v.push(w(this.bc,this,a))};
m.we=function(a){var b=Xm;if(a==b.xh){this.dispatchEvent(Jl.Gj);this.I.start()}else if(a==b.wh){this.dispatchEvent(Jl.Fj);this.I.stop()}else a==b.sh&&this.fe()};m.yd=function(){return this.h?this.h.getPlayerState():-1};m.Vt=function(a){if(a==this.Cb){this.h=vd(this.ja);this.h.cueVideoById(this.u.G);B(this.v,function(b){b()});this.v=[];window[this.kc]=w(this.we,this);this.S.start();this.h.addEventListener("onStateChange",this.kc)}};m.m=function(){Sm.e.m.call(this);this.S.p();this.I.p()};m.Bg=function(){return Ua};
var Xm={fr:-1,sh:0,xh:1,wh:2,hr:5};function Ym(a,b){this.pc=a.my_languages;this.ml=a.limit_languages;this.ur=a.blocked_languages;Mb(this.pc);this.pc=yb(this.pc,function(c){return!!Sj(c)});this.Hg=a.original_language;this.xa=new Zm(a.video_languages);this.fd=new $m(this.pc,this.xa,this.ml,b);this.gm=null;if(b)this.Ri=b.Ke?an(this.fd,b.B+b.Ke):bn(this.fd,b.B)}function cn(a){if(!a.Ri)a.Ri=dn(a.fd)[0];return a.Ri}
function en(a){var b=a.Hg;if(!b)b=a.gm;var c=cn(a);if(c.B==b)return[];var d=fn(a.xa,c.B),f=[];a.xa.forEach(function(h){D(d,h)||f.push(h)});f=yb(f,function(h){return h.zh>0});var g=new Vg(a.pc);Pb(f,function(h,j){return Ob(g.contains(h.B)?0:1,g.contains(j.B)?0:1)});return f};function gn(a){this.vc=a.pk;this.B=a.language;this.Xd=a.dependent;this.hd=a.is_complete;this.Yd=a.percent_done;this.Mf=a.standard_pk;this.zh=a.subtitle_count;this.$q=a.in_progress;this.Bj=a.disabled_from;this.Wq=a.disabled_to;this.Vm=a.is_public;this.er=a.translated_from}gn.prototype.fl=function(){return Sj(this.B)};gn.prototype.toString=function(){var a=this.fl();if(this.zh>0)a+=this.hd?" (100%)":" (incomplete)";a+=this.$q?" (in progress)":"";return a};
function hn(a,b){a.nr=b;if(a.Mf)a.mq=Bb(a.nr,function(c){return c.vc==this.Mf},a)}gn.prototype.Lb=function(){return this.Xd&&this.Yd==0};function Zm(a){a=C(a,function(b){return new gn(b)});this.xa=yb(a,function(b){return!!Sj(b.B)||b.zh>0});B(this.xa,function(b){hn(b,this.xa)},this);this.Ki=this.re=null}Zm.prototype.forEach=function(a,b){B(this.xa,a,b)};function fn(a,b){if(!a.re){a.re={};for(var c,d=0;d<a.xa.length;d++){c=a.xa[d];if(a.re[c.B])a.re[c.B].push(c);else a.re[c.B]=[c]}}return a.re[b]?a.re[b]:[]}function jn(a,b){if(!a.Ki){a.Ki={};B(a.xa,function(c){this.Ki[c.vc]=c},a)}return a.Ki[b]};function ln(a,b,c){this.B=c=b?b.B:c;this.Ej=c+(b?""+b.vc:"");this.Hc=Sj(c);this.yh=a;this.Vb=b}ln.prototype.toString=function(){return this.Vb?this.Vb.toString():this.Hc};function $m(a,b,c,d){this.pc=a;this.xa=b;this.ml=c;this.Tc=d||null;this.P=this.Ow=null}
function mn(a){var b=[];if(a.Tc&&a.Tc.Ke){var c=new ln(0,jn(a.xa,a.Tc.Ke));c.B&&b.push(c)}var d=[];B(a.pc,function(f){d=Ib(d,nn(this,f))},a);b=Ib(b,d);c=b.length;on(a,b);pn(a,b);c=Eb(b,0,c);Pb(b,function(f,g){var h=Ob(f.yh,g.yh);if(h==0)h=Ob(f.Hc,g.Hc);return h});Pb(c,function(f,g){var h=Ob(f.yh,g.yh);if(h==0)if(f.Vb&&g.Vb){h=Ob(g.Vb.Yd,f.Vb.Yd);if(h==0)h=Ob(f.Hc,g.Hc)}else h=Ob(f.Hc,g.Hc);return h});Fb(b,c,0);return b=qn(a,b)}function dn(a){if(!a.fd)a.fd=mn(a);return a.fd}
function bn(a,b){return Bb(dn(a),function(c){return c.B==b})}function an(a,b){if(!a.P){a.P={};B(dn(a),function(c){this.P[c.Ej]=c},a)}return a.P[b]}function on(a,b){var c=new Vg(C(yb(b,function(d){return!!d.Vb}),function(d){return d.Vb.vc}));a.xa.forEach(function(d){c.contains(d.vc)||b.push(new ln(11,d))})}function pn(a,b){var c=new Vg(C(b,function(d){return d.B}));B(Nj,function(d){c.contains(d[0])||b.push(new ln(11,null,d[0]))})}
function qn(a,b){var c;c=a.Tc&&a.Tc.FORCE?new Vg([a.Tc.LANGUAGE]):new Vg(a.ml);return c.Lb()?b:yb(b,function(d){return c.contains(d.B)})}function nn(a,b){var c=[],d=fn(a.xa,b);d.length||(d=[null]);B(d,function(f){c.push(rn(this,f,b))},a);return c}function rn(a,b,c){var d=null;return(d=sn(a,b,true,1))?d:(d=tn(a,b,c))?d:(d=un(a,b))?d:new ln(10,b,c)}
function sn(a,b,c,d){if(b&&(c?b.Xd&&b.Yd>0&&b.Yd<100:b.Xd&&b.Yd==100)){c=[];for(var f=0;f<a.pc.length;f++){var g=fn(a.xa,a.pc[f]);c=Ib(c,C(g,function(h){return b.Xd?h.Xd?b.Mf==h.Mf:b.Mf==h.vc:false}))}if(c.length>0)return new ln(d,b)}return null}function tn(a,b,c){if(!b||b.Lb()){for(var d=[],f=0;f<a.pc.length;f++){var g=fn(a.xa,a.pc[f]);d=Ib(d,C(g,function(h){return h.Xd?h.mq&&h.mq.hd&&h.Yd>10:h.hd}))}if(d.length>0)return new ln(2,b,c)}return null}
function un(a,b){if(b&&!b.Xd&&!b.hd)return new ln(3,b);return null};function vn(a,b,c){R.call(this,"unisubs-modal-lang",true);qf(this,null);this.zb=true;this.G=a;this.ro=false;this.Za=null;this.Tc=b;this.wb=c;this.pm=null;this.Em=this.um=true}y(vn,R);vn.prototype.d=function(){vn.e.d.call(this);var a=w(this.f().d,this.f()),b=this.a();b.appendChild(a("h3",null,"Create subtitles"));this.Ma=a("div",null,"");this.Ma.innerHTML="<p>Loading&hellip;</p>";b.appendChild(this.Ma)};vn.prototype.i=function(){vn.e.i.call(this);wn(this)};
vn.prototype.w=function(a){vn.e.w.call(this,a);a&&jk("fetch_start_dialog_contents",{video_id:this.G},w(this.yu,this))};function xn(a,b,c,d){a=[];for(var f,g,h,j=0;j<c.length;j++){f=c[j][0];g=c[j][1];h=c[j][3];f={value:f};if(h)f.disabled="disabled";a.push(b("option",f,g))}return b("select",d||null,a)}
function yn(a){a.ro=true;a.Za=new Ym(a.pm,a.Tc);Ld(a.Ma);var b=w(a.f().d,a.f());if(a.Za.Hg)a.Ma.appendChild(b("p",null,"This video is in "+Sj(a.Za.Hg)));else{var c=Nj;c.unshift(["","--Select language--"]);a.ue=xn(a,b,c,"original-language");a.ue.value="";a.Za.gm="";a.Ma.appendChild(b("p",null,b("span",null,"This video is in: "),a.ue));a.Ma.appendChild(b("p","notice","Please double check the primary spoken language. This step cannot be undone."))}zn(a,b);a.Bk=b("span");a.xo=b("div",null,b("p",null,
b("span",null,"Translate from: "),a.Bk));a.Ma.appendChild(a.xo);An(a);a.rj=b("p","warning");L(a.Ma,a.rj);P(a.rj,false);a.Pa=b("a",{href:"#",className:"unisubs-green-button unisubs-big"},"Continue");L(a.Ma,a.Pa);b=b("div");V(b,"clear","both");b.innerHTML="&nbsp;";a.Ma.appendChild(b);a.Zp();wn(a);Bn(a,null)}
function Cn(a){a.Ma.innerHTML=window.kn?window.kn==="Private"?"<p>Subtitles for this video are privately moderated.</p>":"<p>Subtitles for this video are moderated by the "+window.kn+" team.</p><p>Learn more on the <a href="+window.Zv+">team's home page</a>.</p>":"<p>These subtitles are moderated by a volunteer team.</p><p>View the video on <a href="+qk(a.G)+">Amara's website</a> to learn more:</p>"}
function Dn(a){a.Ma.innerHTML="<p>Subtitles for this video are moderated.</p><p>Please visit the <a href='"+qk(a.G)+"'>video page</a> to contribute.</p>"}vn.prototype.wl=function(a){this.um=a.can_subtitle;this.Em=a.can_translate;if(this.um)this.um||this.Em?yn(this):Cn(this);else{a=new Ym(this.pm,this.Tc);yb(en(a),function(b){return!b.Bj}).length===0?Cn(this):yn(this)}};
vn.prototype.yu=function(a){var b=a.is_moderated;this.pm=a;if(b)Gj!=null?Dn(this):jk("can_user_edit_video",{video_id:this.G},w(this.wl,this));else yn(this)};
function An(a){var b=en(a.Za),c=yb(b,function(n){return!n.Bj});P(a.xo,c.length>0);var d=a.Bf.value,f=a.Za.xa.xa,g;for(var h in f){var j=f[h];if(j.B==d||j.B+j.vc==d){g=j;break}}if(g&&!g.hd)c=yb(b,function(n){return g.er==n.B});if(c.length>0){b=[];if(a.Em)b=C(c,function(n){return[n.B+"",n.toString(),null,n.Bj]});c=w(a.f().d,a.f());a.Te=xn(a,c,b,"from-language");Ld(a.Bk);a.Bk.appendChild(a.Te);a.j().c(a.Te,"change",a.vs)}else a.Te=null}
function zn(a,b){var c=a.Za.ur||[],d=C(dn(a.Za.fd),function(g){var h=false;if(g.Vb)h=g.Vb.Wq;else if(D(c,g.B))h=true;return[g.Ej,g.toString(),g.B,h]});a.Bf=xn(a,b,d,"to-language");a.Bf.value=cn(a.Za).Ej;a.Ma.appendChild(b("p",null,b("span",null,"Subtitle into: "),a.Bf));a=Ad("to-language");for(b=Od(a)[a.selectedIndex];b&&b.disabled;){d=b.nextElementSibling!=undefined?b.nextElementSibling:Qd(b.nextSibling,true);if(d){tg(a,d.value);b=Od(a)[a.selectedIndex]}}if(window.TASK_TRANSLATE_TO_LANGUAGE){b=Od(a);
for(d=0;d<b.length;d++){var f=b[d].value.replace(/\d+/g,"");if(window.TASK_TRANSLATE_TO_LANGUAGE==f){tg(a,b[d].value);break}}}}function wn(a){if(a.aa&&a.ro){a.j().c(a.Bf,"change",a.ov).c(a.Pa,"click",a.te);a.ue&&a.j().c(a.ue,"change",a.ku)}}vn.prototype.ku=function(){this.Za.gm=this.ue.value;An(this)};vn.prototype.ov=function(){var a=this.Za;a.Ri=an(a.fd,this.Bf.value);An(this);Bn(this,null)};vn.prototype.vs=function(){Bn(this,null)};function Bn(a,b){M(a.rj,b||"");P(a.rj,!!b)}
vn.prototype.te=function(a){a.preventDefault();if(!this.zp){this.zp=true;a=null;if(this.Te&&this.Te.value!="forkk")a=this.Te.value;var b=an(this.Za.fd,this.Bf.value),c=this;if(!this.Za.Hg)if(this.ue.value===""){this.zp=false;alert("You must select a language first.");return false}this.wb(!this.Za.Hg?this.ue.value:null,b.B,b.Vb?b.Vb.vc:null,a,function(){c.w(false)});M(this.Pa,"Loading...");J(this.Pa,"unisubs-button-disabled")}};function En(){Q.call(this);this.ge=this.$g=null}y(En,Q);
En.prototype.d=function(){En.e.d.call(this);var a=w(this.f().d,this.f());this.ub=a("div","unisubs-transcript");this.kf=a("a","resync","Back to current line");kl(this.kf,false);var b=a("a",{href:"#",id:"unisubs-logo"},a("img",{src:Vj("widget_button.png")}));this.Y=new Fn(b);var c=a("div","unisubs-search-container",a("div","unisubs-search-input",a("input",{className:"unisubs-search",label:"Search..."}),a("span","resultcount")),sk(a,"\u2191"),sk(a,"\u2193"));a=a("div","unisubs-substreamer",a("div","unisubs-substreamer-controls",
a("ul",null,a("li",null,b)),this.kf,c),this.ub);L(this.a(),a);this.Zg=new Gn;this.Zg.pa(c)};En.prototype.V=function(a){En.e.V.call(this,a);this.ub=wd("div","unisubs-transcript",a)[0];this.kf=wd("a","resync",a)[0];this.Y=new Fn(vd("unisubs-logo"));var b=wd("p","unisubs-transcript-paragraph",a);Hn(this,b);this.Zg=new Gn;this.Zg.pa(wd(null,"unisubs-search-container",a)[0]);a=this.Zg;b=this.Fc;a.ub=this.ub;a.Fc=b};
function In(a,b){var c=[],d;B(b,function(g,h){if(h==0||g.start_of_paragraph){d=[];c.push(d)}d.push(g)});var f=w(a.f().d,a.f());return C(c,function(g){g=C(g,function(h){return span=f("span",{className:"unisubs-sub",id:"usub-a-"+h.subtitle_id},h.text)});g=Ib(["p",null],g);return f.apply(null,g)})}function Jn(a,b){w(a.f().d,a.f());b=In(a,b);Ld(a.ub);for(var c=[],d=0;d<b.length;d++){c.push(b[d]);d<b.length-1&&c.push(document.createTextNode(" "))}L(a.ub,c);Hn(a,b);b=a.Zg;c=a.Fc;b.ub=a.ub;b.Fc=c}
En.prototype.i=function(){En.e.i.call(this);this.j().c(this.ub,"scroll",this.pv).c(this.kf,"click",this.Bu)};En.prototype.pv=function(){if(this.Pq)this.Pq=false;else{this.Qo=true;kl(this.kf,true)}};function Hn(a,b){var c=[];B(b,function(d){d=wd("span",null,d);for(var f=0;f<d.length;f++)c.push(d[f])});a.Fc=C(c,function(d){return new Kn(d)});a.$g=new we;B(a.Fc,function(d){d.uc(this);this.$g.T(d.Pj,d)},a)}En.prototype.Bu=function(a){a.preventDefault();this.Qo=false;kl(this.kf,false);Ln(this)};
function Mn(a,b){if(a.ge){a.ge.display(false);a.ge=null}if(b){a.ge=a.$g.va(b);Ln(a)}}function Ln(a){if(a.ge){a.ge.display(true);var b=a.ge;if(!a.Qo){a.Pq=true;He(b.Qb,a.ub,true)}}};function Gn(){Q.call(this)}y(Gn,Q);Gn.prototype.V=function(a){Gn.e.V.call(this,a);a=Od(a);var b=Od(a[0]);this.em=new ug;this.em.pa(b[0]);this.Yl=a[1];this.zl=a[2];this.bq=b[1]};Gn.prototype.i=function(){Gn.e.i.call(this);this.j().c(this.em.a(),"keyup",this.Qs).c(this.Yl,"click",this.wp).c(this.zl,"click",this.wp)};Gn.prototype.wp=function(a){a.preventDefault();if(a.target==this.Yl&&this.kj>0)Nn(this,this.kj-1);else a.target==this.zl&&this.kj<this.ae.length-1&&Nn(this,this.kj+1)};
Gn.prototype.Qs=function(){B(this.Fc,function(b){b.reset()});var a=this.em.db().toLowerCase();if(a!=""){tj(this.ub,[[a,false]],function(b,c){return'<span class="unisubs-search">'+c+"</span>"},true);this.ae=wd("span","unisubs-search",this.ub)}else this.ae=[];kl(this.bq,this.ae.length>0);this.ae.length>0&&Nn(this,0)};
function Nn(a,b){a.kj=b;var c=a.ae[b];a.No&&md(a.No,"highlighted-search");a.No=c;J(c,"highlighted-search");M(a.bq,b+1+"/"+a.ae.length);pd(a.Yl,"disabled",!(b>0));pd(a.zl,"disabled",!(b<a.ae.length-1));b=Ie(c);var d=Ie(a.ub);b.y>=d.y&&b.y+c.offsetHeight<d.y+a.ub.clientHeight||He(c,a.ub,true)};function Kn(a){E.call(this);this.Qb=a;this.Us=a.innerHTML;a=On.exec(a.id);this.Yv=a[1];this.Pj=a[2];F(this.Qb,"mouseover",w(this.Lt,this));F(this.Qb,"mouseout",w(this.Kt,this));F(this.Qb,"click",w(this.Ir,this))}y(Kn,G);var Pn=null,On=/usub\-(\w+)\-(\w+)/;m=Kn.prototype;m.display=function(a){pd(this.Qb,"unisubs-sub-current",a)};m.reset=function(){this.Qb.innerHTML=this.Us};
m.Lt=function(a){if(Rd(this.Qb,a.target)&&!Rd(this.Qb,a.relatedTarget)){if(Pn&&this!=Pn){md(Pn.Qb,"highlighted");Pn=null}Pn=this;J(this.Qb,"highlighted")}};m.Kt=function(a){if(Rd(this.Qb,a.target)&&a.relatedTarget&&!Rd(this.Qb,a.relatedTarget)&&this==Pn){md(this.Qb,"highlighted");Pn=null}};m.Ir=function(){this.dispatchEvent("subclicked")};var Qn={};function Fn(a){this.tn=a}m=Fn.prototype;m.Ec=e();m.gj=e();m.Tg=e();m.Ug=e();m.Un=e();m.Jq=e();m.bj=e();m.Ck=k("tn");m.a=k("tn");function Rn(a,b,c,d){var f=new Sn(a.u.jb(),a,b.Y,true),g={video_url:a.u.jb(),is_remote:pk()};f.im(function(j){Mn(b,j?j.sk.getSubtitleIndex(j.wa):null)});F(b,"subclicked",function(j){a.U(f.Nb.$g[j.target.Pj].H());Mn(b,j.target.Pj)});F(f,Tn,function(j){Jn(b,j.target.ev)});function h(j){d&&Jn(b,Un(j.subtitles).jd);try{Vn(f,j)}catch(n){f.Y.Ug()}}c?h():jk("show_widget",g,h)};function Wn(a){Q.call(this);this.Wi=this.hq=this.Dl=this.zi=this.gf=this.tf=this.Xe=this.Eh=null;this.rs=!!a;this.lq=Vj("spinner.gif");this.wi=Vj("small_logo.png");this.zd=new Ni;Oi(this.zd,"spinner",this.lq);Oi(this.zd,"small_logo",this.wi);this.zd.start()}y(Wn,Q);m=Wn.prototype;
m.d=function(){Wn.e.d.call(this);J(this.a(),"cleanslate","unisubs-videoTab","unisubs-videoTab-"+(this.rs?"anchoring":"static"));var a=w(this.f().d,this.f());this.Xe=a("img",{alt:"small logo"});this.tf=a("span","unisubs-tabTextchoose");this.Eh=a("a",{className:"unisubs-subtitleMeLink",href:"javascript:void(0);"},this.Xe,this.tf);this.zi=a("span","unisubs-tabTextfinish","NUDGE TEXT");this.gf=a("a",{href:"#"},this.zi);L(this.a(),this.Eh,this.gf)};
m.i=function(){Wn.e.i.call(this);this.bj(false);this.j().c(this.gf,"click",this.St)};m.Ck=k("Eh");m.Ec=function(){this.Xe.src=this.lq;M(this.tf,"Loading")};m.Ug=function(a){this.Xe.src=this.wi;M(this.tf,a||"Subs Unavailable");this.j().c(this.Eh,"click",function(b){b.preventDefault()})};m.gj=function(){this.Xe.src=this.wi;this.yq&&M(this.tf,this.yq)};
m.Tg=function(a,b){!a&&window.VIDEO_TEAM_WORKFLOW_ENABLED===true&&this.Yi(false);this.Xe.src=this.wi;this.yq=a=b?b.B?Sj(b.B):"Original Language":a?"Select Language":"Subtitle Me";M(this.tf,a)};m.St=function(a){a.preventDefault();Zk(Yk.na(),"Clicks_Improve_Subtitles_or_translation");this.Dl&&this.Dl()};m.bj=function(a){kl(this.gf,a);kl(this.zi,a);a?V(this.gf,"width",null):el(this.gf,0)};
m.Un=function(a,b){if(!(Gj==null||window.UNISUBS_HIDESHARE)){if(!this.Wi){var c=w(this.f().d,this.f());this.hq=c("span",{href:"","class":"unisubs-tabTextShare"},"Share");this.Wi=c("a",{href:"","class":""},this.hq);this.a().appendChild(this.Wi)}b=b?"_blank":"_self";Cd(this.Wi,{href:a.toString(),target:b})}};m.Jq=function(a,b){M(this.zi,a);this.Dl=b};m.Yi=function(a){jl(this.a(),a)};m.m=function(){Wn.e.m.call(this);this.zd.p()};function Xn(a,b){E.call(this);this.eb=this.Ba=null;this.ba=a;this.x=b}y(Xn,G);Xn.prototype.td=function(a){Yn(this,a.sw());Zn(this,a.O());$n(this,ao(a))};function bo(a,b){return co(a)-co(b)}function eo(a,b){a.Ba=b}function fo(a,b){a.eb=b}function co(a){return a.x.getSubtitleIndex(a.ba)}function $n(a,b,c){a.x.content(a.ba,b);go(a,false,c)}function ho(a){var b=a.x.content(a.ba);return a.x.markdownToHTML(b)}function ao(a){return a.x.content(a.ba)}
function io(a){return Boolean(a.x.startOfParagraph(a.ba))}function Yn(a,b){var c=a.H();jo(a,b);go(a,c==-1)}function jo(a,b){a.x.startTime(a.ba);b=Math.max(b,a.Ao());a.x.startTime(a.ba,b);a.O()!=-1&&a.O()<b+0.5&&ko(a,b+0.5);if(a.Ba&&(a.Ba.O()==-1||a.Ba.O()>b))Zn(a.Ba,b)}Xn.prototype.H=function(){var a=this.x.startTime(this.ba);return q(a)?a:-1};function Zn(a,b){ko(a,b);go(a,false)}function ko(a,b){a.x.endTime(a.ba,b);a.H()>b-0.5&&jo(a,b-0.5);a.eb&&a.eb.H()!=-1&&a.eb.H()<b&&Yn(a.eb,b)}
Xn.prototype.Ih=function(){if(this.H()!=-1||this.O()!=-1){this.x.startTime(this.ba,"");this.x.endTime(this.ba,"")}};Xn.prototype.O=function(){var a=this.x.endTime(this.ba);return q(a)?a:-1};Xn.prototype.Ao=function(){return this.Ba?this.Ba.H()+0.5:0};Xn.prototype.As=function(){return this.O()==-1?99999:this.O()-0.5};function lo(a){return a.x.getSubtitles().index(a.ba)}function mo(a){return a.H()!=-1&&a.O()==-1}Xn.prototype.se=function(){return this.H()==-1||this.O()==-1};
function go(a,b,c){c||no(oo.na(),lo(a));a.dispatchEvent(new po(b))}Xn.prototype.toString=function(){return"EditableCaption: "+ao(this)};function po(a){this.type="captionchanged";this.Dq=a};function qo(a,b,c,d,f,g,h,j,n,o){E.call(this);var t=this,N;this.x=new window.AmaraDFXPParser;this.x.init(a);window.x=this.x;this.F=C(this.x.getSubtitles(),function(ha){N=new Xn(ha,t.x);N.uc(t);return N});if(o===undefined)o={};ro(this);this.Kc=b;this.title=c;this.description=f;this.Jd=o;this.lu=c;this.ju=f;this.Mp=Dc(o);this.ke=!!d;this.fl=g;this.vg=h;this.$k=j;this.xw=n}y(qo,G);var X={zj:"clearall",Hf:"cleartimes",Lf:"resetsubs",Je:"addsub",If:"deletesub"};
function so(a){return yb(a.F,function(b){return b.H()!=-1})}qo.prototype.clear=function(){this.x.removeSubtitles();this.dispatchEvent(X.zj)};qo.prototype.Ih=function(){this.x.clearAllTimes();this.dispatchEvent(X.Hf)};function to(a){a.x.resetSubtitles();var b,c=[];B(a.x.getSubtitles(),function(d,f){if(b=a.F[f])a.F[f].ba=d;else{b=new Xn(d,a.x);b.uc(a)}c[f]=b},a);a.F=c;ro(a);a.dispatchEvent(X.Lf)}function uo(a){return a.x.subtitlesCount()}qo.prototype.caption=function(a){return this.F[a]};
qo.prototype.Vc=function(){return this.x.xmlToString(true)};function vo(a){return yb(a.F,function(b){return wa(b.x.content(b.ba))!==""})}function wo(a,b,c,d){b=c.cloneSubtitle(b,false);return xo(a,d,b.get(0))}
function xo(a,b,c){var d,f=a.F[b]||a.F[a.F.length-1];if(b>0)d=f.Ba;if(c){a.x.addSubtitleNode(c,b);c=new Xn(c,a.x)}else c=new Xn(a.x.addSubtitle(b>=1?b-1:-1,{},""),a.x);yo(oo.na(),lo(c));Db(a.F,c,b);if(d){d.eb=c;c.Ba=d}c.eb=f;f.Ba=c;c.se()&&zo(a,c,d,f);c.uc(a);a.dispatchEvent(new Ao(X.Je,c));a.ke=true;return c}
function zo(a,b,c,d){if(typeof c==="undefined"){if(d.H()===0){c=(d.O()-d.H())/2;Yn(b,0);Zn(b,c);Yn(d,c)}}else if(!d.se()&&!c.se()){var f=d.H()-c.O();if(f>500){Yn(b,c.O());Zn(b,d.H())}else{a=c.H();f=d.O();if(f===-1){f=d.H();f=(f-a)/2}else f=(f-a)/3;Zn(c,a+f);Yn(b,c.O());Zn(b,c.O()+f);Yn(d,b.O())}}}qo.prototype.deleteCaption=function(a){var b=lo(a),c=this.F[b],d=c.Ba,f=c.eb;Hb(this.F,b);this.x.removeSubtitle(a.ba);d&&fo(d,f);f&&eo(f,d);this.dispatchEvent(new Ao(X.If,c,b));this.ke=true};
function Bo(a,b){var c=new Xn(a.x.addSubtitle(),a.x);yo(oo.na(),lo(c));c.uc(a);a.F.push(c);if(a.x.subtitlesCount()>1){var d=a.F[a.F.length-2];d.eb=c;c.Ba=d}b&&a.dispatchEvent(new Ao(X.Je,c));return c}function Co(a,b){var c,d,f,g=false,h=a.x.getSubtitles().length;for(c=0;c<h;c++){d=a.x.startTime(a.x.getSubtitleByIndex(c));f=(g=c==h-1)?undefined:a.x.startTime(a.x.getSubtitleByIndex(c+1));if(d!=-1&&d<=b&&(f==-1||f>b||g))return a.F[c]}return null}
function Do(a){return yb(a.F,function(b){var c=b.Ba;return b.H()!=-1||c&&c.H()!=-1||b.H()==-1&&!c})}function Ao(a,b,c){this.type=a;this.caption=b;this.index=c}qo.prototype.se=function(){return this.x.needsAnySynced()};qo.prototype.td=function(a){var b=Eo(this),c;B(a.jd,function(d){(c=b[d.subtitle_id])&&c.td(d)});Pb(this.F,bo);this.ke=true};function Eo(a){var b={};B(a.F,function(c){b[lo(c)]=c});return b}function ro(a){for(i=1;i<a.F.length;i++){a.F[i-1].eb=a.F[i];a.F[i].Ba=a.F[i-1]}}
function Fo(a){if(a.lu!==a.title||a.ju!==a.description)return true;for(key in a.Mp)if(a.Jd[key]!=a.Mp[key])return true;return false};function ak(a,b){R.call(this,"unisubs-modal-login",true);this.Pf=0;this.sa&&Pe(this.sa,this.Pf);this.uo=a;this.rp=b;this.lp=!!Hj;qf(this,null);this.zb=true;this.zd=new Ni;this.Bn=Vj("big_spinner.gif");Oi(this.zd,"bigSpinner",this.Bn);this.zd.start()}y(ak,R);var Go=null;m=ak.prototype;
m.d=function(){ak.e.d.call(this);var a=w(this.f().d,this.f());this.pl=a("a",{className:"unisubs-log",href:"#"},a("span",null,"Log in or Create an Account"));this.lh=a("a",{className:"unisubs-twitter",href:"#"},a("span",null,"Twitter"));this.Pl=a("a",{className:"unisubs-openid",href:"#"},a("span",null,"OpenID"));this.Gk=a("a",{className:"unisubs-google",href:"#"},a("span",null,"Google"));this.fg=a("a",{className:"unisubs-facebook",href:"#"},a("span",null,"Facebook"));var b=this.ha();this.rp&&Kd(b,
a("h4",{className:"unisubs-login-message"},this.rp));var c=a("h4",null,"Login using any of these options");b.appendChild(c);b.appendChild(this.pl);b.appendChild(this.lh);b.appendChild(this.Pl);b.appendChild(this.Gk);b.appendChild(this.fg);a=a("p","unisubs-small","For security, the login prompt will open in a separate window.");b.appendChild(a)};m.Wg=function(){Ld(this.ha());this.a().appendChild(this.f().d("img",{className:"big_spinner",src:this.Bn}))};
m.i=function(){ak.e.i.call(this);this.j().c(this.pl,"click",this.Qu).c(this.lh,"click",this.pd).c(this.Pl,"click",this.pd).c(this.Gk,"click",this.pd).c(this.fg,"click",this.pd)};m.Qu=function(a){this.Wg();this.zg=gk(fk,w(this.Wp,this),w(this.mp,this));a.preventDefault()};m.pd=function(a){this.Wg();this.zg=gk(a.target==this.pl?fk:a.target==this.lh?bk:a.target==this.Pl?ck:a.target==this.Gk?dk:ek,w(this.Wp,this),w(this.mp,this));a.preventDefault()};m.mp=function(){alert("We had a problem logging you in to the site. Most likely your network connection is flaky, or there is a serious problem with our server. You might want to try again.\n\nIf you are subtitling a video, you can always use the download subtitles link in the lower right corner of the dialog.")};
m.Wp=function(a){this.zg=null;this.lp=a;this.w(false)};m.w=function(a){ak.e.w.call(this,a);Go=a?this:null;if(!a)if(q(this.zg)&&!this.zg.closed)try{this.zg.close()}catch(b){}!a&&this.uo&&this.uo(this.lp)};m.m=function(){ak.e.m.call(this);this.zd.p()};function Ho(a){Q.call(this);this.g=pl()?(new nm(a.qh.Hl,"Ogg")).Zb():ol()?(new nm(a.qh.Hk,"H264")).Zb():(new sm(a.qh.Om)).Zb();this.Ts=Vj(a.Sk);this.vv=pl()||ol()}y(Ho,Q);
var Io={kd:{qh:{Hl:"http://s3.www.universalsubtitles.org.s3.amazonaws.com/howto/step-1.ogv",Hk:"http://s3.www.universalsubtitles.org.s3.amazonaws.com/howto/step-1.mp4",Om:"0MCpmace_lc"},Sk:"howto-step1.png"},Gb:{qh:{Hl:"http://s3.www.universalsubtitles.org.s3.amazonaws.com/howto/step-2.ogv",Hk:"http://s3.www.universalsubtitles.org.s3.amazonaws.com/howto/step-2.mp4",Om:"bkwiFF-I2nI"},Sk:"howto-step2.png"},fc:{qh:{Hl:"http://s3.www.universalsubtitles.org.s3.amazonaws.com/howto/step-3.ogv",Hk:"http://s3.www.universalsubtitles.org.s3.amazonaws.com/howto/step-3.mp4",
Om:"Y5vGEGKMkMk"},Sk:"howto-step3.png"}},Jo=new K(512,384);m=Ho.prototype;m.ha=k("Hb");
m.d=function(){Ho.e.d.call(this);var a=w(this.f().d,this.f());this.Hb=a("div");var b=this.a();b.className="unisubs-howtopanel";b.appendChild(this.Hb);this.kq=a("span","goog-checkbox-unchecked");b.appendChild(a("div",null,this.kq,document.createTextNode(" Skip these videos")));this.Tf=a("a",{className:"unisubs-done",href:"#"},a("span",null,"Continue"));b.appendChild(this.Tf);b=new Q;b.D(this.g,true);this.li=a("img",{src:this.Ts,className:"unisubs-howto-image"});b.a().appendChild(this.li);this.D(b,
true);b.a().className="unisubs-howto-videocontainer";if(this.vv){var c=Ed(window),d=Math.max(0,Ke(this.g.a()).y);a=Jo;if(d+a.height>c.height-60){c=Math.max(270,c.height-d-60);a=new K(a.width*c/a.height,c)}cl(this.g.J,a.width,a.height)}else a=this.g.Ua();cl(b.a(),a.width,a.height);cl(this.li,a.width,a.height)};
m.i=function(){Ho.e.i.call(this);if(!this.Ce){this.Ce=new Wi;this.Ce.pa(this.kq);this.Ce.Ui(this.Ce.a().parentNode);this.Ce.Rg(Ri)}this.j().c(this.Ce,"change",this.Tu);this.j().c(this.Tf,"click",this.kk);this.j().c(this.li,"click",this.qm)};m.qm=function(a){a.preventDefault();Nd(this.li);this.g.Ha()};m.Tu=function(){var a=this.Ce.sg();Jf.ca();Jf.T("skiphowto",a?"1":"0",63072E3)};m.kk=function(a){a.preventDefault();this.dispatchEvent("continue")};m.rq=function(){this.g.pause();this.g.p()};m.m=function(){Ho.e.m.call(this)};function Ko(a){Q.call(this);this.Es=a}y(Ko,Q);m=Ko.prototype;m.ha=k("Hb");
m.d=function(){Ko.e.d.call(this);var a=w(this.f().d,this.f());this.Hb=a("div");var b=this.a();b.className="unisubs-guidelinespanel";b.appendChild(this.Hb);this.Ds=a("h2",null,"Guidelines");b.appendChild(this.Ds);this.Cs=a("div",null,Jd(this.Es));b.appendChild(this.Cs);this.jq=a("span","goog-checkbox-unchecked");b.appendChild(a("div","skip-guidelines",this.jq,document.createTextNode("Always skip these guidelines")));this.Tf=a("a",{className:"unisubs-done",href:"#"},a("span",null,"Continue"));b.appendChild(this.Tf)};
m.i=function(){Ko.e.i.call(this);if(!this.Nd){this.Nd=new Wi;this.Nd.pa(this.jq);this.Nd.Ui(this.Nd.a().parentNode);this.Nd.Rg(Ri);window.uw=this.Nd}this.j().c(this.Nd,"change",this.Su);this.j().c(this.Tf,"click",this.kk)};m.kk=function(a){a.preventDefault();this.dispatchEvent("continue")};m.m=function(){Ko.e.m.call(this)};m.rq=e();m.Su=function(){var a=this.Nd.sg();Jf.ca();Jf.T("skipguidelines",a?"1":"0",63072E3)};function Y(a){R.call(this,"unisubs-modal-widget",true);this.Pf=0.8;this.sa&&Pe(this.sa,this.Pf);qf(this,null);this.zb=true;this.mo=false;this.Zr=null;this.Qn=a.Lc();this.g=this.Qn.g;this.Fn=this.L=this.Ni=this.Qf=this.gh=null;this.qg=new H(6E4);this.qg.start();this.vl=0;this.Ys=Lj==="review";this.Ak=false}y(Y,R);var Lo=false;
Y.prototype.d=function(){Y.e.d.call(this);var a=new Q;a.D(this.Qn,true);a.a().className="unisubs-left";a.D(this.gh=new Q,true);a.D(this.Qf=new Q,true);this.Qf.a().className="unisubs-captioningArea";this.D(a,true);this.D(this.Ni=new Q,true);this.Ni.a().className="unisubs-right";this.ha().appendChild(this.f().d("div","unisubs-clear"));this.D(this.Fn=new Q,true)};
Y.prototype.i=function(){Y.e.i.call(this);this.j().c(Uk.na(),"beforeunload",this.Tt).c(Yj,Xj.Zm,this.oj).c(Fd(document),["keydown","mousemove"],this.uv).c(this.qg,I,this.Ws)};Y.prototype.uv=function(){this.vl=0};Y.prototype.Ws=function(){this.vl++;this.vl>=15&&Mo(this)};function Mo(a){a.qg.stop();if(!a.Ys){var b=a.ai();if(b){b=new No(b,a.Vc());a.j().c(b,of,a.$r);b.w(true)}}}Y.prototype.$r=function(a){a.target.Ph?Oo(this):this.qg.start()};function Po(a,b){Qo(a);a.eh=b;a.D(b,true)}
function Qo(a){if(a.eh){a.eh.rq();a.removeChild(a.eh,true);a.eh.p();a.eh=null}}function Ro(a,b){a.L=b;a.Ni.sc(true);a.Ni.D(b,true)}Y.prototype.oj=function(){this.L.oj()};Y.prototype.ug=s;
function So(a,b,c){Zk(Yk.na(),"Submits_final_work_in_widget");if(Wj){a.Cc=true;alert("Congratulations, you have completed a demo. There is a web full of videos waiting for your translations, enjoy!");a.w(false)}else Hj==null&&!(Zj||Go!=null)?$j(function(d){d||alert("We had a problem logging you in. You might want to check your web connection and try again.\n\nYou can also download your subtitles using the download button in the lower right corner of the dialog and upload them once you've logged in.")}):a.lf(b,
c)}Y.prototype.lf=function(){s()};Y.prototype.Tt=function(a){if(!this.ug())a.message="You have unsaved work."};Y.prototype.w=function(a){if(a){Y.e.w.call(this,true);Fd(document).scrollTop=0}else this.ug()?Oo(this):To(this)};function Uo(a){(new Vo(function(){Oo(a,false)})).w(true)}function Wo(a,b,c){(new Xo("You haven't entered any subtitles!","But you set the video's title/description. Want to save it anyway?",function(){a.Ak=true;So(a,b,c)})).w(true)}
function To(a){(new Yo(function(b){b?So(a,true):Oo(a,false)})).w(true)}Y.prototype.ai=s;function Oo(a){var b=a.ai();if(b){var c={};c.session_pk=b.ad;jk("release_lock",c)}Ij!=null&&ed(function(){window.location.replace(Ij)});Y.e.w.call(a,false)}Y.prototype.Vc=s;Y.prototype.m=function(){Y.e.m.call(this);this.g.p();this.qg.p()};function Zo(a,b){E.call(this);this.F=so(b);window.Cw=this;this.x=b.x;var c=this;this.cw=function(d,f){return d-c.x.startTime(f)};this.tr=function(d,f){return d-c.x.startTime(f.ba)};this.Cn=function(d,f){return c.x.startTime(d.ba)-c.x.startTime(f.ba)};this.g=a;this.$=new O(this);this.$.c(a,Hl,this.Bq);this.$.c(b,Ib(xc(X),"captionchanged"),this.Cr);this.yb=-1;this.gl=null;this.Se=false}y(Zo,G);
Zo.prototype.Cr=function(a){if(a.type==X.zj||a.type==X.Hf||a.type==X.Lf){this.F=[];this.yb=-1;$o(this,null)}else if(a.type==X.Je){var b=a.caption;if(b.H()!=-1){a=this.F;b=b;var c=Nb(a,b,this.Cn);c<0&&Db(a,b,-(c+1));ap(this,this.g.ia())}}else if(a.type==X.If){b=a.caption;if(b.H()!=-1){a=this.F;b=Nb(a,b,this.Cn);b>=0&&Hb(a,b);ap(this,this.g.ia())}}else if(a.type=="captionchanged")if(a.Dq){this.F.push(a.target);this.Bq()}};
Zo.prototype.Bq=function(){var a=this.g.ia()*1E3;if(this.F!==0)if(!(this.yb==-1&&a<this.x.startTime(this.x.getFirstSubtitle()))){var b=this.yb>-1?this.x.getSubtitleByIndex(this.yb):null;if(b!=null&&this.x.isShownAt(b,a))$o(this,this.F[this.yb],this.yb);else{var c=this.yb<this.F.length-1?this.yb+1:null,d=this.yb<this.F.length-1?this.F[this.yb+1]:null;if(d!=null&&this.x.isShownAt(this.x.getSubtitleByIndex(c),a)){this.yb++;$o(this,d,c)}else if((d==null||a<this.x.startTime(d.ba))&&(b==null||a>=this.x.startTime(b))){$o(this,
null);d==null&&!this.Se&&this.dispatchEvent("captionsfinished")}else ap(this,a)}}};function ap(a,b){var c=Nb(a.F,b,a.tr);if(c<0)c=c*-1-2;a.yb=c;var d=a.F[c];c>=0&&d&&a.x.isShownAt(d.ba,b)?$o(a,d,c):$o(a,null)}function $o(a,b,c,d){if(!(b==a.gl&&!d))if(!a.Se){a.gl=b;a.dispatchEvent(new bp(b,c))}}Zo.prototype.m=function(){Zo.e.m.call(this);this.$.p()};function bp(a,b){this.type="caption";this.caption=a;this.index=b};function cp(a,b,c,d,f,g,h){Q.call(this);this.n=a;this.Ab=b;this.je=c;this.ll=d;this.Ou=f;this.Ur=g;this.Vr=h;this.vk=this.vi=null;this.nm=this.cj=true;this.Pi=this.xl=null}y(cp,Q);var Z={uh:"legend",Ij:"restart",Cj:"done",yj:"back",Um:"gotostep",Kj:"saveandexit",Lj:"saveandopeninneweditor"};
cp.prototype.d=function(){cp.e.d.call(this);var a=this.a(),b=w(this.f().d,this.f());this.vn(b,a);this.je&&this.je.length>0&&this.un(b,a);var c=b("div","unisubs-legend");a.appendChild(c);this.Tj(b,c);c.appendChild(b("div","unisubs-clear"));this.Uj(b,a);this.vi=b("div");this.ip=b("img",{src:Vj("spinner.gif")});this.Ec(false);this.vk=b("a",{className:"unisubs-done",href:"#"},b("span",null,this.ip,b("strong",null,this.Ur),document.createTextNode(" "),document.createTextNode(this.Vr)));c=b("div","unisubs-steps",
this.vi);var d=b("a",{className:"unisubs-backTo unisubs-greybutton",href:"#"},"Return to Typing");this.j().c(d,"click",this.rr);jl(d,false);this.Fh=d;jl(this.Fh,false);c.appendChild(this.Fh);if(this.Ou){d=b("a",{className:"unisubs-restart",href:"#"},"Restart this Step");this.j().c(d,"click",this.zu);c.appendChild(d)}this.ie=b("a",{href:"#",className:"unisubs-download-subs"},"Download subtitles");P(this.ie,false);L(c,this.ie);this.j().c(this.ie,"click",this.wk);this.Sj(b,a);if(this.nm){L(c,this.vk);
this.j().c(this.vk,"click",this.Tr)}if(this.cj){b=b("div","unisubs-saveandexit",b("span",null,"Need to stop and come back later? "),b("a",{href:"#"},b("span",null,"Save and Exit")));L(c,b);this.j().c(b,"click",this.Du)}if(!this.Pi){b=w(this.f().d,this.f());this.Pi=b("div","unisubs-saveandopeninneweditor",b("a",{href:"#"},b("span",null,"Save and open in new editor")));L(c,this.Pi);this.j().c(this.Pi,"click",this.Eu)}L(a,c);this.oj()};cp.prototype.Ec=function(a){jl(this.ip,a)};
function dp(a,b){jl(a.Fh,true);M(a.Fh,b)}
cp.prototype.vn=function(a,b){var c=a("div","unisubs-help-heading");b.appendChild(c);c.appendChild(a("h2",null,this.Ab.Mo));if(this.Ab.Ai){for(var d=a("ul",null,a("span",null,"Steps")),f=0;f<this.Ab.Ai;f++){var g={href:"#"};if(f==this.Ab.nn)g.className="unisubs-activestep";g=a("a",g,f+1+"");this.j().c(g,"click",qa(function(h,j){j.preventDefault()},f));d.appendChild(a("li",null,g))}c.appendChild(d)}if(this.Ab.pg){c=a("div");c.innerHTML=this.Ab.pg;b.appendChild(c)}else B(this.Ab.Pp,function(h){b.appendChild(a("p",
null,h))})};cp.prototype.un=function(a,b){for(var c=a("div","unisubs-extra"),d=0;d<this.je.length;d++)c.appendChild(a("p",null,this.je[d]));c.appendChild(a("span","unisubs-spanarrow"));b.appendChild(c)};function ep(a,b,c){return Bb(a.ll,function(d){return d.keyCode==b&&d.ef==c})}function fp(a,b,c,d){gp(a,b,c,"-down",d)}function hp(a,b,c,d){if(a=ep(a,b,c))M(a.hv,d?d:a.ep)}function gp(a,b,c,d,f){(a=ep(a,b,c))&&pd(a.Sr,a.eo+d,f)}m=cp.prototype;
m.Tj=function(a,b){for(var c=0;c<this.ll.length;c++){for(var d=this.ll[c],f=a("span",null,d.ep),g=a("span",d.Vu),h=d.ht.split("\n"),j=0;j<h.length;j++){j>0&&Kd(g,a("br"));var n=document.createTextNode(h[j]);g.appendChild(n)}g=a("div",d.eo,g,f);b.appendChild(g);d.Sr=g;d.hv=f;this.j().c(g,"click",w(this.lt,this,d.keyCode,d.ef));this.j().c(g,"mousedown",w(this.mt,this,d.keyCode,d.ef));d=w(this.nt,this,d.keyCode,d.ef);this.j().c(g,"mouseup",d);this.j().c(g,"mouseout",d)}};m.Uj=e();m.Sj=e();
m.lt=function(a,b,c){this.dispatchEvent(new ip(a,b,c.type))};m.mt=function(a,b,c){this.dispatchEvent(new ip(a,b,c.type));this.xl=a};m.nt=function(a,b){if(this.xl){this.xl=null;this.dispatchEvent(new ip(a,b,"mouseup"))}};m.rr=function(a){a.preventDefault();this.dispatchEvent(Z.yj)};m.zu=function(a){a.preventDefault();this.dispatchEvent(Z.Ij)};m.Tr=function(a){a.preventDefault();this.dispatchEvent(Z.Cj)};m.Du=function(a){a.preventDefault();this.dispatchEvent(Z.Kj)};
m.Eu=function(a){a.preventDefault();this.dispatchEvent(Z.Lj)};m.oj=function(){Ld(this.vi);var a=w(this.f().d,this.f());if(this.n&&!this.n.Xn()){var b=a("a",{href:"#"},"LOGIN");this.vi.appendChild(a("div","unisubs-needLogin",document.createTextNode("To save your subtitling work, you need to "),b));this.j().c(b,"click",this.st)}};function jp(a,b){P(a.ie,true);a.gt=b}cp.prototype.wk=function(a){a.preventDefault();a=this.M.Da?this.M.Da.B:this.M.ka.B;kp(this.gt(),a)};
cp.prototype.st=function(a){this.n.kp();a.preventDefault()};function lp(a,b,c,d){this.Mo=a;this.Pp=b;this.Ai=c;this.nn=d;this.pg=null}function mp(a,b,c,d,f,g){this.eo=a;this.Vu=b;this.ht=c;this.ep=d;this.keyCode=f;this.ef=g}function ip(a,b,c){this.type=Z.uh;this.keyCode=a;this.ef=b;this.cl=c}
function np(a,b,c,d,f){if(b==1){b=a("textarea",{"class":"unisubs-review-notes",id:"unisubs-review-notes",name:"notes"});var g=f?"Review subtitles":"Review this translation";a=f?d===0?new lp(g,[a("p",{},"Play the video and review the subtitles for both accuracy and timing."),a("p",{},"To make changes, use the controls on each subtitle to add, edit, or delete lines or to change their timing. You can also use the keyboard shortcuts shown below."),a("p",{},"If you are unable to complete the review now, click the red 'x' at the top right of this panel. You can restart this task again later."),
a("div",{className:"unisubs-extra"},a("p",{},"Enter review notes here. ","They will be sent to all previous contributors ","and posted as a ",a("em",{},"public comment")," to the subtitles."),a("span",{className:"unisubs-spanarrow"})),a("label",{"class":"unisubs-review-notes-label","for":"unisubs-review-notes"},"Notes"),b],c,d):new lp(g,[a("p",{},"Review the video title and description."),a("p",{},"Once you've finished, you can either send the subtitles back to their creator for additional work, or accept them to be published."),
a("div",{className:"unisubs-extra"},a("p",{},"Enter review notes here. ","They will be sent to all previous contributors ","and posted as a ",a("em",{},"public comment")," to the subtitles."),a("span",{className:"unisubs-spanarrow"})),a("label",{"class":"unisubs-review-notes-label","for":"unisubs-review-notes"},"Notes"),b],c,d):d===0?new lp(g,[a("p",{},"Review the translation for accuracy and make changes to the translated text, if necessary. If you are unable to complete the review now, click the red 'x' at the top right of this panel. You can restart this task again later."),
a("div",{className:"unisubs-extra"},a("p",{},"Enter review notes here. ","They will be sent to all previous contributors ","and posted as a ",a("em",{},"public comment")," to the subtitles."),a("span",{className:"unisubs-spanarrow"})),a("label",{"class":"unisubs-review-notes-label","for":"unisubs-review-notes"},"Notes"),b],c,d):new lp(g,[a("p",{},"Review the video title and description."),a("p",{},"Once you've finished, you can either send the subtitles back to their creator for additional work, or accept them to be published."),
a("div",{className:"unisubs-extra"},a("p",{},"Enter review notes here. ","They will be sent to all previous contributors ","and posted as a ",a("em",{},"public comment")," to the subtitles."),a("span",{className:"unisubs-spanarrow"})),a("label",{"class":"unisubs-review-notes-label","for":"unisubs-review-notes"},"Notes"),b],c,d);return{bodyInput:b,helpContents:a,extraHelp:[]}}else if(b==2){g=f?"Approve subtitles":"Approve this translation";b=a("textarea",{"class":"unisubs-approve-notes",id:"unisubs-approve-notes",
name:"notes"});a=f?new lp(g,[a("p",{},"Play the video and review the subtitles for both accuracy and timing."),a("p",{},"To make changes, use the controls on each subtitle to add, edit, or delete lines or to change their timing. You can also use the keyboard shortcuts shown below."),a("p",{},"If you are unable to complete the review now, click the red 'x' at the top right of this panel. You can restart this task again later."),a("div",{className:"unisubs-extra"},a("p",{},"Enter review notes here. ",
"They will be sent to all previous contributors ","and posted as a ",a("em",{},"public comment")," to the subtitles."),a("span",{className:"unisubs-spanarrow"})),a("label",{"class":"unisubs-review-notes-label","for":"unisubs-review-notes"},"Notes"),b],c,d):new lp(g,[a("p",{},"Review the translation for accuracy and make changes to the translated text, if necessary. If you are unable to complete the review now, click the red 'x' at the top right of this panel. You can restart this task again later."),
a("div",{className:"unisubs-extra"},a("p",{},"Enter review notes here. ","They will be sent to all previous contributors ","and posted as a ",a("em",{},"public comment")," to the subtitles."),a("span",{className:"unisubs-spanarrow"})),a("label",{"class":"unisubs-review-notes-label","for":"unisubs-review-notes"},"Notes"),b],c,d);return{bodyInput:b,helpContents:a,extraHelp:[]}}return null};function op(a){this.B=a.language_code;this.Ke=a.language_pk;if(typeof this.B=="undefined")this.B=null;this.Jj=a.revision;if(typeof this.Jj=="undefined")this.Jj=null;this.Vv=!!a.start_playing;this.bn=a}op.prototype.B=null;op.prototype.Jj=null;op.prototype.bn=null;function pp(a,b){this.B=a.language_code;this.Ke=a.language_pk;this.ar=a.language_is_rtl;this.th=a.is_moderated;this.Hc=a.language_name;this.Nv=a.is_original;this.hd=a.is_complete;this.Qv=a.mode;this.gr=a.version;this.jd=a.subtitles||b;this.Tm=a.forked;this.Uq=a.base_language;this.Vq=a.base_language_code;this.Mv=a.is_latest;this.Ah=a.title;this.Aj=a.description;this.$m=a.metadata}function Un(a){return a?new pp(a):null}pp.prototype.td=function(){this.Tm=true;this.Vq=this.Uq=null};function qp(a,b,c){this.Wm=C(a,function(f){return new gn(f)});function d(f){return C(f,function(g){return g.toLowerCase()})}this.Ov=d(C(a,function(f){return f.language}));this.Rv=d(b);this.th=c};function rp(a,b,c,d,f,g,h){E.call(this);this.G=a;this.u=b;this.g=c;this.Y=d;this.Jb=f;this.oi=h;this.Pw=new Vg;g&&sp(this,g);this.Bt=new O(this);var j=this;this.Bt.c(this.Jb,tp.Ym,function(n){up(j,n.pj)}).c(this.Jb,tp.Oj,this.Hm);this.ah=null;this.El=false}y(rp,G);var Tn="languagechanged";rp.prototype.$u=function(){this.g.gj();this.Hm()};rp.prototype.Hm=function(){vp(this.Jb,null);this.Jb.ji();this.Y.bj(false);wp(this);Il(this.g,"");this.Da=null;this.Y.Tg(xp(this.Jb))};
function sp(a,b){a.El=false;wp(a);a.Da=b;a.ev=b.jd;b=new qo(b.jd);a.$g=Eo(b);a.fa=new Zo(a.g,b);a.Mi=new O(a);a.Mi.c(a.fa,"caption",a.nd).c(a.fa,"captionsfinished",a.Wh).c(a.g,Gl,a.Wh)}function up(a,b){Zk(Yk.na(),"Selects_language_from_widget_dropdown");a.Y.Ec();jk("fetch_subtitles",{video_id:a.G,language_pk:b.vc},function(c){a.Hm();c=Un(c);sp(a,c);a.Y.Tg(xp(a.Jb),c);vp(a.Jb,c);a.dispatchEvent(Tn)})}rp.prototype.im=aa("fk");rp.prototype.nd=function(a){this.fk(a.caption)};
rp.prototype.Wh=function(){if(!(this.El||this.oi)){this.Y.Jq(this.Da.B?"Improve this Translation":"Improve these Subtitles",w(this.ah.Ro,this.ah));this.Y.bj(true);this.El=true}};function wp(a){if(a.fa){a.fa.p();a.fa=null}if(a.Mi){a.Mi.p();a.Mi=null}}rp.prototype.m=function(){rp.e.m.call(this);wp(this)};function yp(a,b,c,d,f){this.G=a;this.N=b;this.Y=d;this.Jb=f;this.Nb=c;this.Nb.ah=this;this.qb=new O(this);this.Or=new zp(a,b,this.Nb.u,function(g){g?d.Ec():d.gj()},w(c.$u,c));ie(this.qb,this.Or,of,this.cv);a=tp;this.qb.c(f,a.wj,this.Ol).c(f,a.Dj,this.Ro).c(d.Ck(),"click",this.xv)}
yp.prototype.xv=function(a){a.preventDefault();a.stopPropagation();Zk(Yk.na(),"videoTabClicked");a=null;if(!Wj&&(q(tk)?q(tk.getItem):false))a=Ap();var b=this;q(a)&&q(Bp(a))&&a.G==this.G?(new Cp(a,function(c){c?Dp(b):Ep(b)})).w(true):Ep(this)};function Dp(a){a={videoID:a.G,videoURL:a.N,effectiveVideoURL:a.Nb.u.jb(),returnURL:window.location.href};var b=new T(Tj()+"/onsite_widget_resume/");U(b,"config",Mf(a));window.location.assign(b.toString())}function Ep(a){xp(a.Jb)?Fp(a.Jb):a.Lp()}
yp.prototype.Ro=function(){var a=this.Nb.Da.B;a=Tj()+"/subtitles/editor/"+this.G+"/"+a+"/";window.location.assign(a)};yp.prototype.Lp=function(){this.Ol(this.Nb.Da)};yp.prototype.Ol=function(){window.site.openModalDialog("#create-subtitles-modal")};yp.prototype.cv=function(a){a=a.target.Zr;var b=this.Nb.g;if(b.Va){b.bc(b.hj);b.hj=null}this.Y.Tg(xp(this.Jb),this.Nb.Da);vp(this.Jb,this.Nb.Da);a!=null&&Gp(this.Jb,a)};function zp(a,b,c,d,f){E.call(this);this.G=a;this.N=b;this.u=c;this.hp=d;this.vf=f}y(zp,G);zp.prototype.Wg=function(a){this.hp&&this.hp(a)};zp.prototype.openDialog=function(a,b){if(!Hp(this)){this.Wg(true);var c;(c=(c=Ap())&&c.sl(this.G,a)?c:null)&&Bp(c)?Ip(this,Bp(c),a,b):Jp(this,a,b)}};
function Jp(a,b,c){jk("start_editing",{video_id:a.G,language_code:b.B,subtitle_language_pk:b.Nf||null,base_language_code:b.Gf||null,original_language_code:b.Kf||null,mode:Lj||null},function(d){(new Kp(a.G,d.session_pk,b)).save();c&&c();Lp(a,d,false)})}
function Ip(a,b,c,d){jk("resume_editing",{session_pk:b.Mj},function(f){if(f.response=="ok"){f.subtitles.subtitles=b.vb.Vc();if(b.vb.title&&b.vb.title.length)f.subtitles.title=b.vb.title;if(b.vb.description&&b.vb.description.length)f.subtitles.description=b.vb.description;Lp(a,f,true,b.vb.ke)}else Jp(a,c,d)})}
zp.prototype.iq=function(a,b){if(!Hp(this)){var c=this;(new vn(this.G,b,function(d,f,g,h,j){d=new Mp(f,d,g,h);if(!Hp(c))if(Ij)c.openDialog(d,j);else{j={videoID:c.G,videoURL:c.N,effectiveVideoURL:a||c.N,languageCode:d.B,originalLanguageCode:d.Kf||null,subLanguagePK:d.Nf||null,baseLanguageCode:d.Gf||null};if(Wj)j.nullWidget=true;d=new T(Tj()+"/onsite_widget/");U(d,"config",Mf(j));window.location.assign(d.toString())}})).w(true)}};
function Hp(){if(q(tk)?q(tk.getItem):false)return false;else{alert("Sorry, you'll need to upgrade your browser to use the subtitling dialog.");return true}}function Np(a,b,c){a=new Op(b,c);Pp(0,a)}
function Lp(a,b,c,d){a.Wg(false);if(b.can_edit){var f=b.session_pk,g=Un(b.subtitles);d&&g.td();var h=Un(b.original_subtitles),j=g.jd,n=window.AmaraDFXPParser;if(b.original_subtitles&&(new n).init(j).getSubtitles().length===0)j=(new n).init(b.original_subtitles.subtitles).clone().xmlToString(true);d=new qo(j,g.hd,g.Ah,d,g.Aj,g.Hc,g.ar,g.th,g.Tm,g.$m);c||Np(a,f,d);c=new Qp(f,a.G,a.N,d);g=Lj=="review"?Rp(a,c,g,h,1):Lj=="approve"?Rp(a,c,g,h,2):b.original_subtitles?Sp(a,c,g,h):Tp(a,c,g,h);Dj=b.timing_mode;
g.uc(a);g.w(true)}else{if(b.error)alert("Something is wrong, we're looking right into it");else b.locked_by?alert((b.locked_by=="anonymous"?"Someone else":"The user "+b.locked_by)+" is currently editing these subtitles. Please wait and try again later."):alert(b.message);q(Ij)&&window.location.replace(Ij)}}function Rp(a,b,c,d,f){b=d?new Up(a,b,a.u,c,d,f):new Vp(a.u,b,c,false,false,f);a.vf&&a.vf();return b}function Tp(a,b,c,d){a.vf&&a.vf();return new Vp(a.u,b,c,a,d)}
function Sp(a,b,c,d){a.vf&&a.vf();return new Up(a,b,a.u,c,d)};function Mp(a,b,c,d){this.B=a;this.Kf=b;this.Nf=c;this.Gf=d}Mp.prototype.sl=function(a){return this.B==a.B&&this.Kf==a.Kf&&this.Nf==a.Nf&&this.Gf==a.Gf};Mp.prototype.Eq=function(){return{l:this.B,o:this.Kf,s:this.Nf,b:this.Gf}};function Wp(a,b,c,d){Q.call(this);this.G=a;this.yv=b;this.xa=c.Wm;this.oi=c.th;this.Y=d;this.Da=null;this.ej=false;this.dl=new O(this);this.$i=this.Zi=false}y(Wp,Q);var tp={wj:"add_language",Dj:"improve_subtitles",en:"subtitle_homepage",Rm:"download_subtitles",Qm:"create_account",Xm:"language_preferences",Oj:"subtitles_off",Ym:"language_selected",hn:"username",vh:"logout"};function xp(a){return zb(a.xa,function(b){return b.Vm})}Wp.prototype.$k=k("oi");
function Gp(a,b){a.xa=b.Wm;a.oi=b.th;Xp(a);Yp(a);vp(a,a.Da)}function vp(a,b){a.ij.className="";for(var c=0;c<a.ph.length;c++)a.ph[c].fp.className="";a.Da=b;Zp(a);jl(a.Tk,!!b);Pd(a.$f).href=$p(a)}
Wp.prototype.d=function(){Wp.e.d.call(this);var a=w(this.f().d,this.f());J(this.a(),"cleanslate","unisubs-dropdown");var b=a("div",{className:"unisubs-languageList"});b.appendChild(this.el=a("ul",null));this.ij=a("li",null,a("a",{href:"#"},"Subtitles Off"));this.av=a("span","unisubs-languageStatus");this.wc=a("div",{className:"unisubs-actions"});this.Ef=a("ul",null);this.rf=a("ul",null);this.Iq=a("h5","unisubs-uniLogo","Amara");this.pn=a("a",{href:"#"},"");this.on=a("li","unisubs-addTranslation",
this.pn);this.Tk=a("li","unisubs-improveSubtitles",a("a",{href:"#"},"Improve These Subtitles"));this.vm=a("li","unisubs-subtitleHomepage",a("a",{href:rk(this.G)},"Subtitle Homepage"));this.$f=a("li","unisubs-downloadSubtitles",a("a",{href:"#"},"Download Subtitles"));this.Dt=a("li","unisubs-moderated",a("p",null,"These subtitles are moderated. Visit the ",a("a",{href:qk(this.G)},"video page")," to contribute."));this.Sn=a("li","unisubs-createAccount",a("a",{href:"#"},"Login or Create Account"));this.bp=
a("li","unisubs-languagePreferences",a("a",{href:"#"},"Language Preferences"));this.Lm=a("li",null,a("a",{href:"#"},"USERNAME"));this.np=a("li",null,a("a",{href:"#"},"Logout"));this.xs=a("li",null,a("a",{href:rk(this.G)},"Get Embed Code"));this.wc.appendChild(this.Iq);this.wc.appendChild(a("h4",null,"THIS VIDEO"));this.wc.appendChild(this.Ef);this.wc.appendChild(a("h4",null,"MY SETTINGS"));this.wc.appendChild(this.rf);Xp(this);aq(this);this.a().appendChild(b);this.a().appendChild(this.wc)};
function Xp(a){var b=w(a.f().d,a.f());a.f().sc(a.el);M(a.pn,"Add New Subtitles");M(a.av,"("+a.Nw+" lines)");a.zk||L(a.el,a.ij);a.ph=[];for(var c=0;c<a.xa.length;c++){var d=a.xa[c];if(d.Vm){var f=b("a",{href:"#"},b("span","unisubs-languageTitle",Sj(d.B)),b("span","unisubs-languageStatus","("+(d.zh+" lines")+")")),g=b("li",null,f);a.ph.push({link:f,fp:g,pj:d});L(a.el,g)}}}
function $p(a){if(a.Da===null)return"#";a="/subtitles/"+a.G+"/"+a.Da.B+"/download/"+encodeURIComponent(a.yv+"."+a.Da.B)+".srt";var b=new T(Tj());Yh(b,a);return b.toString()}Wp.prototype.wl=function(a){w(this.f().d,this.f());this.Zi=a.can_translate;this.$i=a.can_subtitle;bq(this)};function cq(a){jk("can_user_edit_video",{video_id:a.G},w(a.wl,a))}function dq(a){Md(a.Ef,a.Dt,0)}function bq(a){a.$i&&Md(a.Ef,a.Tk,0);a.Zi&&Md(a.Ef,a.on,0);a.Zi||a.$i||dq(a)}
function aq(a){a.f().sc(a.Ef);a.f().sc(a.rf);if(a.$k())Gj!=null?dq(a):cq(a);else{a.Zi=true;a.$i=true;bq(a)}L(a.Ef,a.vm,a.xs,a.$f);if(Hj===null)a.rf.appendChild(a.Sn);else{M(Pd(a.Lm),Hj);a.rf.appendChild(a.Lm);a.rf.appendChild(a.np)}a.rf.appendChild(a.bp)}
Wp.prototype.i=function(){Wp.e.i.call(this);var a=tp;this.j().c(this.Iq,"click",function(){window.open("http://www.universalsubtitles.org")}).c(this.on,"click",w(this.Xc,this,a.wj)).c(this.Tk,"click",w(this.Xc,this,a.Dj)).c(this.vm,"click",w(this.Xc,this,a.en)).c(this.$f,"click",w(this.Xc,this,a.Rm)).c(this.Sn,"click",w(this.Xc,this,a.Qm)).c(this.bp,"click",w(this.Xc,this,a.Xm)).c(this.ij,"click",w(this.Xc,this,a.Oj)).c(this.Lm,"click",w(this.Xc,this,a.hn)).c(this.np,"click",w(this.Xc,this,a.vh)).c(Yj,
xc(Xj),this.tt).c(ae(this.f()),"mousedown",this.Gp,true);A&&this.j().c(ae(this.f()),"contextmenu",this.Gp,true);Yp(this)};function Yp(a){a.dl.Bc();B(a.ph,function(b){a.dl.c(b.link,"click",w(a.kt,a,b.pj))})}Wp.prototype.Gp=function(a){this.ej&&!Rd(this.a(),a.target)&&!Rd(this.Y.a(),a.target)&&this.ji()};
Wp.prototype.Xc=function(a,b){b.preventDefault();b.stopPropagation();b=tp;if(a==b.Qm)$j();else if(a==b.vh)mk();else if(a==b.hn)window.open(Tj()+"/profiles/mine");else if(a==b.Xm)window.open(Tj()+"/profiles/mine");else if(a==b.en)window.location.replace(Pd(this.vm).href);else if(a==b.Rm)window.open(Pd(this.$f).href);else if(a==b.wj||a==b.Dj||a==b.Oj)this.dispatchEvent(a);this.ji()};Wp.prototype.kt=function(a,b){b&&b.preventDefault();this.dispatchEvent(new eq(a));Pd(this.$f).href=$p(this)};
function Zp(a){if(a.Da){var b=Bb(a.ph,function(c){return c.pj.vc==a.Da.Ke});if(b)b.fp.className="unisubs-activeLanguage"}else a.ij.className="unisubs-activeLanguage"}function Fp(a){a.ej?a.ji():a.Yi()}Wp.prototype.ji=function(){jl(this.a(),false);this.ej=false};
Wp.prototype.Yi=function(){var a=this.Y.Ck(),b=this.a();kl(b,false);jl(b,true);var c,d=b.offsetParent;if(d){var f=d.tagName=="HTML"||d.tagName=="BODY";if(!f||Ce(d)!="static"){c=Ie(d);f||(c=rd(c,new qd(d.scrollLeft,d.scrollTop)))}}d=Ie(a);f=Ne(a);d=new ke(d.x,d.y,f.width,f.height);a=sd(a);var g=sd(b);if(a.ma!=g.ma){f=a.ma.body;g=g.ma.parentWindow||g.ma.defaultView;var h=new qd(0,0),j=Gd(ud(f)),n=f;do{var o=j==g?Ie(n):Le(n);h.x+=o.x;h.y+=o.y}while(j&&j!=g&&(n=j.frameElement)&&(j=j.parent));g=h;g=rd(g,
Ie(f));if(z&&!be(a))g=rd(g,ce(a));d.left+=g.x;d.top+=g.y}d=new qd(d.left,d.top+d.height);if(c)d=rd(d,c);c=d;c=c.xb();d=Ne(b);a=d.xb();De(b,c);(d==a?true:!d||!a?false:d.width==a.width&&d.height==a.height)||Me(b,a);bl(b);kl(b,true);this.ej=true};Wp.prototype.tt=function(){aq(this)};Wp.prototype.m=function(){Wp.e.m.call(this);this.dl.p()};function eq(a){this.type=tp.Ym;this.pj=a};function Kp(a,b,c){this.G=a;this.ad=b;this.Gi=c}Kp.prototype.sl=function(a,b){return a==this.G&&this.Gi.sl(b)};Kp.prototype.save=function(){var a=Mf({version:2,videoID:this.G,sessionPK:this.ad,openDialogArgs:this.Gi.Eq()});tk.setItem("_unisubs_editing",a)};function Bp(a){if(!a.cq){var b=fq(1);a.cq=b&&b.Mj==a.ad?b:null}return a.cq}function gq(){tk.removeItem("_unisubs_editing")}
function Ap(){var a=tk.getItem("_unisubs_editing");if(a){a=Lf(a);return q(a.version)&&a.version==2?new Kp(a.videoID,a.sessionPK,new Mp(a.openDialogArgs.l,a.openDialogArgs.o,a.openDialogArgs.s,a.openDialogArgs.b)):null}else return null};function Cp(a,b){R.call(this,"unisubs-modal-lang",true);qf(this,null);this.zb=true;this.Au=a;this.wb=b}y(Cp,R);
Cp.prototype.d=function(){Cp.e.d.call(this);var a=w(this.f().d,this.f()),b=this.ha(),c=Sj(this.Au.Gi.B);this.Jc=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"Cancel");this.Pa=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"OK");var d=a("div");V(d,"clear","both");d.innerHTML="&nbsp;";L(b,a("h3",null,"Resume editing?"),a("p",null,"You have saved "+c+" subtitles for this video. Would you like to resume editing those subtitles? Warning: clicking Cancel will erase your saved subs."),this.Jc,
this.Pa,d)};Cp.prototype.i=function(){Cp.e.i.call(this);this.j().c(this.Jc,"click",this.xr).c(this.Pa,"click",this.te)};Cp.prototype.xr=function(a){a.preventDefault();if(!this.Ap){gq();this.w(false);this.wb(false)}};Cp.prototype.te=function(a){a.preventDefault();if(!this.Ap){this.Ap=true;M(this.Pa,"Loading...");J(this.Pa,"unisubs-button-disabled");this.wb(true)}};function Op(a,b){this.Mj=a;this.vb=b}Op.prototype.hm=function(){return Mf({version:1,sessionPK:this.Mj,title:this.vb.title,description:this.vb.description,isComplete:this.vb.Kc,forked:this.vb.ke,dfxp:this.vb.Vc()})};function hq(a){a=Lf(a);return q(a.version)&&a.version==1?new Op(a.sessionPK,new qo(a.dfxp,a.isComplete,a.title,a.forked,a.description)):null}function Pp(a,b){a="_unisubs_work"+a;b=b.hm();tk.setItem(a,b)}function fq(a){return(a=tk.getItem("_unisubs_work"+a))?hq(a):null};function Sn(a,b,c,d){E.call(this);this.N=a;this.g=b;this.Y=c;this.zk=!!d}y(Sn,G);Sn.prototype.im=aa("fk");
function Vn(a,b){iq(b);var c=b.video_id;c&&a.Y.Un(new T(rk(c)),false);var d=new qp(b.drop_down_contents,b.my_languages,b.is_moderated),f=Un(b.subtitles);d=new Wp(c,b.filename,d,a.Y);d.zk=a.zk;a.Y.Tg(xp(d),f);d.ze();jl(d.a(),false);vp(d,f);d.dispatchEvent(new eq(null));a.Nb=new rp(c,a.g.u,a.g,a.Y,d,f,b.is_moderated);a.Nb.uc(a);var g=a.g;a.Nb.im(a.fk||function(h){Il(g,h?ao(h):"")});a.ah=new yp(c,a.N,a.Nb,a.Y,d)}
function iq(a){if(a.username)Hj=a.username;Mj=a.embed_version;Oj=a.writelock_expiration;Nj=a.languages;Pj=a.metadata_languages;function b(c,d){return c[1]>d[1]?1:c[1]<d[1]?-1:0}Pb(Nj,b);Pb(Pj,b)};function jq(a){Q.call(this);this.N=a.video_url;this.Dh=a.alternate_video_urls;this.ss=!!a.force_format;this.r=a.video_config;this.sq=a.streamer;this.dv=!!a.subtitle_immediately;this.rv=!!a.translate_immediately;if(a=a.base_state)this.An=new op(a);kq.push(this)}y(jq,Q);jq.prototype.d=function(){this.q=this.f().createElement("span");lq(this,this.a())};var kq=[];jq.prototype.V=function(a){jq.e.V.call(this,a);lq(this,a)};
function mq(a){if(a.Dh&&a.Dh.length>0){var b=a.N;if(a.r)b={url:a.N,config:a.r};return lm(Ib(b,a.Dh))}else return mm(a.N,a.r)}
function lq(a,b){try{a.u=mq(a)}catch(c){b.innerHTML=c.message;return}a.Oq=a.f().d("div","unisubs-videoLoading","Loading...");b.appendChild(a.Oq);if(a.sq){a.rm=new En;b=new Q;a.D(b,true);b.D(a.rm,true)}else{a.Y=new Wn;b=new Q;a.D(b,true);b.D(a.Y,true);b.a().className="unisubs-videoTab-container";a.Y.Ec()}b={video_url:a.N,is_remote:pk()};if(a.An)b.base_state=a.An.bn;jk("show_widget",b,w(a.$s,a),w(a.Pu,a));b=Yk.na();var d=window.location.href;a=a.u.jb();$k(b);window._gaq.push([b.Hj+"._trackEvent","Widget displayed",
d,a,undefined])}jq.prototype.Pu=function(){this.ss||q(this.Dh)||!(this.u instanceof nm)||document.createElement("video");this.Y&&this.Y.Ug()};jq.prototype.$s=function(a){Nd(this.Oq);if(a&&!a.error_msg){var b=lm(a.video_urls);ga(b)==ga(this.u)&&this.r&&b.Md(this.r);this.u=b;b=this.u.Zb();if(q(b.Bs)){this.g=b.g;this.Le(b,0,true)}else{this.g=b;this.Le(this.g,0,true)}nq(this)}this.sq?oq(this,a):pq(this,a)};
function pq(a,b){if(!b||b.error_msg)a.Y.Ug(b&&b.error_msg);else{a.Rn=new Sn(a.N,a.g,a.Y);var c=a.Rn;try{Vn(c,b)}catch(d){c.Y.Ug()}b=a.Rn.ah;if(a.dv)ed(w(b.Lp,b));else a.rv&&ed(w(subController_.Ol,subController_))}}function oq(a,b){var c=Un(b.subtitles);Jn(a.rm,c.jd);Rn(a.g,a.rm,b)}jq.prototype.i=function(){jq.e.i.call(this);nq(this)};function nq(a){if(a.aa&&a.g)a.g.tk?a.Nq():a.j().c(a.g,Dl,a.Nq)}jq.prototype.Nq=function(){el(this.a(),Math.round(this.g.Ua().width))};jq.prototype.Ha=function(){this.g.Ha()};
jq.prototype.pause=function(){this.g.pause()};function oo(){this.Gm=null}ea(oo);oo.prototype.start=function(a){this.Gm=a;this.as={};this.mr={};this.Fl=this.Gl=0};function qq(a,b,c){b+="";if(b in c)return false;else return c[b]=true}function yo(a,b){if(qq(a,b,a.mr)){a.Fl++;if(a.Fl==1||a.Fl%5==0)Zk(Yk.na(),a.Gm?"Translates_a_line":"Creates_a_subtitle")}}function no(a,b){if(qq(a,b,a.as)){a.Gl++;if(a.Gl==1||a.Gl%5==0)Zk(Yk.na(),a.Gm?"Edits_a_line_of_translation":"Edits_a_subtitle")}};function rq(a){for(var b=new pj,c=0;c<a.length;c++){var d=a[c];b.append(c+1).append("\n");sq(d.start_time,b);b.append(" --\> ");sq(d.end_time,b);b.append("\n");b.append(d.text).append("\n\n")}return b.toString()}function sq(a,b){a=parseInt(a);if(a==-1||!q(a))b.append("99:59:59,000");else{var c=Math.floor(a/1E3),d=~~(c%3600/60);a=a%1E3;var f=c%60;b.append(Ia(~~(c/3600),2)).append(":").append(Ia(d,2)).append(":").append(Ia(f,2)).append(",").append(Ia(a,3))}};function Yo(a){R.call(this,null,true);qf(this,null);this.zb=true;this.wb=a;this.tq=false}y(Yo,R);
Yo.prototype.d=function(){Yo.e.d.call(this);var a=w(this.f().d,this.f()),b=this.a();b.className="unisubs-warning";var c,d,f,g;if(Lj==="review"||Lj==="approve"){c="Discard changes and exit";d="";f="Really exit?";g="If you exit now, your notes will be discarded and all changes will be lost."}else{c="Discard";d="Submit subtitles";f="Submit subtitles?";g="Do you want to save your work for others to build on? If you were messing around or testing, please discard."}b.appendChild(a("h2",null,f));b.appendChild(a("p",
null,g));this.bo=a("a",{className:"unisubs-link",href:"#"},c);this.sm=a("a",{className:"unisubs-link",href:"#"},d);this.ek=a("a",{className:"unisubs-link",href:"#"},"Cancel");b.appendChild(a("div","unisubs-buttons",this.ek,this.bo,this.sm))};Yo.prototype.i=function(){Yo.e.i.call(this);this.j().c(this.ek,"click",this.$b).c(this.bo,"click",this.$b).c(this.sm,"click",this.$b)};Yo.prototype.$b=function(a){a.preventDefault();this.tq=a.target==this.sm;this.wr=a.target==this.ek;this.w(false)};
Yo.prototype.w=function(a){if(this.wr){Yo.e.w.call(this,a);return false}a||this.wb(this.tq);Yo.e.w.call(this,a)};function Vo(a){R.call(this,"unisubs-modal-completed",true);qf(this,null);this.zb=true;this.yk=a}y(Vo,R);
Vo.prototype.d=function(){Vo.e.d.call(this);var a=w(this.f().d,this.f());this.a().appendChild(a("h3",null,"You haven't entered any subtitles!"));this.a().appendChild(a("div",null,a("p",null,"You can go back and continue working on these subtitles, or you can just exit without saving.")));this.yn=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"Back to subtitling!");this.al=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"Just exit");this.a().appendChild(this.yn);this.a().appendChild(this.al);
a=a("div");V(a,"clear","both");a.innerHTML="&nbsp;";this.a().appendChild(a)};Vo.prototype.i=function(){Vo.e.i.call(this);this.j().c(this.al,"click",this.$b).c(this.yn,"click",this.$b)};Vo.prototype.$b=function(a){a.preventDefault();this.w(false);a.target==this.al?this.yk():this.w(false)};function Xo(a,b,c,d){R.call(this,"unisubs-modal-completed",true);qf(this,null);this.zb=true;this.In=d;this.Pn=c;this.title=a;this.message=b}y(Xo,R);
Xo.prototype.d=function(){Xo.e.d.call(this);var a=w(this.f().d,this.f());this.a().appendChild(a("h3",null,this.title));this.a().appendChild(a("div",null,a("p",null,this.message)));this.jk=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"Ok");this.Hn=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"Cancel");this.a().appendChild(this.Hn);this.a().appendChild(this.jk);a=a("div");V(a,"clear","both");a.innerHTML="&nbsp;";this.a().appendChild(a)};
Xo.prototype.i=function(){Xo.e.i.call(this);this.j().c(this.jk,"click",this.$b).c(this.Hn,"click",this.$b)};Xo.prototype.$b=function(a){a.preventDefault();this.w(false);if(a.target==this.jk)this.Pn&&this.Pn();else this.In&&this.In()};function No(a,b){R.call(this,"unisubs-modal-lang",true);qf(this,null);this.zb=true;this.Ph=false;this.n=a;this.Qe=b;this.Si=new H(1E3);this.Si.start();this.fm=0}y(No,R);m=No.prototype;
m.d=function(){No.e.d.call(this);var a=w(this.f().d,this.f());this.zm=a("span","remaining-seconds","120");this.Ma=a("div",null);this.Xj=sk(a,"Nope! Get me back to subtitling","unisubs-green-button unisubs-big");this.io=sk(a,"download your subtitles","inline-download-subs");this.Hq=sk(a,"Try to Resume Work","unisubs-green-button unisubs-big");L(this.ha(),a("h3",null,"Warning: Idle"),this.Ma);this.Sf=a("div");V(this.Sf,"clear","both");this.Sf.innerHTML="&nbsp;";this.n.k.$k?L(this.Ma,a("p",null,"Warning: you've been idle for more than 15 minutes. To ensure your work is not lost, we will save this draft and close your session in "+
this.zm," seconds."),this.Xj,this.Sf):L(this.Ma,a("p",null,"Warning: you've been idle for more than 15 minutes.  To give other users a chance to help, we will close your session in ",this.zm," seconds."),this.Xj,this.Sf)};m.i=function(){No.e.i.call(this);this.j().c(this.Xj,"click",this.sr).c(this.io,"click",this.Yr).c(this.Hq,"click",this.sv).c(this.Si,I,this.jh)};
m.jh=function(){this.fm++;if(this.fm>=120){this.Si.stop();this.Ph=true;this.n.ea.stop();jk("release_lock",{session_pk:this.n.ad});var a=w(this.f().d,this.f());Ld(this.Ma);L(this.Ma,a("p",null,"We've closed your subtitling session so that other users can work on this video."),a("p",null,"If there was work you didn't want to lose, you can ",this.io,"."),this.Hq,this.Sf)}else M(this.zm,120-this.fm+"")};m.sr=function(a){a.preventDefault();this.w(false)};m.Yr=function(a){a.preventDefault();kp(this.Qe)};
m.sv=function(a){a.preventDefault();var b=this;jk("regain_lock",{session_pk:this.n.ad},function(c){if(c.response=="ok"){alert("You have successfully resumed editing.");b.n.ea.start();b.Ph=false;b.w(false)}else{b.Ph=true;alert("Sorry, someone else has started subtitling.")}},function(){alert("We had a hard time contacting the server. Are you sure you're connected?")})};m.m=function(){No.e.m.call(this);this.Si.p()};function tq(a,b,c){R.call(this,"unisubs-modal-lang",true);qf(this,null);this.zb=true;this.k=a;this.Ee=b;this.$l=c}y(tq,R);function uq(a,b,c){a=new tq(a,b,c);a.w(true);return a}function vq(a,b){if(b){a.removeChild(a.Kg,true);a.Kg=new wq(a.k);a.D(a.Kg,true)}else{a=a.Kg;Ld(a.Qi);a.Oi.innerHTML="Try again.";L(a.Qi,document.createTextNode("Okay, that didn't work. "),a.Oi)}}tq.prototype.d=function(){tq.e.d.call(this);this.Kg=this.Ee?new wq(this.k):new xq(this.k,this.$l);this.D(this.Kg,true)};function wq(a){Q.call(this);this.k=a}y(wq,Q);wq.prototype.d=function(){wq.e.d.call(this);var a=w(this.f().d,this.f());this.ho=a("a",{href:"#"},"Download your subtitles to save your work.");this.lw=a("a",{href:"#"},"Send error report.");L(this.a(),a("p",null,"We failed to save your subtitles. Don't worry, your work is not lost. You can save it now on your computer and upload it to the server any time later."),a("p",null,this.ho))};
wq.prototype.i=function(){wq.e.i.call(this);this.j().c(this.ho,"click",this.Xr)};wq.prototype.Xr=function(a){a.preventDefault();kp(this.k.Vc())};function xq(a,b){Q.call(this);this.k=a;this.$l=b}y(xq,Q);
xq.prototype.d=function(){xq.e.d.call(this);var a=w(this.f().d,this.f());this.Oi=a("a",{href:"#"},"Try saving your subtitles again");this.ie=a("a",{href:"#"},"Download your subtitles to your computer");this.Aw=a("a",{href:"#"},"subtitling log");this.Qi=a("p",null,this.Oi);L(this.a(),a("p",null,"We failed to save your subtitles. Don't worry, your work is not lost. We're not totally sure, but it looks like your network connection is not great."),this.Qi,a("p",null,this.ie))};
xq.prototype.i=function(){xq.e.i.call(this);this.j().c(this.Oi,"click",this.Cu).c(this.ie,"click",this.wk)};xq.prototype.Cu=function(a){a.preventDefault();this.Qi.innerHTML="Saving...";this.$l()};xq.prototype.wk=function(a){a.preventDefault();kp(this.k.Vc())};function yq(a,b,c){R.call(this,"unisubs-modal-lang",true);qf(this,null);this.zb=true;this.Ss=a;if(b)this.Qe=b;if(c)this.it=c}y(yq,R);
yq.prototype.d=function(){yq.e.d.call(this);var a=w(this.f().d,this.f());this.xf=a("textarea",{"class":"copy-dialog",value:this.Qe});this.wm=a("select","copy-dialog-select",a("option",{value:"dfxp"},"DFXP"),a("option",{value:"srt"},"SRT"),a("option",{value:"ssa"},"SSA"),a("option",{value:"sbv"},"SBV"));this.j().c(this.wm,"change",this.fv);L(this.ha(),a("p",null,this.Ss),this.wm,this.xf)};yq.prototype.fv=function(a){a.preventDefault();zq(this,this.wm.value)};
function zq(a,b){if(b==="dfxp")tg(a.xf,a.Qe);else{tg(a.xf,"Processing...");var c=a.xf;Hh("/widget/convert_subtitles/",function(d){if(Rh(d.target))d=Th(d.target).errors?"Something went wrong, we're terribly sorry.":Th(d.target).result;else{d="There was an error processing your request. Below are your subtitles in DFXP format. Please copy them (not including this message) and you may upload them later.\n\n";d+=a.Qe}tg(c,d)},"POST",xk({subtitles:a.Qe,format:b,language_code:a.it}),null,null)}}
yq.prototype.i=function(){yq.e.i.call(this);this.j().c(this.xf,["focus","click"],this.qs)};yq.prototype.qs=function(){var a=this.xf;ed(function(){a.select()})};function kp(a,b){(new yq("Copy/paste these subtitles into a text editor and save. Use the dropdown to choose a format (make sure the file extension matches the format you choose). You'll be able to upload the subtitles to your video later.",a,b)).w(true)};function Aq(a,b,c,d,f,g,h,j){Q.call(this);this.ka=a;this.M=j;this.g=b;this.n=c;this.fa=d;this.Ql=f;if(!h&&g){this.ib=2;this.kb=4;this.ff="Next Step: Check your work"}else{this.kb=2;this.ib=1;this.ff="Submit final translation"}this.Ze=g;this.A=h}y(Aq,Q);m=Aq.prototype;
m.d=function(){Aq.e.d.call(this);var a=w(this.f().d,this.f());w(this.f().createTextNode,this.f());this.a().appendChild(this.Ne=a("div"));var b;a=originalDescription="";b={};if(!this.Ze){b=this.Ql?this.Ql:this.ka;a=b.Ah?b.Ah:" no title ";originalDescription=b.Aj?b.Aj:" no description";b=b.$m}var c=this.ka.title?this.ka.title:"",d=this.ka.description?this.ka.description:"";this.Af=new Bq(a,this.ka);this.ao=new Cq(originalDescription,this.ka);this.q=this.f().d("ul","unisubs-titlesList");this.D(this.Af,
true);this.D(this.ao,true);this.ao.qf(d);this.Af.qf(c);for(name in this.ka.Jd){a=new Dq.Sv(b[name]?b[name]:"",this.ka,name);this.D(a,true);this.ka.Jd&&this.ka.Jd[name]&&a.qf(this.ka.Jd[name])}if(!this.Ze){if(this.M.A){if(this.M.gd)this.zn=this.M.gd.Rd.k}else this.zn=new qo(this.M.gd.Rd.Ig);if(this.M.gd)this.fa=new Zo(this.M.g,this.zn)}};m.kg=function(){if(!this.L)this.L=this.Vf();return this.L};m.m=function(){Aq.e.m.call(this);this.L&&this.L.p()};m.bh=aa("Uc");
m.Vf=function(){var a=w(this.f().d,this.f()),b=np(a,this.A,this.kb,this.ib,!Boolean(this.Ql));if(b)this.Ka=b.bodyInput;else b={helpContents:new lp("Edit Title & Description",[a("p",{},"Please take a moment to update the "+this.ka.fl+" title and description for these subtitles.")],this.kb,this.ib),extraHelp:[]};return new Eq(this.M,this.n,b.helpContents,b.extraHelp,[],false,"Done?",this.ff,this.A,this.Ka,this.Ze)};m.Rc=function(){if(this.Ka)return this.Ka.value;return null};
m.Ld=function(a){if(this.Ka){this.Ka.value=a;return true}return null};function Eq(a,b,c,d,f,g,h,j,n,o,t){cp.call(this,b,c,d,f,g,h,j);this.cj=true;this.nm=!n;this.vw=c;this.M=a;this.A=n;this.Ze=t;this.Cl=o}y(Eq,cp);
Eq.prototype.vn=function(a,b){var c=a("div","unisubs-help-heading");b.appendChild(c);c.appendChild(a("h2",null,this.Ab.Mo));if(this.Ab.Ai){for(var d=a("ul",null,a("span",null,"Steps")),f=0;f<this.Ab.Ai;f++){var g={href:"#"};if(f==this.Ab.nn)g.className="unisubs-activestep";g=a("a",g,f+1+"");this.j().c(g,"click",qa(function(h,j){j.preventDefault()},f));d.appendChild(a("li",null,g))}c.appendChild(d)}if(this.Ab.pg){c=a("div");c.innerHTML=this.Ab.pg;b.appendChild(c)}else B(this.Ab.Pp,function(h){b.appendChild(a("p",
null,h))})};Eq.prototype.Kb=function(a,b,c){a&&a.preventDefault();var d=this.M,f=this,g=this.A==2?"approve":"review";function h(o){Fq(o,function(){d.Fg(true)},g)}function j(o){if(d.cb)vq(d.cb,o);else d.cb=uq(f.n.k,o,w(d.lf,d,false))}function n(o){this.n.k.Kc=o;this.n.Kb(h,j,null,c)}Gq(this.n,sg(this.Cl));this.n.wf=b;b==20&&this.Ze?Hq(true,w(n,this)):this.n.Kb(h,j,null,c)};
Eq.prototype.Sj=function(a,b){if(this.A){this.mf=a("a",{"class":"unisubs-done widget-button"},"Send Back");this.be=a("a",{"class":"unisubs-done widget-button"},this.A==2?"Approve":"Accept");var c=this.j();if(this.n.k.se()||this.n.k.x.needsAnyTranscribed()){this.Ot=a("p",{},a("div",{"class":"unisubs-needs-sync unisubs-extra"},a("p",{},"The draft has unsynced / untranslated lines and cannot be approved / accepted. You can complete it or send back."),a("span",{"class":"unisubs-spanarrow"},"")));this.be.style.opacity=
"0.3";b.appendChild(this.Ot);b.appendChild(this.mf);b.appendChild(this.be)}else{b.appendChild(this.mf);b.appendChild(this.be);c.c(this.be,"click",function(f){d.Kb(f,20,false)})}var d=this;c.c(this.mf,"click",function(f){d.Kb(f,30,false)})}};function Vp(a,b,c,d,f,g){Y.call(this,a);oo.na().start(false);this.n=b;this.Gg=d;this.Ru=!!f;this.k=this.n.k;this.fa=new Zo(this.g,this.k);this.n=b;this.n.oc();this.Cc=false;this.bm=this.la=this.t=null;this.Kd=new O(this);this.he=true;this.Pc=null;this.ka=c;this.Uc=this.$d=false;this.A=g;this.Cg=false;if(!Boolean(this.A))this.Cg=true}y(Vp,Y);var $={kd:0,Gb:1,Ub:2,fc:3,Sm:4};Vp.prototype.nd=function(a){a=(a=a.caption)?this.k.x.content(a.ba||a):"";Il(this.g,a)};
Vp.prototype.d=function(){Vp.e.d.call(this);var a=0;if(this.A)a=1;this.eg(a)};function Iq(a){jp(a.L,function(){return a.Vc()})}Vp.prototype.i=function(){Vp.e.i.call(this);Lo=false;var a=ae(this.f());this.j().c(a,"keydown",this.mg,true).c(a,"keyup",this.ng).c(this.fa,"caption",this.nd);if(this.A&&!this.Cg){a=this.n.so;var b=this;if(this.A==2)a=this.n.qo;a.call(this.n,Ej,function(c){b.Ml(c)})}};
function Jq(a,b){var c=C(["transcribe","sync","review","finished"],function(f){return"unisubs-modal-widget-"+f+(b||"")}),d="";if(a.t==$.kd)d=c[0];else if(a.t==$.Gb)d=c[1];else if(a.t==$.fc)d=c[2];else if(a.t==$.Sm)d=c[3];Gb(c,d);od(a.ha(),c,d)}m=Vp.prototype;
m.bd=function(a){this.t=a;this.dh(false);Jq(this);var b=this.rl(),c=this.Qf;c.sc(true);c.D(b,true);c=b.kg();Ro(this,c);this.gh.sc(true);var d=this.Rc(this.la);d&&this.Ld(b,d);this.Rh();this.la=b;this.Kd.c(c,Z.uh,this.ei).c(c,Z.Cj,this.Jk).c(c,Z.Lj,this.Jo).c(c,Z.Kj,this.Ok).c(c,Z.Um,this.Io);b=null;if(a==$.Ub)b="Back to Sync";else if(a==$.Gb&&!this.A)b="Back to Typing";else if(a==$.fc)b="Back to Edit Info";if(b){dp(c,b);this.Kd.c(c,Z.yj,this.Eo)}if(a==$.Gb||a==$.fc){this.Fe=new Kq(this.k,this.g);
this.gh.D(new Lq(1,this.Fe,this.g,false),true)}a==$.fc&&Iq(this);a=this.g;if(this.aa){a.pause();a.U(0)}};m.dh=function(a){this.Uc=a;this.la&&this.la.bh(a)};m.Io=function(a){this.bd(a.Mw)};m.mg=function(a){if(!this.Uc)if(a.keyCode==9){if(a.shiftKey){Mq(this);fp(this.L,a.keyCode,1,true)}else{Nq(this);fp(this.L,a.keyCode,0,true)}a.preventDefault()}};m.ng=function(a){if(a.keyCode==9){var b=0;if(a.shiftKey)b=1;fp(this.L,a.keyCode,b,false)}else a.keyCode==16&&fp(this.L,9,1,false)};
m.Eo=function(){if(this.t==$.Gb)this.bd($.kd);else if(this.t==$.fc)this.bd($.Ub);else this.t==$.Ub&&this.bd($.Gb)};m.ei=function(a){if(a.keyCode==9&&a.cl=="click")a.ef==1?Mq(this):Nq(this)};m.Jo=function(){if(this.he){this.Pc="/subtitles/editor/"+this.n.G+"/"+this.ka.B+"/?from-old-editor=true";So(this,false,true)}};m.Ok=function(){this.he&&So(this,false,true)};
m.Jk=function(){if(this.he)if(this.t==3){if(this.k.F.length===0&&!Fo(this.F)){alert("You must create captions in order to submit.");return false}else{if(this.k.se()){alert("You have unsynced captions. Please make sure that all lines, including the last one, have start and end time set properly before submitting subtitles. HINT: Use the up arrow to set a caption's end time");return false}if(this.k.F[this.k.F.length-1].O()==-1){var a=this.k.F[this.k.F.length-1],b;b=this.g.K()?Math.min(this.g.K()*1E3,
a.H()+4E3):a.H()+4E3;Zn(a,b)}}So(this,false,false)}else this.eg(Oq(this))};m.ug=function(){if(this.A)if(this.Rc(this.la)!=="")return this.Cc;return this.Cc||!(uo(this.n.k)>0)};
m.lf=function(a,b){if(!this.$d){this.$d=true;var c=this.Rc(this.la);c!==""&&Gq(this.n,c);if(Cb(vo(this.n.k))&&!Fo(this.k)&&this.Pc){this.Cc=true;window.location=this.Pc}else if(this.k.se())this.am(a,b,false);else if(Cb(vo(this.n.k))&&!this.Ak){this.$d=false;Fo(this.k)?Wo(this,a,b):Uo(this)}else Hq(!!this.ka.hd,w(this.am,this,a,b))}};
m.Fg=function(a){this.Cc=true;gq();if(this.cb){this.cb.w(false);this.cb=null}if(a)this.w(false);else{this.he=true;this.Ru&&this.w(false);if(pk()){this.t=4;Jq(this);a=new Pq(this.n);Ro(this,a);this.gh.sc(true);this.Qf.sc(true);a=this.Fn;var b=new Qq(this,this.n.xd());a.D(b,true);a=this.g;if(this.aa){a.pause();a.U(0)}}else if(this.Pc)window.location=this.Pc;else window.location.assign(this.n.xd()+"?saved=true")}};
m.am=function(a,b,c){this.he=false;this.L.Ec(true);this.k.Kc=c;var d=this;this.n.Kb(function(f){Fq(f,function(){d.Fg(a,c)})},function(f){if(d.cb)vq(d.cb,f);else d.cb=uq(d.k,f,w(d.am,d,a,b,c))},function(){d.he=true;d.L.Ec(false)},b)};m.eg=function(a){var b=ul("skiphowto");!this.A&&!b?Rq(this,a):this.Vg(a)};
m.Vg=function(a){if(ul("skipguidelines"))this.bd(a);else{var b=this.A?Jj[this.A==2?"approval":"review"]:Jj.subtitle,c=$.kd;if(this.A)c=$.Gb;if(a!==c||!b)this.bd(a);else{this.dh(true);this.g.pause();b=new Ko(b);Po(this,b);this.uk=true;var d=this;ie(this.j(),b,"continue",function(){ed(function(){d.uk=false;Qo(d);d.bd(a)})})}}};
function Rq(a,b){a.dh(true);a.g.pause();var c;if(b==$.kd)c=Io.kd;else if(b==$.Gb)c=Io.Gb;else if(b==$.fc)c=Io.fc;if(c){c=new Ho(c);Po(a,c);a.Rr=true;ie(a.j(),c,"continue",function(){ed(function(){a.Rr=false;Qo(a);a.Vg(b)})})}else a.Vg(b)}function Mq(a){a=a.g;var b=a.ia();a.U(Math.max(b-4,0));a.Ha()}function Nq(a){Cl(a.g)}
Vp.prototype.rl=function(){var a=this.fa;a.yb=-1;a.gl=null;$o(a,null,null,true);if(this.t==$.kd)return new Sq(this.k,this.g,this.n,this.A);else if(this.t==$.Gb)return new Tq(this.k,this.g,this.n,this.fa,this.A);else if(this.t==$.fc)return new Uq(this.k,this.g,this.n,this.fa,this.A,this);else if(this.t==$.Ub)return new Aq(this.k,this.g,this.n,this.fa,null,true,this.A,this)};
function Oq(a){if(a.A){if(a.t==$.Gb)return $.Ub}else if(a.t==$.kd)return $.Gb;else if(a.t==$.Ub){if(!a.tg)return $.fc}else if(a.t==$.Gb)return $.Ub;else if(a.t==$.fc)return $.Sm}Vp.prototype.Rh=function(){if(this.la){this.la.p();this.la=null}this.Kd.Bc();if(this.Fe){this.Fe.p();this.Fe=null}};Vp.prototype.m=function(){Vp.e.m.call(this);this.Rh();this.fa&&this.fa.p();this.n.p();this.Kd.p();this.k&&this.k.p()};
function Vq(a){Zk(Yk.na(),"Adding_translations_on_close");var b=Ij;Ij=null;a.w(false);Ij=b;a.Gg&&Qn.Gv.Yi(true,function(c){a.Gg.openDialog(null,c,null,Rj(c))})}m=Vp.prototype;m.Ml=function(a){this.Ld(this.la,a)};m.Ld=function(a,b){if(a&&a.Ka){a.Ka.value=b;this.bm=null}else this.bm=b};m.Rc=function(a){return a&&a.Ka?a.Ka.value:this.bm};m.ai=k("n");m.Vc=function(){return this.fa.x.xmlToString(true,true)};function Qp(a,b,c,d){E.call(this);this.ad=a;this.G=b;this.N=c;this.k=d;this.Wh=this.To=false;this.Cq=0;this.ea=new H((Oj-5)*1E3);F(this.ea,I,w(this.jh,this));Wq=this;this.xm=this.wf=this.xq=this.jj=null;window.Lw=this}y(Qp,E);var Wq=null;Qp.prototype.oc=function(){if(!this.To){this.To=true;this.ea.start()}};
Qp.prototype.jh=function(){jk("regain_lock",{session_pk:this.ad},function(a){a.response!="ok"&&alert("You lost the lock on these subtitles. This probably happened because your network connection disappeared for too long.")},e());this.Cq++;this.Cq%4==0&&Xq(this)};function Xq(a){a=new Op(a.ad,a.k);Pp(1,a)}Qp.prototype.td=function(a){this.k.td(a);Xq(this)};
function Yq(a){var b=fq(0).vb,c=null;if(uo(a.k)>0||a.k.ke)c=vo(a.k);var d={session_pk:a.ad},f=false;if(c!==null){d.subtitles=a.k.x.xmlToString(true,true);f=true}if(q(a.k.title)&&a.k.title!=b.title){d.new_title=a.k.title;f=true}if(q(a.k.description)&&a.k.description!=b.description){d.new_description=a.k.description;f=true}c={};for(key in a.k.Jd){var g=a.k.Jd[key],h=b.Jd[key];if(q(g)&&g!=h)c[key]=g}if(c)d.new_metadata=c;if(q(a.k.Kc)&&a.k.Kc!=b.Kc){d.completed=a.k.Kc;f=true}if(a.k.ke)f=d.forked=true;
if(window.UNISUBS_THROW_EXCEPTION)d.throw_exception=true;d.task_id=a.jj;d.task_notes=a.xq;if(a.wf!=undefined)f=true;if(!a.wf&&a.jj)a.wf=10;d.task_approved=a.wf;d.task_type=a.xm;return f?d:null}Qp.prototype.Kb=function(a,b,c,d){Xq(this);this.ea.stop();var f=this;c=Yq(this);c.save_for_later=d;c===null?a("Saved"):jk("finished_subtitles",c,function(g){if(g.response!="ok"){alert("Problem saving subtitles. Response: "+g.response);b(200)}else{f.Wh=true;a(g.user_message)}},function(g){b(g)},true)};
Qp.prototype.so=function(a,b){var c=this;jk("fetch_review_data",{task_id:a},function(d){if(d.response!="ok"){alert("Problem fetching review data. Response: "+d.response);failureCallback(200)}else{c.jj=a;c.xm="review";b(d.body)}},function(d){failureCallback(d)},true)};
Qp.prototype.qo=function(a,b){var c=this;jk("fetch_approve_data",{task_id:a},function(d){if(d.response!="ok"){alert("Problem fetching approval data. Response: "+d.response);failureCallback(200)}else{c.jj=a;c.xm="approve";b(d.body)}},function(d){failureCallback(d)},true)};function Gq(a,b){a.xq=b}m=Qp.prototype;m.zo=function(){return['<script type="text/javascript" src="',Uj(),"embed",Mj,'.js">\n({\n   video_url: "',this.N,'"\n})\n<\/script>'].join("")};
m.m=function(){Qp.e.m.call(this);this.ea.stop();this.ea.p()};m.Xn=function(){return Hj};m.kp=function(){$j()};m.xd=function(){return qk(this.G)};function Zq(a,b,c,d,f,g){Q.call(this);this.wa=a;this.Qa=b;this.bs=c;this.Qh=d;this.fh=this.Oa=null;this.Ca=f;this.kw=g;this.Uo=false}var $q;y(Zq,Q);m=Zq.prototype;m.ha=k("Hb");
m.d=function(){var a=w(this.f().d,this.f());if(this.Ca){this.q=a("li",null,this.Hb,this.zf=a("span",{className:"unisubs-title"},this.nj=a("span")));this.Hb=a("span","unisubs-timestamp")}else{this.Oh=a("div","unisubs-sub-delete"," ");this.ni=a("div","unisubs-sub-insert"," ");this.hf=a("div","unisubs-sub-paragraph"," ");ar(this);P(this.Oh,false);P(this.ni,false);P(this.hf,false);this.Hb=a("span","unisubs-timestamp");this.q=a("li",null,this.Hb,this.zf=a("span",{className:"unisubs-title"+(this.Qa.vg?
" is-rtl":"")},this.nj=a("span")),this.Oh,this.ni,this.hf)}if(this.Qh){this.fh=new Ck(this.wa.H(),w(this.wa.Ao,this.wa),w(this.wa.As,this.wa),nk);this.D(this.fh,true)}else{J(this.zf,"unisubs-title-notime");jl(this.Hb,false);var b=this.Qa.x.startTime(this.wa.ba);if(parseFloat(b)>-1){this.ym=a("span",{className:"unisubs-timestamp-time-fixed"},nk(b));this.zf.appendChild(this.ym)}}this.Xf=this.Oa=this.Pd=null;this.Df();this.Re=this.dj=false};
m.i=function(){Zq.e.i.call(this);this.Ca||this.j().c(this.Oh,"click",this.Mr).c(this.ni,"click",this.ct).c(this.hf,"click",this.nu).c(this.zf,"click",this.pd).c(this.a(),["mouseover","mouseout"],this.Ht).c(this.wa,"captionchanged",this.Df);this.fh&&this.j().c(this.fh,xc(Ek),this.lv)};m.setActive=function(a){pd(this.a(),"active",a)};m.Mr=function(){this.Qa.deleteCaption(this.wa)};function ar(a){a.Qa.x.startOfParagraph(a.wa.ba)?J(a.hf,"selected"):md(a.hf,"selected")}
Zq.prototype.nu=function(a){a.stopPropagation();a=this.wa;var b=!io(this.wa);if(io(a)!=Boolean(b)){a.x.startOfParagraph(a.ba,Boolean(b));go(a,false,true)}io(a);ar(this)};Zq.prototype.ct=function(a){a.stopPropagation();br(this,false);xo(this.Qa,co(this.wa))};Zq.prototype.lv=function(a){if(a.type==Ek.Pm)cr(this,true,true);else if(a.type==Ek.jn){Yn(this.wa,a.value);cr(this,false,true)}};function cr(a,b,c){a.bs(b,c,a);(a.Re=b)||a.Df()}Zq.prototype.Fk=k("wa");
Zq.prototype.Ht=function(a){if(a.type=="mouseover"&&!$q)br(this,true);else a.type=="mouseout"&&br(this,false)};function br(a,b){if(b!=a.Uo){a.Uo=b;if(!a.Ca){P(a.Oh,b);P(a.ni,b);P(a.hf,b)}}}Zq.prototype.pd=function(a){if(!this.dj)if($q)dr($q);else{er(this);a.stopPropagation();a.preventDefault()}};
function er(a){br(a,false);$q=a;cr(a,true,false);a.dj=true;a.Xf=new O;a.Xf.c(document,"click",function(b){b.target!=a.Pd&&dr(a)});Nd(a.nj);a.Pd=a.f().d("textarea","unisubs-subedit");L(a.zf,a.Pd);a.Pd.value=ao(a.wa);a.Pd.focus();a.Oa=new Yc(a.Pd);a.j().c(a.Oa,"key",a.Kk,false,a)}Zq.prototype.Kk=function(a){if(a.keyCode==13&&!a.shiftKey){dr(this);a.stopPropagation();a.preventDefault()}};
function dr(a){if(a.dj){$q=null;a.j().cc(a.Oa);fr(a);$n(a.wa,a.Pd.value);Nd(a.Pd);a.zf.appendChild(a.nj);a.dj=false;cr(a,false,false)}}Zq.prototype.Ih=function(){kl(this.Hb,false)};Zq.prototype.Df=function(){if(!this.Re){if(this.Qh){var a=this.Qa.x.startTime(this.wa.ba);this.Hb.style.visibility=a==-1?"hidden":"visible";a!=-1&&this.fh.rb(a)}this.nj.innerHTML=Aa(this.Qa.x.contentRendered(this.wa.ba))}};function fr(a){if(a.Oa){a.Oa.p();a.Oa=null}if(a.Xf){a.Xf.p();a.Xf=null}}
Zq.prototype.m=function(){Zq.e.m.call(this);fr(this)};function gr(){Q.call(this)}y(gr,Q);gr.prototype.d=function(){var a=w(this.f().d,this.f());this.Rj=a("a",{href:"#",className:"unisubs-append-sub-link"},"Add subtitle");this.q=a("li",null,this.Rj);this.a().className="unisubs-append-sub-button"};gr.prototype.i=function(){gr.e.i.call(this);this.j().c(this.Rj,"click",this.jr)};gr.prototype.jr=function(a){this.dispatchEvent("addsub");a.preventDefault();a.stopPropagation()};function hr(a,b){jl(a.Rj,b)};function ir(a,b,c,d,f,g){Q.call(this);this.g=a;this.k=b;this.Ca=f;this.Qh=c;this.Qr=g;this.Kh=null;this.sb=[];this.Zn=false;this.Mu=d?true:false;this.om=false;this.il=null;this.dp=new O(this)}y(ir,Q);
ir.prototype.d=function(){var a=this.f(),b=w(a.d,a);a=w(a.createTextNode,a);var c="unisubs-titlesList";if(this.Ca)c+=" read-only";this.q=b("ul",c);if(uo(this.k)===0&&this.Mu){this.om=true;J(this.a(),"unisubs-beginTab");this.a().appendChild(b("li","unisubs-beginTabLi",a("To begin, press TAB to play"),b("br"),a("and start typing!")))}else{this.Ca||jr(this);for(b=0;b<uo(this.k);b++)kr(this,this.k.F[b],b,false,true);lr(this)}};function jr(a){a.Ic=new gr;a.D(a.Ic,true);hr(a.Ic,false);a.aa&&mr(a)}
function mr(a){a.j().c(a.Ic,"addsub",a.kr);a.j().c(a.Ic.a(),"mouseover",a.Dp).c(a.Ic.a(),"mouseout",a.Cp)}m=ir.prototype;m.i=function(){ir.e.i.call(this);this.j().c(this.k,X.zj,this.Ln).c(this.k,X.Hf,this.Dr).c(this.k,X.Je,this.Br).c(this.k,X.Lf,this.Er).c(this.k,X.If,this.Ar);this.Ic&&!this.Ca&&mr(this)};m.Er=function(a){this.Ln(a);for(a=0;a<uo(this.k);a++)kr(this,this.k.F[a],a,false,true);lr(this)};m.Ln=function(){for(this.sb=[];ef(this)>1;)this.removeChild(this.Zh(0),true)};
m.Ar=function(a){this.removeChild(this.sb[a.index],true);this.sb.splice(a.index,1)};m.Dr=function(){B(this.sb,function(a){a.Ih()})};function nr(a,b){return new Zq(b,a.k,w(a.Ju,a),a.Qh,a.Ca,a.Qr)}function kr(a,b,c,d,f){if(a.om){Ld(a.a());md(a.a(),"unisubs-beginTab");a.om=false;a.Ca||jr(a)}var g=ef(a)-(a.Ca?0:1),h=nr(a,b);a.Le(h,g,true);Db(a.sb,h,lo(b));d&&typeof d=="boolean"&&or(a,c);f||lr(a)}
ir.prototype.Br=function(a){a=a.caption;var b=nr(this,a),c=a.eb;if(c!=null){lo(c);this.Le(b,lo(a),true)}else{this.Le(b,ef(this)-1,true);lr(this)}Db(this.sb,b,lo(a));er(b);pr(this)};function lr(a){var b=null;if(ef(a)>1)b=a.Zh(ef(a)-2);if(b!=a.il){a.dp.Bc();b!=null&&!a.Ca&&a.dp.c(b.a(),"mouseover",a.Dp).c(b.a(),"mouseout",a.Cp)}}ir.prototype.Dp=function(){hr(this.Ic,true)};ir.prototype.Cp=function(a){a=(a=a.relatedTarget)?(this.il==null||!Rd(this.il.a(),a))&&!Rd(this.Ic.a(),a):false;a&&hr(this.Ic,false)};
ir.prototype.kr=function(){Bo(this.k,true)};function qr(a){if(a.Kh!=null){a.Kh.setActive(false);a.Kh=null}}function rr(a,b,c){or(a,c);qr(a);b=a.sb[c];b.setActive(true);a.Kh=b}function or(a,b){(b=a.sb[b])&&He(b.a(),a.a(),true)}ir.prototype.Ju=function(a,b,c){if(this.Zn=a)this.g.pause();else{a=c.Fk().H();b&&Fl(this.g,a,2)}};function pr(a){B(a.sb,function(b){b.ym&&M(b.ym,nk(b.wa.H()))})};function sr(a,b){Q.call(this);this.g=a;this.jt=b;this.ow=null;this.Jh=this.sj=false;this.ee=new H(tr*1E3);this.Cf=new H(ur*1E3);this.Ng=new H(4E3)}y(sr,Q);var tr=4,ur=1;m=sr.prototype;m.d=function(){sr.e.d.call(this);this.a().setAttribute("class","unisubs-transcribeControls");this.D(this.Ga=new Kg,true);this.Ga.a().Li="Type subtitle and press enter";if(this.jt)this.Ga.a().dir="rtl";this.Ga.Jf="unisubs-label-input-label";Lg=false;var a=this.Ga;a.ul=17;Pg(a);a=this.Ga;a.qp=70;Pg(a);J(this.Ga.a(),"trans")};
m.i=function(){sr.e.i.call(this);this.Oa=new Yc(this.Ga.a());this.j().c(this.Oa,"key",this.Kk).c(this.Ga.a(),"keyup",this.ng).c(this.Cf,I,this.tv).c(this.ee,I,this.Lr).c(this.Ng,I,this.uu).c(this.g,"videoplay",this.qm);this.Ga.i()};m.qm=function(){this.Vl==vr.Zd&&this.Ng.start()};m.focus=function(){this.Ga.db()==""?jg(this.Ga):this.Ga.a().focus()};
m.Kk=function(a){if(a.keyCode==13&&!a.shiftKey){a.preventDefault();wr(this)}else if(a.keyCode!=9&&this.Vl==vr.xj){this.Cf.stop();this.Cf.start();if(!this.Jh){this.ee.start();this.Jh=true}}};m.Lr=function(){this.ee.stop();this.sj=this.g.Cd();this.g.pause()};m.tv=function(){var a=!this.ee.enabled,b=this.g.ia()-3;this.Jh=false;this.Cf.stop();this.ee.stop();if(a&&this.sj){this.g.U(b);this.g.Ha()}};m.uu=function(){this.Ng.stop();this.g.pause()};
m.Vi=function(a){this.Vl=a;this.Jh=false;this.ee.stop();this.Cf.stop();this.Ng.stop();this.Vl==vr.Zd&&this.g.Cd()&&this.Ng.start()};m.ng=function(a){Il(this.g,this.Ga.db());a=a.keyCode==32;var b;max=100;var c=this.Ga.db().length;a&&c>b?wr(this):V(this.a(),"background",xr(this,c,50,b))};function wr(a){var b=a.Ga.db();a.Ga.ra="";a.Ga.tc("");jg(a.Ga);a.dispatchEvent(new yr(b));a.a().rows=1}
function xr(a,b,c,d){if(b<c)return"#ddd";b-=c;a=16-16*b/(d-c);b=12-12*b/(d-c);return["#",Mi(Math.floor(15),0,15).toString(16),Mi(Math.floor(a),0,15).toString(16),Mi(Math.floor(b),0,15).toString(16)].join("")}sr.prototype.m=function(){sr.e.m.call(this);this.Oa&&this.Oa.p();this.Cf.p();this.ee.p()};function yr(a){this.type="newtitle";this.title=a};function Sq(a,b,c,d){Q.call(this);this.k=a;this.g=b;this.n=c;this.Oa=null;this.Uc=false;this.A=d;this.kb=4;this.ib=0;this.ff="Next Step: Sync"}y(Sq,Q);var vr={Zd:"pl",xj:"au",an:"no"};Sq.prototype.ha=k("Ne");Sq.prototype.d=function(){Sq.e.d.call(this);zr(this,this.a())};Sq.prototype.V=function(a){Sq.e.V.call(this,a);zr(this,a)};
function zr(a){var b=w(a.f().d,a.f());a.a().appendChild(a.Ne=b("div"));a.D(a.ol=new sr(a.g,a.k.vg),true);a.D(a.sb=new ir(a.g,a.k,false,true,false),true);a.Vi((Jf.ca()?Jf.va("videospeedmode"):null)||vr.Zd)}Sq.prototype.bh=aa("Uc");Sq.prototype.kg=function(){if(!this.L){this.L=this.Vf();Ar(this)}return this.L};function Ar(a){if(a.L&&a.aa){a.j().c(a.L,Z.Ij,a.Wu);a.j().c(a.L,Br,function(b){a.Vi(b.Ct)})}}m=Sq.prototype;
m.Vf=function(){var a=w(this.f().d,this.f());a=np(a,this.A,this.kb,this.ib,true);var b=[];if(a)this.Ka=a.bodyInput;else{b=[new mp("unisubs-play","unisubs-tab","tab","Play/Pause",9,0),new mp("unisubs-skip","unisubs-control","shift\n+\ntab","Skip Back 8 Seconds",9,1)];a={helpContents:new lp("Typing",["Thanks for making subtitles!! It's easy to learn and actually fun to do.","While you watch the video, type everything people say and all important text that appears on-screen.","Use the key controls below to pause and jump back, which will help you keep up."],
this.kb,this.ib),extraHelp:["Press play, then type everything people say in the text entry below the video.","Don't let subtitles get too long. Hit Enter for a new line."]}}return new Cr(this.n,a.helpContents,a.extraHelp,b,true,"Done?",this.ff,this.A,this.Ka)};m.i=function(){Sq.e.i.call(this);this.j().c(this.ol,"newtitle",this.Pt);this.j().c(this.g,"videoplay",this.zv);Ar(this)};m.zv=function(){this.ol.focus()};m.Pt=function(a){var b=Bo(this.k);kr(this.sb,b,lo(b));$n(b,a.title,true)};m.Vi=function(a){this.ol.Vi(a)};
m.Wu=function(){if(confirm("Are you sure you want to start over? All subtitles will be deleted.")){this.k.clear();this.g.U(0)}};m.m=function(){Sq.e.m.call(this);this.L&&this.L.p()};function Cr(a,b,c,d,f,g,h,j){cp.call(this,a,b,c,d,f,g,h);this.tg=j}y(Cr,cp);var Br="modechanged";Cr.prototype.tu=function(a){var b=vr;if(a==b.an)return"Expert: no automatic pausing (use TAB key)";else if(a==b.xj)return"Recommended: magical autopause (just keep typing!)";else if(a==b.Zd)return"Beginner: play 4 seconds, then pause"};
Cr.prototype.Tj=function(a,b){if(!this.tg){Cr.e.Tj.call(this,a,b);this.Mg=a("select");var c=vr,d=(Jf.ca()?Jf.va("videospeedmode"):null)||c.Zd,f=this.Mg;c=vr;var g=w(this.tu,this);B([c.Zd,c.xj,c.an],function(h){var j={value:h};if(h==d)j.selected="selected";f.appendChild(a("option",j,g(h)))});b.appendChild(a("div","unisubs-speedmode",a("h4",null,"Speed Mode"),f));Dr(this)}};Cr.prototype.i=function(){Cr.e.i.call(this);this.tg||this.j().c(this.Mg,"change",this.su)};
function Dr(a){if(a.Mg.value==vr.Zd){hp(a,9,1,"Re-play last 4 seconds");hp(a,9,0,"Play next 4 seconds");gp(a,9,0,"-beginner",true)}else{hp(a,9,1);hp(a,9,0);gp(a,9,0,"-beginner",false)}}Cr.prototype.su=function(){Dr(this);var a=this.Mg.value;Jf.ca()&&Jf.T("videospeedmode",a,63072E3);this.dispatchEvent(new Er(this.Mg.value))};function Er(a){this.type=Br;this.Ct=a};function Tq(a,b,c,d,f){Q.call(this);this.ka=a;this.g=b;this.n=c;this.fa=d;this.Av=false;this.pb=null;this.Zf=-1;this.Uc=this.Yf=false;if(this.A=f){this.kb=2;this.ib=0}else{this.kb=4;this.ib=1}this.fa.yb=-1}y(Tq,Q);Tq.prototype.i=function(){Tq.e.i.call(this);this.j().c(this.fa,"caption",this.nd).c(document,"keydown",this.mg).c(document,"keyup",this.ng)};
Tq.prototype.d=function(){Tq.e.d.call(this);var a=w(this.f().d,this.f());this.a().appendChild(this.Ne=a("div"));this.D(this.sb=new ir(this.g,this.ka,true,false,false),true)};Tq.prototype.kg=function(){if(!this.L){this.L=this.Tn();this.j().c(this.L,Z.uh,this.ei).c(this.L,Z.Ij,this.Xu)}return this.L};
Tq.prototype.Tn=function(){var a=w(this.f().d,this.f());a=np(a,this.A,this.kb,this.ib,true);var b;if(a){b=Fr(this);this.Ka=a.bodyInput}else{a={helpContents:new lp("Syncing",["Congratulations, you finished the hard part (all that typing)!","Now, to line up your subtitles to the video, tap the DOWN ARROW right when each subtitle should appear.","Press TAB to begin, press DOWN for the first subtitle, and DOWN for each subtitle after that.",'Don\'t worry about small mistakes. We can correct them in the next step. If you need to start over, click "restart" below.'],
this.kb,this.ib),extraHelp:["Press play, then tap this button or the down arrow when the next subtitle should appear."]};b=Fr(this)}a=new cp(this.n,a.helpContents,a.extraHelp,b,true,"Done?","Next Step: Subtitle info");if(this.A)a.cj=false;return a};
function Fr(){return[new mp("unisubs-begin","unisubs-down","down","Tap when next subtitle should appear",40,0),new mp("unisubs-play","unisubs-tab","tab","Play/Pause",9,0),new mp("unisubs-skip","unisubs-control","shift\n+\ntab","Skip Back 4 Seconds",9,1)]}Tq.prototype.bh=aa("Uc");Tq.prototype.ei=function(a){if(a.keyCode==40)if(a.cl=="mousedown"&&!Gr(this))Hr(this);else a.cl=="mouseup"&&this.Yf&&Ir(this)};
Tq.prototype.mg=function(a){if(!this.Uc)if(a.keyCode==40&&!Gr(this)){a.preventDefault();Hr(this);fp(this.L,a.keyCode,0,true)}else if(a.keyCode==32&&!Gr(this)){a.preventDefault();Cl(this.g);fp(this.L,9,0,true)}};
Tq.prototype.ng=function(a){if(a.keyCode==40&&this.Yf){a.preventDefault();Ir(this);fp(this.L,a.keyCode,0,false)}else if(a.keyCode==32&&!Gr(this))fp(this.L,9,0,false);else if(a.keyCode==38&&!Gr(this)){fp(this.L,38,0,false);if(this.g.Cd()){this.fa.Se=true;a=this.g.ia()*1E3;var b=Co(this.ka,a);Zn(b,a);this.fa.Se=false}}};function Hr(a){if(a.g.Cd())if(!a.Yf){a.fa.Se=true;a.Yf=true;a.Av=true;a.Zf=a.g.ia()*1E3;a.pb=Co(a.ka,a.Zf)}}
function Ir(a){a.fa.Se=false;a.Yf=false;var b=a.g.ia()*1E3-300;if(b<0)b=0;if(a.pb==null||!(a.pb.H()<=a.Zf&&(a.pb.O()==-1||a.Zf<a.pb.O()))){var c=null;if(a.pb==null&&uo(a.ka)>0)c=a.ka.caption(0);if(a.pb)c=a.pb.eb;c!=null&&Yn(c,b)}else a.pb.H()<=b&&(a.pb.O()==-1||b<a.pb.O())&&a.pb.eb?Yn(a.pb.eb,b):Zn(a.pb,b);a.pb=null;a.Zf=-1}Tq.prototype.Xu=function(){if(confirm("Are you sure you want to start over?")){this.A?to(this.ka):this.ka.Ih();this.g.U(0)}};
function Gr(a){if(a.sb.Zn)return true;if(document.activeElement){a=document.activeElement.tagName.toLowerCase();if(a=="input"||a=="textarea")return true}}Tq.prototype.nd=function(a){var b=a.caption;qr(this.sb);b!=null&&rr(this.sb,b,a.index)};Tq.prototype.m=function(){Tq.e.m.call(this);this.L&&this.L.p()};function Uq(a,b,c,d,f,g){Tq.call(this,a,b,c,d);this.A=f;this.kb=4;this.ib=3;this.ff="Submit your work";this.M=g}y(Uq,Tq);
Uq.prototype.Tn=function(){var a=w(this.f().d,this.f()),b=[];if(a=np(a,this.A,this.kb,this.ib,false))this.Ka=a.bodyInput;else{b=Fr(this);a={helpContents:new lp("Check your work",[],this.kb,this.ib)};a.helpContents.pg="<p>Watch the video one more time and correct any mistakes in text or timing. Tips for making high quality subtitles:</p><ul><li>Include text that appears in the video (signs, etc.)</li><li>Include important sounds in [brackets]</li><li>It's best to split subtitles at the end of a sentence or a long phrase.</li></ul>"}return new Jr(this.M,this.n,
a.helpContents,a.extraHelp,b,false,"Done?",this.ff,this.A,this.Ka)};function Jr(a,b,c,d,f,g,h,j,n,o){cp.call(this,b,c,d,f,g,h,j);this.A=n;this.nm=!n;this.Cl=o;this.M=a}y(Jr,cp);Jr.prototype.Uj=function(a,b){if(!this.A){b.appendChild(Kr(this,a,"Drag edges in timeline to adjust subtitle timing"));b.appendChild(Kr(this,a,"Double click any subtitle to edit text. Rollover subtitles and use buttons to tweak time, add / remove subtitles."))}};
Jr.prototype.Kb=function(a,b,c){a&&a.preventDefault();var d=this.M,f=this,g=this.A==2?"approve":"review";function h(o){Fq(o,function(){d.Fg(true)},g)}function j(o){if(d.cb)vq(d.cb,o);else d.cb=uq(f.n.k,o,w(d.lf,d,false))}function n(o){this.n.k.Kc=o;this.n.Kb(h,j,null,c)}Gq(this.n,sg(this.Cl));this.n.wf=b;b==20&&this.Ze?Hq(true,w(n,this)):this.n.Kb(h,j,null,c)};
Jr.prototype.Sj=function(a,b){if(this.A){var c=this.A==2?"Approve":"Accept";this.mf=a("a",{"class":"unisubs-done widget-button"},"Send Back");this.be=a("a",{"class":"unisubs-done widget-button"},c);b.appendChild(this.mf);b.appendChild(this.be);a=this.j();var d=this;a.c(this.mf,"click",function(f){d.Kb(f,30,false)});a.c(this.be,"click",function(f){d.Kb(f,20,false)})}};function Kr(a,b,c){return b("div","unisubs-extra unisubs-extra-left",b("p",null,c),b("span","unisubs-spanarrow"))};function Pq(a){Q.call(this);this.n=a}y(Pq,Q);
Pq.prototype.d=function(){Pq.e.d.call(this);this.a().className="unisubs-share";var a=w(this.f().d,this.f()),b=w(this.f().createTextNode,this.f());this.a().appendChild(a("img",{src:Vj("blue_triangle.png"),className:"unisubs-blueTriangle"}));this.a().appendChild(a("h2",null,"Share your subtitles"));this.a().appendChild(a("p",null,b("Now everyone can watch the video with subtitles-- try it!"),a("br"),b("Then tell the world and invite your friends to help translate:")));this.a().appendChild(Lr(this,a,
b));this.Uh=a("input",{type:"text"});b=this.n.zo();this.Uh.value=b;var c=a("span");c.innerHTML=zk("clippy",Uj()+"swf/clippy.swf",110,14,new we({text:b}));this.a().appendChild(a("h3",null,"Embed this video in your site"));this.a().appendChild(a("p","unisubs-embed",this.Uh,c));this.a().appendChild(a("h3",null,"Permalink"));this.a().appendChild(a("a",{className:"unisubs-permalink",href:this.n.xd()},this.n.xd()))};
function Lr(a,b){a.fg=b("a",{href:"#"},"Post to Facebook");a.lh=b("a",{href:Mr(a),target:"share_subs_on_twitter"},"Post to Twitter");a.ko=b("a",{href:"#"},"Email to friends");return b("ul",null,b("li","unisubs-facebook",a.fg),b("li","unisubs-twitter-share",a.lh),b("li","unisubs-friends",a.ko))}Pq.prototype.i=function(){Pq.e.i.call(this);this.j().c(this.Uh,["focus","click"],this.ps).c(this.ko,"click",this.ds).c(this.fg,"click",this.ms)};Pq.prototype.ps=function(){var a=this;ed(function(){a.Uh.select()})};
Pq.prototype.ds=function(a){a.preventDefault();window.open("/videos/email_friend?text="+encodeURIComponent("I just added subtitles to this video using the Amara alpha.\n\nIt's still experimental and just for testing, but if you'd like to check it out or try it yourself, here's the link: LINK".replace("LINK",this.n.xd())),hk(),"scrollbars=yes,width=900,height=600")};Pq.prototype.ms=function(a){a.preventDefault();window.open(Nr(this),hk(),"scrollbars=yes,status=0,width=560,height=400")};
function Nr(a){var b=new ai;b.T("u",a.n.xd());b.T("t","Just added #subtitles to this video using the @amarasubs alpha");return"http://www.facebook.com/sharer.php?"+b.toString()}function Mr(a){var b=new ai;a="Just added #subtitles to this video using the @amarasubs alpha: "+a.n.xd();b.T("status",a);return"http://twitter.com/home/?"+b.toString()};function Or(a,b){R.call(this,"unisubs-modal-completed",true);qf(this,null);this.zb=true;this.On=a;this.wb=b}y(Or,R);
Or.prototype.d=function(){Or.e.d.call(this);var a=w(this.f().d,this.f());this.a().appendChild(a("h3",null,"Entire video completed?"));this.hk=a("span",this.On?"goog-checkbox-checked":"goog-checkbox-unchecked");this.a().appendChild(a("div",null,a("p",null,this.hk,document.createTextNode("These subtitles cover all dialog in the entire video."))));this.Pa=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"OK");this.a().appendChild(this.Pa);a=a("div");V(a,"clear","both");a.innerHTML="&nbsp;";
this.a().appendChild(a)};Or.prototype.i=function(){Or.e.i.call(this);if(!this.Rf){this.Rf=new Wi(this.On?Ui:Ri);this.Rf.pa(this.hk);this.Rf.Ui(this.Rf.a().parentNode)}this.j().c(this.Pa,"click",this.te)};Or.prototype.te=function(a){a.preventDefault();this.w(false);this.wb(this.Rf.sg())};function Hq(a,b){(new Or(a,b)).w(true)};function Pr(a,b,c){R.call(this,"unisubs-modal-completed",true);qf(this,null);this.zb=true;this.wb=b;this.yl=a;this.up=c}y(Pr,R);
Pr.prototype.d=function(){Pr.e.d.call(this);var a=w(this.f().d,this.f()),b;b=this.up==="review"?"Review saved":this.up==="approve"?"Approval saved":"Subtitles saved";this.a().appendChild(a("h3",null,b));this.a().appendChild(a("div",null,a("p",null,this.hk,document.createTextNode(this.yl))));this.Pa=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"OK");this.a().appendChild(this.Pa);a=a("div");V(a,"clear","both");a.innerHTML="&nbsp;";this.a().appendChild(a)};
Pr.prototype.i=function(){Pr.e.i.call(this);this.j().c(this.Pa,"click",this.te)};Pr.prototype.te=function(a){a.preventDefault();this.w(false);this.wb()};function Fq(a,b,c){(new Pr(a,b,c)).w(true)};function Qq(a,b){Q.call(this);this.M=a;this.Ii=b}y(Qq,Q);m=Qq.prototype;
m.d=function(){Qq.e.d.call(this);var a=this.a(),b=w(this.f().d,this.f()),c=b("div","unisubs-translating");if(pk()){this.ik=b("a",{className:"unisubs-otherClose",href:"#"},b("span"),"Close and return to site");var d=b("div","unisubs-otherButtons",this.ik,this.f().createTextNode("|"),b("a",{className:"unisubs-goBack",href:this.Ii},"Go to Amara video homepage"));a.appendChild(d)}a.appendChild(c);this.qn=b("a",{className:"unisubs-done",href:"#"},"Add a Translation Now");this.wn=b("a",{className:"unisubs-done",
href:"#"},"Ask a Friend to Translate");c.appendChild(b("div","unisubs-buttons",this.qn,this.wn));c.appendChild(b("p",null,"Your subtitles are now ready to be translated -- by you and by others.  The best way to get translation help is to reach out to your friends or people in your community or orgnization."));c.appendChild(b("p",null,"Do you know someone who speaks a language that you\u2019d like to translate into?"))};
m.i=function(){Qq.e.i.call(this);this.j().c(this.qn,"click",this.lr).c(this.wn,"click",this.pr);this.ik&&this.j().c(this.ik,"click",this.Jr)};m.Jr=function(a){a.preventDefault();this.M.w(false)};m.lr=function(a){a.preventDefault();Vq(this.M)};m.pr=function(a){a.preventDefault();window.open(Qr(this),hk(),"scrollbars=yes,width=900,height=600")};
function Qr(a){var b=new ai;b.T("text","Hey-- I just created subtitles using universalsubtitles.org, and I was hoping you'd be able to use your awesome language skills to translate them.  It's easy, and it would be a huge help to me. "+a.Ii+"?translate_immediately=true");return Tj()+"/videos/email_friend/?"+b.toString()};function Rr(a,b){Q.call(this);this.Ja=a;this.Pb=b;this.dq=b*Sr;this.Gw=Sr*Tr;this.Im=[];a=Uj+"images/";this.Kp=oj("-moz-grab",a+"openhand.cur","default");this.Kr=oj("-moz-grabbing",a+"closedhand.cur","move")}y(Rr,Q);Rr.prototype.d=function(){Rr.e.d.call(this);var a=this.a();a.className="unisubs-timerow";this.dg(0);V(a,"cursor",this.Kp);this.W=new le(a);this.W.Mh=e()};
Rr.prototype.i=function(){Lq.e.i.call(this);this.j().c(this.W,"beforedrag",w(this.Ja.$j,this.Ja)).c(this.W,"start",w(this.Ja.Od,this.Ja)).c(this.W,"drag",w(this.Ja.Eg,this.Ja)).c(this.W,"end",w(this.Ja.rd,this.Ja))};Rr.prototype.dg=function(a){for(w(this.f().d,this.f());this.Im.length*this.dq<a+20;){var b=new Ur(this.Pb,this.Im.length*this.dq);this.D(b,true);this.Im.push(b)}};function Ur(a,b){Q.call(this);this.gg=b;this.Pb=a;this.ql=[]}y(Ur,Q);var Sr=15,Tr=65;Ur.prototype.d=function(){var a=w(this.f().d,this.f());this.q=a("ul","unisubs-timeline-time");var b=this.a();el(b,Sr*Tr);Tk(b,this.gg/this.Pb*Tr,null);this.ql=[];var c;for(c=0;c<Sr;c++){var d=a("li");b.appendChild(d);this.ql.push(d)}a=this.gg;a=Math.max(0,a);this.gg=a=Math.floor(a/this.Pb)*this.Pb;this.yw=a+this.Pb*Sr;for(a=0;a<Sr;a++){b=this.gg+a*this.Pb;M(this.ql[a],nk(b>=0?""+b*1E3:"",true))}};
Ur.prototype.i=function(){Ur.e.i.call(this);this.j().c(this.a(),"dblclick",this.Wr)};Ur.prototype.Wr=function(a){this.dispatchEvent(new Vr(this.gg+a.offsetX*this.Pb/Tr))};function Vr(a){this.type="timerowdblclick";this.jv=a};function Wr(a,b,c,d){Q.call(this);this.Ra=a;this.Ji=b/1E3;this.qu=c?c:0;this.Re=false;this.Sh=new O(this);this.Ca=d}y(Wr,Q);var Xr=false,Yr={dn:"startediting",Xq:"finishediting"};m=Wr.prototype;
m.d=function(){Wr.e.d.call(this);this.a().className="unisubs-timeline-sub";var a=w(this.f().d,this.f());this.Sq=a;var b=this.a();b.appendChild(this.gv=a("div","unisubs-subtext"));b.appendChild(this.ti=a("span","unisubs-grabber unisubs-leftGrabber",a("strong")));b.appendChild(this.Pg=a("span","unisubs-grabber unisubs-rightGrabber",a("strong")));V(b,"cursor","pointer");this.Df()};
m.i=function(){Wr.e.i.call(this);this.j().c(this.a(),"mouseover",this.Ll).c(this.a(),"mouseout",this.Kl).c(this.ti,"mousedown",this.Hp).c(this.Pg,"mousedown",this.Hp).c(this.Ra,Zr,this.Df)};m.Ll=function(){if(!this.Ca){Xr||$r(this,true);this.vp=true}};m.Kl=function(a){if(!this.Ca)if(a.relatedTarget&&!Rd(this.a(),a.relatedTarget)){this.Re||$r(this,false);this.vp=false}};m.Wt=function(a){Yn(this.Ra.ua,parseInt(this.Do+(a.clientX-this.Co)/this.Ji))};
m.Xt=function(a){Zn(this.Ra.ua,parseInt(this.Do+(a.clientX-this.Co)/this.Ji))};m.Yt=function(){Xr=this.Re=false;this.Sh.Bc();this.vp||$r(this,false);this.dispatchEvent(Yr.Xq)};m.Fk=k("Ra");m.Hp=function(a){var b=Rd(this.ti,a.target);this.Re=true;this.dispatchEvent(Yr.dn);Xr=true;this.Co=a.clientX;this.Do=b?parseInt(this.Ra.H()):parseInt(this.Ra.O());this.Sh.c(document,"mousemove",b?this.Wt:this.Xt);this.Sh.c(document,"mouseup",this.Yt);a.preventDefault()};
function $r(a,b){if(b){J(a.ti,"unisubs-grabber-over");J(a.Pg,"unisubs-grabber-over")}else{md(a.ti,"unisubs-grabber-over");md(a.Pg,"unisubs-grabber-over")}}
Wr.prototype.Df=function(){var a=this.Ra.ua.H()==-1;if(ao(this.Ra.ua)!=this.ks){var b=this.Sq("div","unisubs-subtext",Jd(ho(this.Ra.ua))),c=this.gv,d=c.parentNode;d&&d.replaceChild(b,c);this.ks=ao(this.Ra.ua)}if(this.Ra.O()!=this.is||this.Ra.H()!=this.po){b=(this.Ra.O()-this.Ra.H())*this.Ji;el(this.a(),b);this.is=this.Ra.O()}if(this.Ra.H()!=this.po){b=this.Ra.H()*this.Ji-this.qu;Tk(this.a(),b,null);this.po=this.Ra.H()}if(a!=this.js){if(a){J(this.a(),"unisubs-timeline-sub-unsynced");jl(this.Pg,false)}else{md(this.a(),
"unisubs-timeline-sub-unsynced");jl(this.Pg,true)}this.js=a}};Wr.prototype.m=function(){Wr.e.m.call(this);this.Sh.p()};function as(a,b,c){Q.call(this);this.Qa=a;this.jf=b;this.Ca=c;this.Fc={}}y(as,Q);as.prototype.d=function(){as.e.d.call(this);this.a().className="unisubs-timeline-subs";var a=this.Qa.za,b;for(b=0;b<a.length;b++)bs(this,a[b])};as.prototype.i=function(){as.e.i.call(this);this.j().c(this.Qa,cs,this.Pr).c(this.Qa,ds,this.xu)};as.prototype.Pr=function(a){bs(this,a.tm)};as.prototype.xu=function(a){var b=null,c=null;vc(this.Fc,function(d,f){if(d.Ra==a.tm){b=d;c=f}});if(b){this.removeChild(b,true);delete this.Fc[c]}};
function bs(a,b){var c=new Wr(b,a.jf,0,a.Ca);a.D(c,true);a.Fc[b.ua.x.getSubtitleIndex(b.ua.ba)]=c};function es(a,b,c,d){Q.call(this);this.lj=a;this.Pb=b;this.Qa=c;this.jf=Tr/b;this.Am=this.kl=0;this.Ca=d}y(es,Q);m=es.prototype;m.d=function(){es.e.d.call(this);this.a().className="unisubs-timeline-inner";this.mj=new Rr(this,this.Pb);this.D(this.mj,true);this.nv=new as(this.Qa,this.jf,this.Ca);this.D(this.nv,true)};m.dg=function(a){this.mj.dg(a)};m.getTime=k("Am");m.setTime=function(a,b,c){if(c!=0)a=Math.min(a,c);this.kl=c=-a*this.jf;Tk(this.a(),c+b,null);this.dg(a)};m.$j=function(a){return this.lj.$j(a)};
m.Od=function(a){var b=this.mj;V(b.a(),b.Kr);this.lj.Od(a)};m.Eg=function(a){this.lj.Eg(a)};m.rd=function(a){var b=this.mj;V(b.a(),b.Kp);this.lj.rd(a)};function Lq(a,b,c,d){Q.call(this);this.Pb=a;this.Qa=b;this.g=c;this.Ca=d}y(Lq,Q);m=Lq.prototype;m.d=function(){Lq.e.d.call(this);var a=w(this.f().d,this.f()),b=this.a();b.className="unisubs-timeline";b.appendChild(a("div","top"," "));this.Ja=new es(this,this.Pb,this.Qa,this.Ca);this.D(this.Ja,true);this.vt=a("div","marker");b.appendChild(this.vt)};m.Zl=function(){this.removeChild(this.Ja,true);this.Ja.p();this.Ja=new es(this,this.Pb,this.Qa,this.Ca);this.D(this.Ja,true)};
m.i=function(){Lq.e.i.call(this);this.j().c(this.g,Hl,this.Vd).c(this.Ja,xc(Yr),this.mv).c(this.Ja,"timerowdblclick",this.kv).c(this.Qa,fs,this.Zl).c(this.Qa,gs,this.Zl).c(this.Qa,hs,this.Zl);this.So()};m.kv=function(a){this.g.U(a.jv);this.g.Ha()};m.mv=function(a){a.type==Yr.dn&&this.g.pause()};m.Vd=function(){var a=this.g.ia();is(this);this.Ja.setTime(a,this.Gc/2,this.g.K())};m.So=function(){is(this);this.Gc?this.Vd():ed(w(this.So,this))};function is(a){if(!a.Gc){var b=Ne(a.a());a.Gc=b.width}}
Lq.prototype.$j=function(){return!Xr};Lq.prototype.Od=function(){this.sj=this.g.Cd();this.g.pause();this.Bp=this.Ja.kl};Lq.prototype.Eg=function(a){is(this);var b=this.Ja;a=a.left+this.Bp;var c=this.Gc/2,d=this.g.K();a=Math.min(a,0);if(d!=0)a=Math.max(a,-d*b.jf);d=-a/b.jf;b.kl=a;b.Am=d;Tk(b.a(),a+c,null);b.dg(d)};Lq.prototype.rd=function(){this.Bp=null;this.g.U(this.Ja.getTime(),true);this.sj&&this.g.Ha()};function js(a,b){E.call(this);this.ua=a;this.g=b;this.Yc=null;this.$=new O(this);this.$.c(a,"captionchanged",this.zr);this.Td=null;ks(this)}y(js,G);var Zr="tsubchanged";function ls(a,b){return co(a.ua)-co(b.ua)}js.prototype.zr=function(){this.ua.H()!=-1&&ks(this);this.Yc&&ms(this.Yc)&&ks(this.Yc);this.dispatchEvent(Zr)};
function ks(a){if(ms(a)){var b=a.ua.Ba;b=b==null?-1:b.O();a.dd=Math.max(b,parseInt(a.g.ia()*1E3))+500}else a.dd=a.ua.H();if(ms(a)||mo(a.ua)){if(a.Td==null){a.Td=new O(a);a.Td.c(a.g,Hl,a.Vd)}if(mo(a.ua)){a.sd=Math.max(a.dd+2E3,parseInt(a.g.ia()+1E3));a.Yc&&ns(a.Yc,a.sd)}else a.sd=a.dd+2E3}else{a.sd=a.ua.O();if(a.Td!=null){a.Td.p();a.Td=null}}}function ms(a){var b=a.ua.Ba;return a.ua.H()==-1&&(!b||b.O()!=-1)}function os(a,b){(a.Yc=b)&&mo(a.ua)&&ns(a.Yc,a.O())}
js.prototype.Vd=function(){if(mo(this.ua)){var a=this.sd;this.sd=Math.max(this.dd+2E3,parseInt(this.g.ia()*1E3));if(a!=this.O()){this.dispatchEvent(Zr);this.Yc&&ns(this.Yc,this.sd)}}else if(this.ua.Ba==null)ns(this,parseInt(this.g.ia()*1E3));else{a=this.ua.Ba.O();a=Math.max(this.g.ia()*1E3,a||0);ns(this,a)}};function ns(a,b){var c=a.dd;a.dd=b+500;a.sd=a.dd+2E3;a.dd!=c&&a.dispatchEvent(Zr)}js.prototype.H=k("dd");js.prototype.O=k("sd");
js.prototype.m=function(){js.e.m.call(this);this.$.p();this.Td&&this.Td.p()};function Kq(a,b){E.call(this);this.$=new O(this);this.bg=a;this.g=b;ps(this);this.$.c(this.bg,"captionchanged",this.yr).c(this.bg,[X.Hf,X.Lf,X.Je,X.If],this.bv)}y(Kq,G);var cs="displaynew",hs="cleartimes",gs="resetsubs",ds="remove",fs="rendernew";function ps(a){a.za&&qs(a);a.za=C(Do(a.bg),function(c){return new js(c,a.g)});var b;for(b=0;b<a.za.length-1;b++)os(a.za[b],a.za[b+1])}
Kq.prototype.bv=function(a){if(a.type==X.Hf){ps(this);this.dispatchEvent(hs)}if(a.type==X.Lf){ps(this);this.dispatchEvent(gs)}else if(a.type==X.Je){a=a.caption;if(a.H()!=-1||a.Ba==null||a.Ba!=null&&a.Ba.H()!=-1){var b=new js(a,this.g),c=-Nb(this.za,b,ls)-1,d=c>0?this.za[c-1]:null,f=c<this.za.length?this.za[c]:null;d!=null&&os(d,b);if(f!=null)if(a.H()==-1){Hb(this.za,c);this.dispatchEvent(new rs(f,c));f.p()}else os(b,f);Db(this.za,b,c);this.dispatchEvent(new ss(b))}}else a.type==X.If?ts(this,a.caption,
a.index):this.dispatchEvent(fs)};function ts(a,b,c){if(c>=0){var d=a.za[c],f=c>0?a.za[c-1]:null,g=false,h=c<a.za.length-1?a.za[c+1]:null;Hb(a.za,c);a.dispatchEvent(new rs(d,c));if(d.ua.H()==-1){b=b.eb;if(b!=null){h=new js(b,a.g);a.za.push(h);g=true}}f!=null&&os(f,h);d.p();g&&a.dispatchEvent(new ss(h))}}
Kq.prototype.yr=function(a){if(a.Dq&&a.target.eb!=null){a=this.bg.F[xb(this.bg.F,a.target)];a=new js(a.eb,this.g);var b=null;if(this.za.length>0)b=this.za[this.za.length-1];this.za.push(a);b!=null&&os(b,a);this.dispatchEvent(new ss(a))}};function qs(a){B(a.za,function(b){b.p()})}Kq.prototype.m=function(){Kq.e.m.call(this);this.$.p();qs(this)};function ss(a){this.type=cs;this.tm=a}function rs(a,b){this.type=ds;this.tm=a;this.index=b};function us(a){Q.call(this);this.md=[];this.g=a;this.Gc=this.dc=0}y(us,Q);us.prototype.d=function(){this.q=this.f().d("div","unisubs-buffered-container")};us.prototype.i=function(){us.e.i.call(this);this.j().c(this.g,"videoprogress",this.gu)};us.prototype.hi=function(){if(this.dc==0){this.dc=this.g.K();if(this.dc==0)return false}return true};
us.prototype.gu=function(){var a;a:{if(this.Gc==0){this.Gc=Ne(this.a()).width;if(this.Gc==0){a=false;break a}}a=true}if(a&&this.hi()){if(this.md.length!=this.g.Qc()){for(;this.md.length<this.g.Qc();){a=this.f().d("div","unisubs-buffered");this.a().appendChild(a);this.md.push(a)}for(;this.g.Qc()>this.md.length;)this.a().removeChild(this.md.pop())}for(a=0;a<this.md.length;a++){Tk(this.md[a],this.Gc*this.g.ud(a)/this.dc,null);el(this.md[a],this.Gc*(this.g.me(a)-this.g.ud(a))/this.dc)}}};function vs(a,b){Q.call(this,b);this.g=a;this.t=null}y(vs,Q);m=vs.prototype;m.d=function(){var a=w(this.f().d,this.f());this.q=a("span","unisubs-playPause",a("span"));de(this.a(),"button");this.gq()};m.i=function(){vs.e.i.call(this);this.j().c(this.g,Jl.cr,this.Ku).c(this.g,Jl.br,this.gq).c(this.a(),"click",this.pd)};m.Ku=function(){od(this.a(),"play","pause");this.t="playing"};m.gq=function(){od(this.a(),"pause","play");this.t="paused"};
m.pd=function(){if(this.t!=null)this.t=="playing"?this.g.pause():this.g.Ha()};function ws(a){Q.call(this);this.g=a;this.dc=0}y(ws,Q);ws.prototype.d=function(){this.q=this.f().d("span","unisubs-progress");this.ck=new us(this.g);this.D(this.ck,true);this.Xl=new Q;this.D(this.Xl,true);this.Xl.a().className="unisubs-played";this.xe=new xs;this.D(this.xe,true)};ws.prototype.i=function(){ws.e.i.call(this);this.j().c(this.g,Jl.dr,this.Vd).c(this.xe,"change",this.wu).c(this.xe,xc(Lk),this.vu)};
ws.prototype.vu=function(a){if(a.type==Lk.cn){this.pu=this.g.qi();this.g.pause(true)}else if(a.type==Lk.Nj&&!this.pu)this.g.Ha(true);else a.type==Lk.fn&&ys(this,a.value)};ws.prototype.wu=function(){ys(this,this.xe.db());zs(this,this.xe.db()/100)};function ys(a,b){a.hi()&&a.g.U(a.dc*b/100)}ws.prototype.Vd=function(){if(this.hi())if(!this.xe.Lh){this.xe.rb(100*this.g.ia()/this.dc,true);zs(this,this.g.ia()/this.dc)}};ws.prototype.hi=function(){if(this.dc==0){this.dc=this.g.K();if(this.dc==0)return false}return true};
function zs(a,b){if(!a.Yj&&a.ck){var c=Ne(a.ck.a());a.Yj=c.width}a.Yj&&el(a.Xl.a(),a.Yj*b)};function xs(a){Q.call(this,a);this.Nn=false}y(xs,Kk);xs.prototype.X=l("unisubs-progress-slider");xs.prototype.ok=function(){var a=this.a(),b=w(this.f().d,this.f());b=b("div","unisubs-scrobbler",b("span"));de(b,"button");a.appendChild(b);this.nb=b};function As(a){Q.call(this);this.g=a;this.Yn=-1;this.jo=false}y(As,Q);As.prototype.d=function(){var a=w(this.f().d,this.f());this.zq=a("div","unisubs-timeElapsed");this.Fq=a("span");this.q=a("span","unisubs-timespan",this.zq,this.Fq)};As.prototype.i=function(){As.e.i.call(this);this.j().c(this.g,Hl,this.Vd)};
As.prototype.Vd=function(){if(~~this.g.ia()!=this.Yn){if(!this.jo){var a=this.g.K();if(a==0)return;M(this.Fq,"/"+nk(a*1E3,true));this.jo=true}this.Yn=a=~~this.g.ia();M(this.zq,nk(parseInt(a*1E3),true))}};function Nm(a){Q.call(this);this.g=a}y(Nm,Q);Nm.prototype.d=function(){Nm.e.d.call(this);this.a().className="unisubs-videoControls";this.D(new vs(this.g),true);this.D(new ws(this.g),true);this.D(new As(this.g),true);this.D(new Bs(this.g),true)};function Bs(a){Q.call(this);this.g=a;this.qj=this.pi=false}y(Bs,Q);m=Bs.prototype;m.d=function(){var a=w(this.f().d,this.f());this.q=a("span","unisubs-volume");this.Bv=a("span");this.a().appendChild(this.Bv);this.rh=new Q;this.Ff=new Cs;this.rh.D(this.Ff,true);this.D(this.rh,true);this.rh.a().className="unisubs-volume-container"};m.i=function(){Bs.e.i.call(this);this.j().c(this.Ff,"change",this.Cv).c(this.Ff,Lk.Nj,this.Uu).c(this.a(),"mouseout",this.Kl).c(this.a(),"mouseover",this.Ll)};
m.Kl=function(a){if(this.pi&&a.relatedTarget&&!Rd(this.a(),a.relatedTarget)){this.pi=false;this.Ff.Lh||Ds(this)}};m.Uu=function(){this.pi||Ds(this)};m.Ll=function(){this.pi=true;if(!this.qj){this.qj=true;this.Ff.rb(this.g.Sc()*100);(new nj(this.rh.a(),0,100,100)).Ha(false)}};m.Cv=function(){this.g.mb(this.Ff.db()/100)};function Ds(a){if(a.qj){a.qj=false;(new nj(a.rh.a(),100,0,100)).Ha(false)}};function Cs(a){Q.call(this,a);this.jm("vertical")}y(Cs,Kk);Cs.prototype.X=l("unisubs-volume-slider");Cs.prototype.ok=function(){var a=this.a(),b=this.f().d("div","unisubs-volume-scrobbler");de(b,"button");a.appendChild(b);this.nb=b};var Dq={},Es;function Fs(){++Gs;this.id=Gs;this.wc=[];this.Rq=false}var Gs=0;Fs.prototype.add=function(a,b,c,d,f){a.length>0&&this.wc.push([a,b,c,Hs(this,d,f)])};function Is(a,b){if(!a.Rq){a.Rq=true;alert('Cannot complete automated translation. Error: "'+b.responseDetails+'".')}}
function Hs(a,b,c){b.length&&b[0].aj&&B(b,function(d){d.aj()});return function(d){b.length&&b[0].ki&&B(b,function(j){j.ki()});if(d){for(var f=[],g=0,h=d.length;g<h;g++)f.push(d[g].TranslatedText);c(f,b)}else{Is(a,d);c([],b,d.responseDetails)}}}Fs.prototype.start=function(){for(var a=0,b=this.wc.length;a<b;a++)Js.apply(null,this.wc[a])};var Ks=new T("https://api.microsofttranslator.com/V2/Ajax.svc/TranslateArray"),Ls=new pi(Ks,"oncomplete");
function Ms(a){return a==="zh-cn"?"zh-CHS":a==="zh-tw"?"zh-CHT":a==="nb"?"no":a}function Js(a,b,c,d){a=Mf(a);b=b?Ms(b):"";c=Ms(c);Ls.send({appId:"B97A24C0E08728B33D41E853C50D405E50E46563",texts:a,from:b,to:c},d,e())}function Ns(a,b,c,d){var f=[],g=[],h=new Fs;B(a,function(j){var n=j.Ue();f.push(n);g.push(j);if(200+4*f.length+2+f.join("").length>=1E4){f.pop();g.pop();h.add(f,b,c,g,d);if(n.length>1E4)f=g=[];else{f=[n];g=[j]}}});f.length&&h.add(f,b,c,g,d);h.start()}
function Os(){Es||(Es=new Vg(["ar","bg","ca","zh-cn","zh-tw","cs","da","nl","en","et","fi","fr","de","el","ht","he","hi","hu","id","it","ja","ko","lv","lt","nb","pl","pt","ro","ru","sk","sl","es","sv","th","tr","uk","vi",""]));var a;a:{a=arguments;var b=Es.contains,c=Es;if(typeof a.every=="function")a=a.every(b,c);else if(ia(a)||v(a))a=Ab(a,b,c);else{for(var d=ue(a),f=te(a),g=f.length,h=0;h<g;h++)if(!b.call(c,f[h],d&&d[h],a)){a=false;break a}a=true}}return a};function Up(a,b,c,d,f,g){Y.call(this,c);oo.na().start(true);this.Gg=a;this.ka=this.Da=d;this.cd=f;this.n=b;this.n.oc();this.fa=new Zo(this.g,new qo(this.cd.jd));this.Cc=false;this.he=true;this.Kd=new O(this);this.A=g;this.Cg=false;if(!Boolean(this.A))this.Cg=true;this.$d=false}y(Up,Vp);var Ps={gn:0,Ub:1};m=Up.prototype;
m.d=function(){Up.e.d.call(this);if((this.ag=false)&&!this.W&&this.a())this.W=gf(this);else if(!this.ag&&this.W){this.a()&&md(this.Tb,this.La+"-title-draggable");this.W.p();this.W=null}this.Nu();this.eg(Ps.gn)};m.Nu=function(){if(!ul("skipguidelines")){var a=this.A?Jj[this.A==2?"approval":"review"]:Jj.translate;if(a){a=new Ko(a);Po(this,a);this.uk=true;var b=this;ie(this.j(),a,"continue",function(){ed(function(){b.uk=false;Qo(b)})})}}};
m.Ok=function(a){a.preventDefault();var b=this;setTimeout(function(){So(b,false,true)},1500)};m.Jk=function(a){a.preventDefault();if(this.t==Ps.Ub){var b=false;B(this.gd.k.F,function(c){if(ao(c)==="")b=true});if(b===true){alert("You have untranslated captions. You must translate all captions in order to submit.");return false}else this.gd.k.Kc=true;So(this,true,false)}else this.eg(Ps.Ub)};m.ug=function(){if(this.A)if(this.Rc(this.la)!=="")return this.Cc;return this.Cc||!(uo(this.n.k)>0)};
m.i=function(){Vp.e.i.call(this);Lo=true;this.j().c(this.fa,"caption",this.nd);if(this.A&&!this.Cg){var a=this.n.so,b=this;if(this.A==2)a=this.n.qo;a.call(this.n,Ej,function(c){b.Ml(c)})}};m.Ml=function(a){this.la&&this.la.Ld&&this.la.Ld(a)};
m.lf=function(a,b){if(!this.$d){this.$d=true;var c=this.Rc(this.la);c!==""&&Gq(this.n,c);if(Cb(vo(this.n.k))&&!Fo(this.n.k)&&this.Pc){this.Cc=true;window.location=this.Pc}else if(Cb(vo(this.n.k))&&!this.Ak){this.$d=false;Fo(this.n.k)?Wo(this,a,b):Uo(this)}else{var d=this;this.L.Ec(true);this.n.Kb(function(f){Fq(f,function(){d.Fg(a)})},function(f){if(d.cb)vq(d.cb,f);else d.cb=uq(d.n.k,f,w(d.lf,d,a))},null,b)}}};m.Vg=function(a){this.bd(a)};
Y.prototype.w=function(a){if(a){Y.e.w.call(this,true);Fd(document).scrollTop=0}else this.ug()?Oo(this):To(this)};m=Up.prototype;m.Fg=function(){if(this.cb){this.cb.w(false);this.cb=null}gq();this.L.Ec(false);this.Cc=true;if(!this.Pc||pk())this.w(false);else window.location=this.Pc};m.m=function(){Up.e.m.call(this);this.n.p()};m.eg=function(a){this.Vg(a)};m.dh=function(a){this.Uc=a;this.la&&this.la.bh&&this.la.bh(a)};
m.bd=function(a){this.t=a;this.dh(false);Jq(this," the-translate-panel");var b=this.rl(),c=this.Qf;c.sc(true);c.D(b,true);c=b.kg();Ro(this,c);this.gh.sc(true);if(this.la&&this.la.Rc){var d=this.la.Rc();b&&b.Ld&&b.Ld(d)}this.Rh();this.la=b;this.Kd.c(c,Z.uh,this.ei).c(c,Z.Cj,this.Jk).c(c,Z.Kj,this.Ok).c(c,Z.Lj,this.Jo).c(c,Z.Um,this.Io);b=null;if(a==Ps.Ub)b="Back to Translation";if(b){dp(c,b);this.Kd.c(c,Z.yj,this.Eo)}a=this.g;if(this.aa){a.qi()||a.pause();if(a.ia()){a.U(0);Il(a,"");a.pause()}}var f=
this;jp(this.L,function(){return f.n.k.x.xmlToString(true,true)})};m.rl=function(){if(this.t==Ps.gn)return this.gd=new Qs(this.n.k,this.cd,this,this.A,this.n);else if(this.t==Ps.Ub)return new Aq(this.n.k,this.g,this.n,this.fa,this.cd,false,this.A,this)};m.Fm=function(){this.gd.Rd.Fm(this.cd.B,this.Da.B)};m.ai=k("n");m.ts=function(){this.Da.td();this.n.td(this.cd);ro(this.n.k);Y.e.w.call(this,false);var a=Tp(this.Gg,this.n,this.Da);a.uc(this.Gg);a.w(true)};
m.Rh=function(){if(this.la){this.la.p();this.la=null}this.Kd.Bc();if(this.Fe){this.Fe.p();this.Fe=null}};m.nd=function(a){if(a=a.caption){var b=this.gd.Rd.k.caption(lo(a));a=ao(b)!==""?ao(b):ao(a)}else a="";Il(this.g,a)};m.Vc=function(){return this.n.k.x.xmlToString(true,true)};function Qs(a,b,c,d,f){this.k=a;this.cd=b;Q.call(this);this.Ne=null;this.M=c;this.A=d;this.n=f;this.kb=2;this.ib=0}y(Qs,Q);m=Qs.prototype;m.ha=k("Ne");m.d=function(){Qs.e.d.call(this);var a=this.a(),b=w(this.f().d,this.f());a.appendChild(this.Ne=b("div"));this.Rd=new Rs(this.k,this.cd.jd,this.cd.Ah,this.M);this.D(this.Rd,true);if(this.Rd.k.vg)this.Rd.a().className="unisubs-titlesList isRTL";else this.Rd.a().className="unisubs-titlesList"};m.kg=function(){if(!this.L)this.L=this.Vf();return this.L};
m.Vf=function(){var a=w(this.f().d,this.f());if(a=np(a,this.A,this.kb,this.ib,false))this.Ka=a.bodyInput;else{a=this.k.gr>0?"Editing Translation":"Adding a New Translation";w(this.f().d,this.f());a={helpContents:new lp(a,["Thanks for volunteering to translate! Your translation will be available to everyone  watching the video in our widget.","Please translate each line, one by one, in the white  space below each line.","If you need to rearrange the order of words or split a phrase differently, that's okay.",
'As you\'re translating, you can use the "TAB" key to advance to the next line, and "Shift-TAB" to go back.'],this.kb,this.ib),extraHelp:[["Google Translate","http://translate.google.com/"],["List of dictionaries","http://yourdictionary.com/languages.html"],["Firefox spellcheck dictionaries","https://addons.mozilla.org/en-US/firefox/browse/type:3"]]}}return new Ss(this.M,this.n,a.helpContents,a.extraHelp,[],false,"Done?","Next step: Title & Description","Resources for Translators",this.A)};
m.Rc=function(){if(this.Ka)return this.Ka.value;return null};m.Ld=function(a){if(this.Ka){this.Ka.value=a;return true}return null};function Rs(a,b,c,d){Q.call(this);this.k=a;this.bw=c||"";this.M=d;this.Ig=new window.AmaraDFXPParser;this.Ig.init(b);this.Gq=[];this.Af=null}y(Rs,Q);Rs.prototype.d=function(){bf(this,this.f().d("ul"));var a,b=Eo(this.k);B(this.Ig.getSubtitles(),function(c,d){var f=b[d]||this.k.x.getSubtitleByIndex(d);f||(f=wo(this.k,c,this.Ig,d));a=new Ts(c,f,this.M,this.Ig);this.D(a,true);this.Gq.push(a)},this)};Rs.prototype.qv=function(a,b,c){c||B(a,function(d,f){b[f].mm(d)})};
Rs.prototype.Fm=function(a,b){var c=[];this.Af&&this.Af.Lb()&&c.push(this.Af);B(this.Gq,function(d){d.Lb()&&c.push(d)});c.length&&Ns(c,a,b,this.qv)};Rs.prototype.nd=function(a){Il(this.M.g,a.caption?ao(a.caption):"")};function Ts(a,b,c,d){Q.call(this);this.wa=a;this.M=c;this.N=this.M.g.u.N||"";this.kh=b;this.sk=d}y(Ts,Q);m=Ts.prototype;m.Fk=k("wa");m.Ue=function(){return this.sk.content(this.wa)};
m.d=function(){var a=w(this.f().d,this.f()),b=this.kh.H();this.q=a("li",null,a("div",null,a("span",{className:"unisubs-timestamp-time-fixed"},nk(b)),this.mu=a("span","unisubs-title unisubs-title-notime",""),this.Hd=a("span","unisubs-loading-indicator","loading...")),this.Sa=a("textarea","unisubs-translateField"));this.mu.innerHTML=this.sk.markdownToHTML(this.Ue());this.j().c(this.Sa,"keyup",w(this.bt,this,true)).c(this.Sa,"blur",w(this.Ad,this,true)).c(this.Sa,"focus",this.at);Us(this,this.kh?ao(this.kh):
"")};m.at=function(){this.Jl=this.Sa.value;Il(this.M.g,this.Jl||this.Ue())};m.bt=function(){this.$t=this.Sa.value;Il(this.M.g,this.$t||this.Ue())};m.Ad=function(a){var b=wa(this.Sa.value),c=b!=this.Jl;a&&c&&this.Jl==""&&yo(oo.na(),lo(this.kh));$n(this.kh,b);Il(this.M.g,"")};m.mm=function(a){Us(this,a);this.Ad(false)};m.Dc=function(a){this.Sa.disabled=!a;a||Us(this,"")};function Us(a,b){a.Sa.value=b}Ts.prototype.Lb=function(){return!wa(this.Sa.value)};Ts.prototype.aj=function(){jl(this.Hd,true)};
Ts.prototype.ki=function(){jl(this.Hd,false)};function Cq(a,b){Q.call(this);this.Np=a||"";this.k=b}y(Cq,Q);m=Cq.prototype;m.d=function(){var a=w(this.f().d,this.f());this.q=a("li",null,a("div",null,a("span","unisubs-description unisubs-description-notime",a("span","meta","Description: "),this.Np),this.Hd=a("span","unisubs-loading-indicator","loading...")),this.Sa=a("textarea",{"class":"unisubs-translateField unisubs-descriptionField"+(this.k.vg?" is-rtl":""),rows:"10"}));this.j().c(this.Sa,"blur",this.Ad)};m.aj=function(){jl(this.Hd,true)};
m.ki=function(){jl(this.Hd,false)};m.Ue=k("Np");m.Lb=function(){return!wa(this.Sa.value)};m.qf=function(a){this.Sa.value=a;this.Ad()};m.mm=Cq.prototype.qf;m.Ad=function(){this.k.description=this.Sa.value};function Ss(a,b,c,d,f,g,h,j,n,o){cp.call(this,b,c,d,f,g,h,j);this.ls=n;this.M=a;this.tg=o;this.cj=true}y(Ss,cp);m=Ss.prototype;
m.un=function(a,b){if(!this.tg){var c=a("div","unisubs-extra unisubs-translationResources");c.appendChild(a("h3",{className:"unisubs-resources"},this.ls));for(var d=a("ul",{className:"unisubs-resourceList"}),f=0;f<this.je.length;f++)d.appendChild(a("li",{className:"unisubs-resource"},a("a",{target:"_blank",href:this.je[f][1],className:"unisubs-resourceLink"},this.je[f][0])));c.appendChild(d);b.appendChild(c);this.Wj=a("a",{href:"#"},"Auto-translate empty fields");this.gk=a("a",{href:"#"},"Convert to Timed Subtitles");
c=Os(this.M.cd.B,this.M.Da.B);d=a("ul","unisubs-translationOptions");c&&d.appendChild(a("li","unisubs-autoTranslate",this.Wj,a("span",null," (using bing)")));Dj=="on"&&d.appendChild(a("li","unisubs-changeTiming",this.gk,a("span",null," (advanced)")));b.appendChild(d)}};m.Uj=e();m.i=function(){Ss.e.i.call(this);var a=this.j();this.gk&&a.c(this.gk,"click",this.Fr);this.Wj&&a.c(this.Wj,"click",this.qr)};m.qr=function(a){a.preventDefault();this.M.Fm()};
m.Fr=function(a){a.preventDefault();a=this.M;(new Vs(w(a.ts,a))).w(true)};function Vs(a){R.call(this,"unisubs-forkdialog",true);qf(this,null);this.zb=true;this.yk=a}y(Vs,R);
Vs.prototype.d=function(){Vs.e.d.call(this);var a=w(this.f().d,this.f());this.a().appendChild(a("div",null,a("h3",null,"Convert to Timed Subtitles"),a("p",null,"You are about to convert this translation to Timed Subtitles. Please note:"),a("ul",null,a("li",null,"You will no longer be able to see the language you were translating from."),a("li",null,"Any untranslated lines will be blank."),a("li",null,"You will not be able to undo this action.")),a("p",null,a("strong",null,"ARE YOU SURE you want to continue?"))));
this.Jc=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"Cancel");this.Pa=a("a",{href:"#",className:"unisubs-green-button unisubs-big"},"Continue");this.a().appendChild(this.Jc);this.a().appendChild(this.Pa);a=a("div");V(a,"clear","both");a.innerHTML="&nbsp;";this.a().appendChild(a)};Vs.prototype.i=function(){Vs.e.i.call(this);this.j().c(this.Pa,"click",this.$b).c(this.Jc,"click",this.$b)};Vs.prototype.$b=function(a){a.preventDefault();this.w(false);a.target==this.Pa&&this.yk()};function Bq(a,b){Q.call(this);this.Op=a||"";this.k=b}y(Bq,Q);m=Bq.prototype;m.d=function(){var a=w(this.f().d,this.f());this.q=a("li",null,a("div",null,a("span","unisubs-title unisubs-title-notime",a("span","meta","Title: "),this.Op),this.Hd=a("span","unisubs-loading-indicator","loading...")),this.Sa=a("textarea","unisubs-translateField"+(this.k.vg?" is-rtl":"")));this.j().c(this.Sa,"blur",this.Ad)};m.aj=function(){jl(this.Hd,true)};m.ki=function(){jl(this.Hd,false)};m.Ue=k("Op");m.Lb=function(){return!wa(this.Sa.value)};
m.qf=function(a){this.Sa.value=a;this.Ad()};m.mm=Bq.prototype.qf;m.Ad=function(){this.k.title=this.Sa.value};function Ws(a){this.fw=a;this.Fu=a.save;this.Ii=a.permalink;this.ut=a.login;this.es=a.embedCode}m=Ws.prototype;m.oc=e();m.Kb=function(a,b,c){this.Fu(a,b,c)};m.p=e();m.zo=k("es");m.Xn=function(){return Hj};m.kp=function(){this.ut()};m.xd=k("Ii");function Xs(a){Gj=Fj;if(a.staticURL)Fj.staticURL=a.staticURL;var b=a.subtitles,c=a.closeListener,d=new nm(a.videoURL,"Ogg"),f=new Ws(a),g=new Vp(d,f,new pp({},b),null,a.skipFinished);Hj=a.username;g.w(true);Nc(g,of,c);return{close:function(){g.w(false)}}}
function Ys(a,b,c){iq(c);if(b.returnURL)Ij=b.returnURL;if(b.guidelines)Jj=b.guidelines;if(b.team_url)Kj=b.team_url;if(b.mode)Lj=b.mode;if(b.task)Ej=b.task;Wj=!!b.nullWidget;c=mm(b.effectiveVideoURL);c=new zp(b.videoID,b.videoURL,c);a?c.iq():c.openDialog(new Mp(b.languageCode,b.originalLanguageCode,b.subLanguagePK,b.baseLanguageCode))}function Zs(a,b,c){iq(c);c=mm(b);(new zp(a,b,c)).iq()}
function $s(a){jk("fetch_video_id_and_settings",{video_url:a},function(b){Ys(true,{videoURL:a,effectiveVideoURL:a,videoID:b.video_id,originalLanguageSubtitled:b.is_original_language_subtitled,baseVersionNo:null},b.general_settings)})}function at(a){kk(a)}function bt(a,b){Gj=Fj;(new jq(b)).pa(vd(a))}ca("unisubs.api.openDialog",Xs,undefined);ca("unisubs.api.openUnisubsDialogWithSettings",Ys,undefined);
ca("unisubs.api.openUnisubsDialogForResume",function(a,b){iq(b);if(a.returnURL)Ij=a.returnURL;b=mm(a.effectiveVideoURL);a=new zp(a.videoID,a.videoURL,b);b=Ap();Ip(a,Bp(b),b.Gi)},undefined);ca("unisubs.api.openUnisubsDialog",$s,undefined);ca("unisubs.api.openUnisubsDialogOnsite",Zs,undefined);ca("unisubs.api.toSRT",rq,undefined);ca("unisubs.api.loggedIn",at,undefined);ca("unisubs.api.embed",bt,undefined);ca("mirosubs.api.embed",bt,undefined);ca("mirosubs.api.openDialog",Xs,undefined);
ca("mirosubs.api.openUnisubsDialogWithSettings",Ys,undefined);ca("mirosubs.api.openUnisubsDialog",$s,undefined);ca("mirosubs.api.openUnisubsDialogOnsite",Zs,undefined);ca("mirosubs.api.toSRT",rq,undefined);ca("mirosubs.api.loggedIn",at,undefined);ca("mirosubs.api.embed",bt,undefined);ca("unisubs.widget.fireKeySequence",rj,undefined);ca("mirosubs.widget.fireKeySequence",rj,undefined);window.UnisubsApiLoaded=true;})();
/*unisubs.static_version="1cb38a99"*/